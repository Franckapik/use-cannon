import React, { useState, useRef, useEffect, useMemo } from 'react'
import 'three'
import { useThree } from 'react-three-fiber'
import { context } from './index.js'

function decodeBase64(base64, enableUnicode) {
  var binaryString = atob(base64)
  if (enableUnicode) {
    var binaryView = new Uint8Array(binaryString.length)
    for (var i = 0, n = binaryString.length; i < n; ++i) {
      binaryView[i] = binaryString.charCodeAt(i)
    }
    return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer))
  }
  return binaryString
}

function createURL(base64, sourcemapArg, enableUnicodeArg) {
  var sourcemap = sourcemapArg === undefined ? null : sourcemapArg
  var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg
  var source = decodeBase64(base64, enableUnicode)
  var start = source.indexOf('\n', 10) + 1
  var body = source.substring(start) + (sourcemap ? '//# sourceMappingURL=' + sourcemap : '')
  var blob = new Blob([body], { type: 'application/javascript' })
  return URL.createObjectURL(blob)
}

function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {
  var url
  return function WorkerFactory(options) {
    url = url || createURL(base64, sourcemapArg, enableUnicodeArg)
    return new Worker(url, options)
  }
}

var WorkerFactory = createBase64WorkerFactory(
  'Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKioNCiAqIFJlY29yZHMgd2hhdCBvYmplY3RzIGFyZSBjb2xsaWRpbmcgd2l0aCBlYWNoIG90aGVyDQogKiBAY2xhc3MgT2JqZWN0Q29sbGlzaW9uTWF0cml4DQogKiBAY29uc3RydWN0b3INCiAqLwovKioNCiAqIEEgM3gzIG1hdHJpeC4NCiAqIEBjbGFzcyBNYXQzDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnRzIEEgdmVjdG9yIG9mIGxlbmd0aCA5LCBjb250YWluaW5nIGFsbCBtYXRyaXggZWxlbWVudHMuIE9wdGlvbmFsLg0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKi8KCgpjbGFzcyBNYXQzIHsKICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSkgewogICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzOwogIH0KICAvKioNCiAgICogU2V0cyB0aGUgbWF0cml4IHRvIGlkZW50aXR5DQogICAqIEBtZXRob2QgaWRlbnRpdHkNCiAgICogQHRvZG8gU2hvdWxkIHBlcmhhcHMgYmUgcmVuYW1lZCB0byBzZXRJZGVudGl0eSgpIHRvIGJlIG1vcmUgY2xlYXIuDQogICAqIEB0b2RvIENyZWF0ZSBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgaW1tZWRpYXRlbHkgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXggZWcuIGV5ZSgpDQogICAqLwoKCiAgaWRlbnRpdHkoKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGVbMF0gPSAxOwogICAgZVsxXSA9IDA7CiAgICBlWzJdID0gMDsKICAgIGVbM10gPSAwOwogICAgZVs0XSA9IDE7CiAgICBlWzVdID0gMDsKICAgIGVbNl0gPSAwOwogICAgZVs3XSA9IDA7CiAgICBlWzhdID0gMTsKICB9CiAgLyoqDQogICAqIFNldCBhbGwgZWxlbWVudHMgdG8gemVybw0KICAgKiBAbWV0aG9kIHNldFplcm8NCiAgICovCgoKICBzZXRaZXJvKCkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzBdID0gMDsKICAgIGVbMV0gPSAwOwogICAgZVsyXSA9IDA7CiAgICBlWzNdID0gMDsKICAgIGVbNF0gPSAwOwogICAgZVs1XSA9IDA7CiAgICBlWzZdID0gMDsKICAgIGVbN10gPSAwOwogICAgZVs4XSA9IDA7CiAgfQogIC8qKg0KICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzMNCiAgICogQG1ldGhvZCBzZXRUcmFjZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHZlYzMNCiAgICovCgoKICBzZXRUcmFjZSh2ZWN0b3IpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgZVswXSA9IHZlY3Rvci54OwogICAgZVs0XSA9IHZlY3Rvci55OwogICAgZVs4XSA9IHZlY3Rvci56OwogIH0KICAvKioNCiAgICogR2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzDQogICAqIEBtZXRob2QgZ2V0VHJhY2UNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBnZXRUcmFjZSh0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIHRhcmdldC54ID0gZVswXTsKICAgIHRhcmdldC55ID0gZVs0XTsKICAgIHRhcmdldC56ID0gZVs4XTsKICB9CiAgLyoqDQogICAqIE1hdHJpeC1WZWN0b3IgbXVsdGlwbGljYXRpb24NCiAgICogQG1ldGhvZCB2bXVsdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHYgVGhlIHZlY3RvciB0byBtdWx0aXBseSB3aXRoDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKi8KCgogIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgY29uc3QgeCA9IHYueDsKICAgIGNvbnN0IHkgPSB2Lnk7CiAgICBjb25zdCB6ID0gdi56OwogICAgdGFyZ2V0LnggPSBlWzBdICogeCArIGVbMV0gKiB5ICsgZVsyXSAqIHo7CiAgICB0YXJnZXQueSA9IGVbM10gKiB4ICsgZVs0XSAqIHkgKyBlWzVdICogejsKICAgIHRhcmdldC56ID0gZVs2XSAqIHggKyBlWzddICogeSArIGVbOF0gKiB6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb24NCiAgICogQG1ldGhvZCBzbXVsdA0KICAgKiBAcGFyYW0ge051bWJlcn0gcw0KICAgKi8KCgogIHNtdWx0KHMpIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmVsZW1lbnRzW2ldICo9IHM7CiAgICB9CiAgfQogIC8qKg0KICAgKiBNYXRyaXggbXVsdGlwbGljYXRpb24NCiAgICogQG1ldGhvZCBtbXVsdA0KICAgKiBAcGFyYW0ge01hdDN9IG1hdHJpeCBNYXRyaXggdG8gbXVsdGlwbHkgd2l0aCBmcm9tIGxlZnQgc2lkZS4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHJlc3VsdC4NCiAgICovCgoKICBtbXVsdChtYXRyaXgsIHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgIGNvbnN0IHsKICAgICAgZWxlbWVudHMKICAgIH0gPSBtYXRyaXg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICBsZXQgc3VtID0gMC4wOwoKICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykgewogICAgICAgICAgc3VtICs9IGVsZW1lbnRzW2kgKyBrICogM10gKiB0aGlzLmVsZW1lbnRzW2sgKyBqICogM107CiAgICAgICAgfQoKICAgICAgICB0YXJnZXQuZWxlbWVudHNbaSArIGogKiAzXSA9IHN1bTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4DQogICAqIEBtZXRob2Qgc2NhbGUNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuDQogICAqLwoKCiAgc2NhbGUodmVjdG9yLCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGNvbnN0IHQgPSB0YXJnZXQuZWxlbWVudHM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykgewogICAgICB0WzMgKiBpICsgMF0gPSB2ZWN0b3IueCAqIGVbMyAqIGkgKyAwXTsKICAgICAgdFszICogaSArIDFdID0gdmVjdG9yLnkgKiBlWzMgKiBpICsgMV07CiAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTb2x2ZSBBeD1iDQogICAqIEBtZXRob2Qgc29sdmUNCiAgICogQHBhcmFtIHtWZWMzfSBiIFRoZSByaWdodCBoYW5kIHNpZGUNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7VmVjM30gVGhlIHNvbHV0aW9uIHgNCiAgICogQHRvZG8gc2hvdWxkIHJldXNlIGFycmF5cw0KICAgKi8KCgogIHNvbHZlKGIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICBjb25zdCBuYyA9IDQ7IC8vIG51bSBjb2xzCgogICAgY29uc3QgZXFucyA9IFtdOwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbnIgKiBuYzsgaSsrKSB7CiAgICAgIGVxbnMucHVzaCgwKTsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICB9CiAgICB9CgogICAgZXFuc1szICsgNCAqIDBdID0gYi54OwogICAgZXFuc1szICsgNCAqIDFdID0gYi55OwogICAgZXFuc1szICsgNCAqIDJdID0gYi56OyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICBsZXQgbiA9IDM7CiAgICBjb25zdCBrID0gbjsKICAgIGxldCBucDsKICAgIGNvbnN0IGtwID0gNDsgLy8gbnVtIHJvd3MKCiAgICBsZXQgcDsKCiAgICBkbyB7CiAgICAgIGkgPSBrIC0gbjsKCiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7CiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXMKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHsKICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAvLyBkbyBsaWduZSggaSApID0gbGlnbmUoIGkgKSArIGxpZ25lKCBrICkKICAgICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldICs9IGVxbnNbcCArIG5jICogal07CiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkgewogICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKQogICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb24KCgogICAgdGFyZ2V0LnogPSBlcW5zWzIgKiBuYyArIDNdIC8gZXFuc1syICogbmMgKyAyXTsKICAgIHRhcmdldC55ID0gKGVxbnNbMSAqIG5jICsgM10gLSBlcW5zWzEgKiBuYyArIDJdICogdGFyZ2V0LnopIC8gZXFuc1sxICogbmMgKyAxXTsKICAgIHRhcmdldC54ID0gKGVxbnNbMCAqIG5jICsgM10gLSBlcW5zWzAgKiBuYyArIDJdICogdGFyZ2V0LnogLSBlcW5zWzAgKiBuYyArIDFdICogdGFyZ2V0LnkpIC8gZXFuc1swICogbmMgKyAwXTsKCiAgICBpZiAoaXNOYU4odGFyZ2V0LngpIHx8IGlzTmFOKHRhcmdldC55KSB8fCBpc05hTih0YXJnZXQueikgfHwgdGFyZ2V0LnggPT09IEluZmluaXR5IHx8IHRhcmdldC55ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueiA9PT0gSW5maW5pdHkpIHsKICAgICAgdGhyb3cgIkNvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9WyIgKyB0YXJnZXQudG9TdHJpbmcoKSArICJdLCBiPVsiICsgYi50b1N0cmluZygpICsgIl0sIEE9WyIgKyB0aGlzLnRvU3RyaW5nKCkgKyAiXSI7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCBhbiBlbGVtZW50IGluIHRoZSBtYXRyaXggYnkgaW5kZXguIEluZGV4IHN0YXJ0cyBhdCAwLCBub3QgMSEhIQ0KICAgKiBAbWV0aG9kIGUNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdw0KICAgKiBAcGFyYW0ge051bWJlcn0gY29sdW1uDQogICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBPcHRpb25hbC4gSWYgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudCB3aWxsIGJlIHNldCB0byB0aGlzIHZhbHVlLg0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHsKICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddOwogICAgfSBlbHNlIHsKICAgICAgLy8gU2V0IHZhbHVlCiAgICAgIHRoaXMuZWxlbWVudHNbY29sdW1uICsgMyAqIHJvd10gPSB2YWx1ZTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvcHkgYW5vdGhlciBtYXRyaXggaW50byB0aGlzIG1hdHJpeCBvYmplY3QuDQogICAqIEBtZXRob2QgY29weQ0KICAgKiBAcGFyYW0ge01hdDN9IHNvdXJjZQ0KICAgKiBAcmV0dXJuIHtNYXQzfSB0aGlzDQogICAqLwoKCiAgY29weShtYXRyaXgpIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBtYXRyaXguZWxlbWVudHNbaV07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguDQogICAqIEBtZXRob2QgdG9TdHJpbmcNCiAgICogQHJldHVybiBzdHJpbmcNCiAgICovCgoKICB0b1N0cmluZygpIHsKICAgIGxldCByID0gJyc7CiAgICBjb25zdCBzZXAgPSAnLCc7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHsKICAgICAgciArPSB0aGlzLmVsZW1lbnRzW2ldICsgc2VwOwogICAgfQoKICAgIHJldHVybiByOwogIH0KICAvKioNCiAgICogcmV2ZXJzZSB0aGUgbWF0cml4DQogICAqIEBtZXRob2QgcmV2ZXJzZQ0KICAgKiBAcGFyYW0ge01hdDN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLg0KICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgc29sdXRpb24geA0KICAgKi8KCgogIHJldmVyc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgLy8gQ29uc3RydWN0IGVxdWF0aW9ucwogICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93cwoKICAgIGNvbnN0IG5jID0gNjsgLy8gbnVtIGNvbHMKCiAgICBjb25zdCBlcW5zID0gW107CiAgICBsZXQgaTsKICAgIGxldCBqOwoKICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHsKICAgICAgZXFucy5wdXNoKDApOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgZm9yIChqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07CiAgICAgIH0KICAgIH0KCiAgICBlcW5zWzMgKyA2ICogMF0gPSAxOwogICAgZXFuc1szICsgNiAqIDFdID0gMDsKICAgIGVxbnNbMyArIDYgKiAyXSA9IDA7CiAgICBlcW5zWzQgKyA2ICogMF0gPSAwOwogICAgZXFuc1s0ICsgNiAqIDFdID0gMTsKICAgIGVxbnNbNCArIDYgKiAyXSA9IDA7CiAgICBlcW5zWzUgKyA2ICogMF0gPSAwOwogICAgZXFuc1s1ICsgNiAqIDFdID0gMDsKICAgIGVxbnNbNSArIDYgKiAyXSA9IDE7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvbgoKICAgIGxldCBuID0gMzsKICAgIGNvbnN0IGsgPSBuOwogICAgbGV0IG5wOwogICAgY29uc3Qga3AgPSBuYzsgLy8gbnVtIHJvd3MKCiAgICBsZXQgcDsKCiAgICBkbyB7CiAgICAgIGkgPSBrIC0gbjsKCiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7CiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXMKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHsKICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrICkKICAgICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldICs9IGVxbnNbcCArIG5jICogal07CiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkgewogICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgLy8gZG8gbGluZSggayApID0gbGluZSggayApIC0gbXVsdGlwbGllciAqIGxpbmUoIGkgKQogICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gd2hpbGUgKC0tbik7IC8vIGVsaW1pbmF0ZSB0aGUgdXBwZXIgbGVmdCB0cmlhbmdsZSBvZiB0aGUgbWF0cml4CgoKICAgIGkgPSAyOwoKICAgIGRvIHsKICAgICAgaiA9IGkgLSAxOwoKICAgICAgZG8gewogICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICBucCA9IG5jOwoKICAgICAgICBkbyB7CiAgICAgICAgICBwID0gbmMgLSBucDsKICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgIH0gd2hpbGUgKGotLSk7CiAgICB9IHdoaWxlICgtLWkpOyAvLyBvcGVyYXRpb25zIG9uIHRoZSBkaWFnb25hbAoKCiAgICBpID0gMjsKCiAgICBkbyB7CiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgbnAgPSBuYzsKCiAgICAgIGRvIHsKICAgICAgICBwID0gbmMgLSBucDsKICAgICAgICBlcW5zW3AgKyBuYyAqIGldID0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgfSB3aGlsZSAoaS0tKTsKCiAgICBpID0gMjsKCiAgICBkbyB7CiAgICAgIGogPSAyOwoKICAgICAgZG8gewogICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07CgogICAgICAgIGlmIChpc05hTihwKSB8fCBwID09PSBJbmZpbml0eSkgewogICAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCByZXZlcnNlISBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgICAgIH0KCiAgICAgICAgdGFyZ2V0LmUoaSwgaiwgcCk7CiAgICAgIH0gd2hpbGUgKGotLSk7CiAgICB9IHdoaWxlIChpLS0pOwoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIG1hdHJpeCBmcm9tIGEgcXVhdGVyaW9uDQogICAqIEBtZXRob2Qgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHENCiAgICovCgoKICBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpIHsKICAgIGNvbnN0IHggPSBxLng7CiAgICBjb25zdCB5ID0gcS55OwogICAgY29uc3QgeiA9IHEuejsKICAgIGNvbnN0IHcgPSBxLnc7CiAgICBjb25zdCB4MiA9IHggKyB4OwogICAgY29uc3QgeTIgPSB5ICsgeTsKICAgIGNvbnN0IHoyID0geiArIHo7CiAgICBjb25zdCB4eCA9IHggKiB4MjsKICAgIGNvbnN0IHh5ID0geCAqIHkyOwogICAgY29uc3QgeHogPSB4ICogejI7CiAgICBjb25zdCB5eSA9IHkgKiB5MjsKICAgIGNvbnN0IHl6ID0geSAqIHoyOwogICAgY29uc3QgenogPSB6ICogejI7CiAgICBjb25zdCB3eCA9IHcgKiB4MjsKICAgIGNvbnN0IHd5ID0gdyAqIHkyOwogICAgY29uc3Qgd3ogPSB3ICogejI7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGVbMyAqIDAgKyAwXSA9IDEgLSAoeXkgKyB6eik7CiAgICBlWzMgKiAwICsgMV0gPSB4eSAtIHd6OwogICAgZVszICogMCArIDJdID0geHogKyB3eTsKICAgIGVbMyAqIDEgKyAwXSA9IHh5ICsgd3o7CiAgICBlWzMgKiAxICsgMV0gPSAxIC0gKHh4ICsgenopOwogICAgZVszICogMSArIDJdID0geXogLSB3eDsKICAgIGVbMyAqIDIgKyAwXSA9IHh6IC0gd3k7CiAgICBlWzMgKiAyICsgMV0gPSB5eiArIHd4OwogICAgZVszICogMiArIDJdID0gMSAtICh4eCArIHl5KTsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogVHJhbnNwb3NlIHRoZSBtYXRyaXgNCiAgICogQG1ldGhvZCB0cmFuc3Bvc2UNCiAgICogQHBhcmFtICB7TWF0M30gdGFyZ2V0IE9wdGlvbmFsLiBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0Lg0KICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgdGFyZ2V0IE1hdDMsIG9yIGEgbmV3IE1hdDMgaWYgdGFyZ2V0IHdhcyBvbWl0dGVkLg0KICAgKi8KCgogIHRyYW5zcG9zZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICBjb25zdCBNdCA9IHRhcmdldC5lbGVtZW50czsKICAgIGNvbnN0IE0gPSB0aGlzLmVsZW1lbnRzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSAzOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDM7IGorKykgewogICAgICAgIE10WzMgKiBpICsgal0gPSBNWzMgKiBqICsgaV07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCn0KLyoqDQogKiAzLWRpbWVuc2lvbmFsIHZlY3Rvcg0KICogQGNsYXNzIFZlYzMNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtOdW1iZXJ9IHgNCiAqIEBwYXJhbSB7TnVtYmVyfSB5DQogKiBAcGFyYW0ge051bWJlcn0geg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQGV4YW1wbGUNCiAqICAgICBjb25zdCB2ID0gbmV3IFZlYzMoMSwgMiwgMyk7DQogKiAgICAgY29uc29sZS5sb2coJ3g9JyArIHYueCk7IC8vIHg9MQ0KICovCgoKY2xhc3MgVmVjMyB7CiAgY29uc3RydWN0b3IoeCA9IDAuMCwgeSA9IDAuMCwgeiA9IDAuMCkgewogICAgdGhpcy54ID0geDsKICAgIHRoaXMueSA9IHk7CiAgICB0aGlzLnogPSB6OwogIH0KICAvKioNCiAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3QNCiAgICogQG1ldGhvZCBjcm9zcw0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB0byBzYXZlIGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGNyb3NzKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgdnggPSB2ZWN0b3IueDsKICAgIGNvbnN0IHZ5ID0gdmVjdG9yLnk7CiAgICBjb25zdCB2eiA9IHZlY3Rvci56OwogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSB5ICogdnogLSB6ICogdnk7CiAgICB0YXJnZXQueSA9IHogKiB2eCAtIHggKiB2ejsKICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgdmVjdG9ycycgMyBlbGVtZW50cw0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge051bWJlcn0geA0KICAgKiBAcGFyYW0ge051bWJlcn0geQ0KICAgKiBAcGFyYW0ge051bWJlcn0geg0KICAgKiBAcmV0dXJuIFZlYzMNCiAgICovCgoKICBzZXQoeCwgeSwgeikgewogICAgdGhpcy54ID0geDsKICAgIHRoaXMueSA9IHk7CiAgICB0aGlzLnogPSB6OwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBTZXQgYWxsIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB0byB6ZXJvLg0KICAgKiBAbWV0aG9kIHNldFplcm8NCiAgICovCgoKICBzZXRaZXJvKCkgewogICAgdGhpcy54ID0gdGhpcy55ID0gdGhpcy56ID0gMDsKICB9CiAgLyoqDQogICAqIFZlY3RvciBhZGRpdGlvbg0KICAgKiBAbWV0aG9kIHZhZGQNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHZhZGQodmVjdG9yLCB0YXJnZXQpIHsKICAgIGlmICh0YXJnZXQpIHsKICAgICAgdGFyZ2V0LnggPSB2ZWN0b3IueCArIHRoaXMueDsKICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSArIHRoaXMueTsKICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiArIHRoaXMuejsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnksIHRoaXMueiArIHZlY3Rvci56KTsKICAgIH0KICB9CiAgLyoqDQogICAqIFZlY3RvciBzdWJ0cmFjdGlvbg0KICAgKiBAbWV0aG9kIHZzdWINCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2c3ViKHZlY3RvciwgdGFyZ2V0KSB7CiAgICBpZiAodGFyZ2V0KSB7CiAgICAgIHRhcmdldC54ID0gdGhpcy54IC0gdmVjdG9yLng7CiAgICAgIHRhcmdldC55ID0gdGhpcy55IC0gdmVjdG9yLnk7CiAgICAgIHRhcmdldC56ID0gdGhpcy56IC0gdmVjdG9yLno7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54IC0gdmVjdG9yLngsIHRoaXMueSAtIHZlY3Rvci55LCB0aGlzLnogLSB2ZWN0b3Iueik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGNyb3NzIHByb2R1Y3QgbWF0cml4IGFfY3Jvc3MgZnJvbSBhIHZlY3Rvciwgc3VjaCB0aGF0IGEgeCBiID0gYV9jcm9zcyAqIGIgPSBjDQogICAqIEBtZXRob2QgY3Jvc3NtYXQNCiAgICogQHNlZSBodHRwOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyL1REQkQyNC9WVDA2L2xlY3R1cmVzL0xlY3R1cmU2LnBkZg0KICAgKiBAcmV0dXJuIHtNYXQzfQ0KICAgKi8KCgogIGNyb3NzbWF0KCkgewogICAgcmV0dXJuIG5ldyBNYXQzKFswLCAtdGhpcy56LCB0aGlzLnksIHRoaXMueiwgMCwgLXRoaXMueCwgLXRoaXMueSwgdGhpcy54LCAwXSk7CiAgfQogIC8qKg0KICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuDQogICAqIEBtZXRob2Qgbm9ybWFsaXplDQogICAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyB0aGUgbm9ybSBvZiB0aGUgdmVjdG9yDQogICAqLwoKCiAgbm9ybWFsaXplKCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopOwoKICAgIGlmIChuID4gMC4wKSB7CiAgICAgIGNvbnN0IGludk4gPSAxIC8gbjsKICAgICAgdGhpcy54ICo9IGludk47CiAgICAgIHRoaXMueSAqPSBpbnZOOwogICAgICB0aGlzLnogKj0gaW52TjsKICAgIH0gZWxzZSB7CiAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwCiAgICAgIHRoaXMueCA9IDA7CiAgICAgIHRoaXMueSA9IDA7CiAgICAgIHRoaXMueiA9IDA7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhpcyB2ZWN0b3IgdGhhdCBpcyBvZiBsZW5ndGggMS4NCiAgICogQG1ldGhvZCB1bml0DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsIHRhcmdldCB0byBzYXZlIGluDQogICAqIEByZXR1cm4ge1ZlYzN9IFJldHVybnMgdGhlIHVuaXQgdmVjdG9yDQogICAqLwoKCiAgdW5pdCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICBsZXQgbmludiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopOwoKICAgIGlmIChuaW52ID4gMC4wKSB7CiAgICAgIG5pbnYgPSAxLjAgLyBuaW52OwogICAgICB0YXJnZXQueCA9IHggKiBuaW52OwogICAgICB0YXJnZXQueSA9IHkgKiBuaW52OwogICAgICB0YXJnZXQueiA9IHogKiBuaW52OwogICAgfSBlbHNlIHsKICAgICAgdGFyZ2V0LnggPSAxOwogICAgICB0YXJnZXQueSA9IDA7CiAgICAgIHRhcmdldC56ID0gMDsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhlIHZlY3Rvcg0KICAgKiBAbWV0aG9kIGxlbmd0aA0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgbGVuZ3RoKCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopOwogIH0KICAvKioNCiAgICogR2V0IHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWQNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGxlbmd0aFNxdWFyZWQoKSB7CiAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7CiAgfQogIC8qKg0KICAgKiBHZXQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQNCiAgICogQG1ldGhvZCBkaXN0YW5jZVRvDQogICAqIEBwYXJhbSAge1ZlYzN9IHANCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRpc3RhbmNlVG8ocCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgcHggPSBwLng7CiAgICBjb25zdCBweSA9IHAueTsKICAgIGNvbnN0IHB6ID0gcC56OwogICAgcmV0dXJuIE1hdGguc3FydCgocHggLSB4KSAqIChweCAtIHgpICsgKHB5IC0geSkgKiAocHkgLSB5KSArIChweiAtIHopICogKHB6IC0geikpOwogIH0KICAvKioNCiAgICogR2V0IHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQNCiAgICogQG1ldGhvZCBkaXN0YW5jZVNxdWFyZWQNCiAgICogQHBhcmFtICB7VmVjM30gcA0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgZGlzdGFuY2VTcXVhcmVkKHApIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHB4ID0gcC54OwogICAgY29uc3QgcHkgPSBwLnk7CiAgICBjb25zdCBweiA9IHAuejsKICAgIHJldHVybiAocHggLSB4KSAqIChweCAtIHgpICsgKHB5IC0geSkgKiAocHkgLSB5KSArIChweiAtIHopICogKHB6IC0geik7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB3aXRoIGEgc2NhbGFyLg0KICAgKiBAbWV0aG9kIHNjYWxlDQogICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXINCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgc2NhbGUoc2NhbGFyLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICB0YXJnZXQueCA9IHNjYWxhciAqIHg7CiAgICB0YXJnZXQueSA9IHNjYWxhciAqIHk7CiAgICB0YXJnZXQueiA9IHNjYWxhciAqIHo7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuDQogICAqIEBtZXRob2Qgdm11bHQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlY3Rvcg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2bXVsKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSB2ZWN0b3IueCAqIHRoaXMueDsKICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKiB0aGlzLnk7CiAgICB0YXJnZXQueiA9IHZlY3Rvci56ICogdGhpcy56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFNjYWxlIGEgdmVjdG9yIGFuZCBhZGQgaXQgdG8gdGhpcyB2ZWN0b3IuIFNhdmUgdGhlIHJlc3VsdCBpbiAidGFyZ2V0Ii4gKHRhcmdldCA9IHRoaXMgKyB2ZWN0b3IgKiBzY2FsYXIpDQogICAqIEBtZXRob2QgYWRkU2NhbGVkVmVjdG9yDQogICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXINCiAgICogQHBhcmFtIHtWZWMzfSB2ZWN0b3INCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgYWRkU2NhbGVkVmVjdG9yKHNjYWxhciwgdmVjdG9yLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54OwogICAgdGFyZ2V0LnkgPSB0aGlzLnkgKyBzY2FsYXIgKiB2ZWN0b3IueTsKICAgIHRhcmdldC56ID0gdGhpcy56ICsgc2NhbGFyICogdmVjdG9yLno7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogQ2FsY3VsYXRlIGRvdCBwcm9kdWN0DQogICAqIEBtZXRob2QgZG90DQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgZG90KHZlY3RvcikgewogICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuejsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgaXNaZXJvDQogICAqIEByZXR1cm4gYm9vbA0KICAgKi8KCgogIGlzWmVybygpIHsKICAgIHJldHVybiB0aGlzLnggPT09IDAgJiYgdGhpcy55ID09PSAwICYmIHRoaXMueiA9PT0gMDsKICB9CiAgLyoqDQogICAqIE1ha2UgdGhlIHZlY3RvciBwb2ludCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLg0KICAgKiBAbWV0aG9kIG5lZ2F0ZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIG5lZ2F0ZSh0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICB0YXJnZXQueCA9IC10aGlzLng7CiAgICB0YXJnZXQueSA9IC10aGlzLnk7CiAgICB0YXJnZXQueiA9IC10aGlzLno7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yDQogICAqIEBtZXRob2QgdGFuZ2VudHMNCiAgICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW4NCiAgICogQHBhcmFtIHtWZWMzfSB0MiBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIHNlY29uZCB0YW5nZW50IGluDQogICAqLwoKCiAgdGFuZ2VudHModDEsIHQyKSB7CiAgICBjb25zdCBub3JtID0gdGhpcy5sZW5ndGgoKTsKCiAgICBpZiAobm9ybSA+IDAuMCkgewogICAgICBjb25zdCBuID0gVmVjM190YW5nZW50c19uOwogICAgICBjb25zdCBpbm9ybSA9IDEgLyBub3JtOwogICAgICBuLnNldCh0aGlzLnggKiBpbm9ybSwgdGhpcy55ICogaW5vcm0sIHRoaXMueiAqIGlub3JtKTsKICAgICAgY29uc3QgcmFuZFZlYyA9IFZlYzNfdGFuZ2VudHNfcmFuZFZlYzsKCiAgICAgIGlmIChNYXRoLmFicyhuLngpIDwgMC45KSB7CiAgICAgICAgcmFuZFZlYy5zZXQoMSwgMCwgMCk7CiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmFuZFZlYy5zZXQoMCwgMSwgMCk7CiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7CiAgICAgIH0KCiAgICAgIG4uY3Jvc3ModDEsIHQyKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFRoZSBub3JtYWwgbGVuZ3RoIGlzIHplcm8sIG1ha2Ugc29tZXRoaW5nIHVwCiAgICAgIHQxLnNldCgxLCAwLCAwKTsKICAgICAgdDIuc2V0KDAsIDEsIDApOwogICAgfQogIH0KICAvKioNCiAgICogQ29udmVydHMgdG8gYSBtb3JlIHJlYWRhYmxlIGZvcm1hdA0KICAgKiBAbWV0aG9kIHRvU3RyaW5nDQogICAqIEByZXR1cm4gc3RyaW5nDQogICAqLwoKCiAgdG9TdHJpbmcoKSB7CiAgICByZXR1cm4gdGhpcy54ICsgIiwiICsgdGhpcy55ICsgIiwiICsgdGhpcy56OwogIH0KICAvKioNCiAgICogQ29udmVydHMgdG8gYW4gYXJyYXkNCiAgICogQG1ldGhvZCB0b0FycmF5DQogICAqIEByZXR1cm4gQXJyYXkNCiAgICovCgoKICB0b0FycmF5KCkgewogICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56XTsKICB9CiAgLyoqDQogICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuDQogICAqIEBtZXRob2QgY29weQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHNvdXJjZQ0KICAgKiBAcmV0dXJuIHtWZWMzfSB0aGlzDQogICAqLwoKCiAgY29weSh2ZWN0b3IpIHsKICAgIHRoaXMueCA9IHZlY3Rvci54OwogICAgdGhpcy55ID0gdmVjdG9yLnk7CiAgICB0aGlzLnogPSB2ZWN0b3IuejsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogRG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWN0b3JzDQogICAqIEBtZXRob2QgbGVycA0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS4NCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQNCiAgICovCgoKICBsZXJwKHZlY3RvciwgdCwgdGFyZ2V0KSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICB0YXJnZXQueCA9IHggKyAodmVjdG9yLnggLSB4KSAqIHQ7CiAgICB0YXJnZXQueSA9IHkgKyAodmVjdG9yLnkgLSB5KSAqIHQ7CiAgICB0YXJnZXQueiA9IHogKyAodmVjdG9yLnogLSB6KSAqIHQ7CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLg0KICAgKiBAbWV0aG9kIGFsbW9zdEVxdWFscw0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvbg0KICAgKiBAcmV0dXJuIGJvb2wNCiAgICovCgoKICBhbG1vc3RFcXVhbHModmVjdG9yLCBwcmVjaXNpb24gPSAxZS02KSB7CiAgICBpZiAoTWF0aC5hYnModGhpcy54IC0gdmVjdG9yLngpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueSAtIHZlY3Rvci55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnogLSB2ZWN0b3IueikgPiBwcmVjaXNpb24pIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgaXMgYWxtb3N0IHplcm8NCiAgICogQG1ldGhvZCBhbG1vc3RaZXJvDQogICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24NCiAgICovCgoKICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHsKICAgIGlmIChNYXRoLmFicyh0aGlzLngpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56KSA+IHByZWNpc2lvbikgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiB0aGUgdmVjdG9yIGlzIGFudGktcGFyYWxsZWwgdG8gYW5vdGhlciB2ZWN0b3IuDQogICAqIEBtZXRob2QgaXNBbnRpcGFyYWxsZWxUbw0KICAgKiBAcGFyYW0gIHtWZWMzfSAgdg0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwcmVjaXNpb24gU2V0IHRvIHplcm8gZm9yIGV4YWN0IGNvbXBhcmlzb25zDQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgaXNBbnRpcGFyYWxsZWxUbyh2ZWN0b3IsIHByZWNpc2lvbikgewogICAgdGhpcy5uZWdhdGUoYW50aXBfbmVnKTsKICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTsKICB9CiAgLyoqDQogICAqIENsb25lIHRoZSB2ZWN0b3INCiAgICogQG1ldGhvZCBjbG9uZQ0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopOwogIH0KCn0KClZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApOwpWZWMzLlVOSVRfWCA9IG5ldyBWZWMzKDEsIDAsIDApOwpWZWMzLlVOSVRfWSA9IG5ldyBWZWMzKDAsIDEsIDApOwpWZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpOwovKioNCiAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3Rvcg0KICogQG1ldGhvZCB0YW5nZW50cw0KICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW4NCiAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbg0KICovCgpjb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpOwpjb25zdCBWZWMzX3RhbmdlbnRzX3JhbmRWZWMgPSBuZXcgVmVjMygpOwpjb25zdCBhbnRpcF9uZWcgPSBuZXcgVmVjMygpOwovKioNCiAqIEF4aXMgYWxpZ25lZCBib3VuZGluZyBib3ggY2xhc3MuDQogKiBAY2xhc3MgQUFCQg0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMudXBwZXJCb3VuZF0gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3guDQogKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMubG93ZXJCb3VuZF0gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gNCiAqLwoKY2xhc3MgQUFCQiB7CiAgLy8gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAvLyBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveAogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5sb3dlckJvdW5kID0gbmV3IFZlYzMoKTsKICAgIHRoaXMudXBwZXJCb3VuZCA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkgewogICAgICB0aGlzLmxvd2VyQm91bmQuY29weShvcHRpb25zLmxvd2VyQm91bmQpOwogICAgfQoKICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHsKICAgICAgdGhpcy51cHBlckJvdW5kLmNvcHkob3B0aW9ucy51cHBlckJvdW5kKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuDQogICAqIEBtZXRob2Qgc2V0RnJvbVBvaW50cw0KICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgQW4gYXJyYXkgb2YgVmVjMydzLg0KICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIE9wdGlvbmFsLg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRlcm5pb24gT3B0aW9uYWwuDQogICAqIEBwYXJhbSB7bnVtYmVyfSBza2luU2l6ZSBPcHRpb25hbC4NCiAgICogQHJldHVybiB7QUFCQn0gVGhlIHNlbGYgb2JqZWN0DQogICAqLwoKCiAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkgewogICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludAoKICAgIGwuY29weShwb2ludHNbMF0pOwoKICAgIGlmIChxKSB7CiAgICAgIHEudm11bHQobCwgbCk7CiAgICB9CgogICAgdS5jb3B5KGwpOwoKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwID0gcG9pbnRzW2ldOwoKICAgICAgaWYgKHEpIHsKICAgICAgICBxLnZtdWx0KHAsIHRtcCk7CiAgICAgICAgcCA9IHRtcDsKICAgICAgfQoKICAgICAgaWYgKHAueCA+IHUueCkgewogICAgICAgIHUueCA9IHAueDsKICAgICAgfQoKICAgICAgaWYgKHAueCA8IGwueCkgewogICAgICAgIGwueCA9IHAueDsKICAgICAgfQoKICAgICAgaWYgKHAueSA+IHUueSkgewogICAgICAgIHUueSA9IHAueTsKICAgICAgfQoKICAgICAgaWYgKHAueSA8IGwueSkgewogICAgICAgIGwueSA9IHAueTsKICAgICAgfQoKICAgICAgaWYgKHAueiA+IHUueikgewogICAgICAgIHUueiA9IHAuejsKICAgICAgfQoKICAgICAgaWYgKHAueiA8IGwueikgewogICAgICAgIGwueiA9IHAuejsKICAgICAgfQogICAgfSAvLyBBZGQgb2Zmc2V0CgoKICAgIGlmIChwb3NpdGlvbikgewogICAgICBwb3NpdGlvbi52YWRkKGwsIGwpOwogICAgICBwb3NpdGlvbi52YWRkKHUsIHUpOwogICAgfQoKICAgIGlmIChza2luU2l6ZSkgewogICAgICBsLnggLT0gc2tpblNpemU7CiAgICAgIGwueSAtPSBza2luU2l6ZTsKICAgICAgbC56IC09IHNraW5TaXplOwogICAgICB1LnggKz0gc2tpblNpemU7CiAgICAgIHUueSArPSBza2luU2l6ZTsKICAgICAgdS56ICs9IHNraW5TaXplOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ29weSBib3VuZHMgZnJvbSBhbiBBQUJCIHRvIHRoaXMgQUFCQg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tDQogICAqIEByZXR1cm4ge0FBQkJ9IFRoZSB0aGlzIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eQ0KICAgKi8KCgogIGNvcHkoYWFiYikgewogICAgdGhpcy5sb3dlckJvdW5kLmNvcHkoYWFiYi5sb3dlckJvdW5kKTsKICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KGFhYmIudXBwZXJCb3VuZCk7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENsb25lIGFuIEFBQkINCiAgICogQG1ldGhvZCBjbG9uZQ0KICAgKi8KCgogIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyBBQUJCKCkuY29weSh0aGlzKTsKICB9CiAgLyoqDQogICAqIEV4dGVuZCB0aGlzIEFBQkIgc28gdGhhdCBpdCBjb3ZlcnMgdGhlIGdpdmVuIEFBQkIgdG9vLg0KICAgKiBAbWV0aG9kIGV4dGVuZA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqLwoKCiAgZXh0ZW5kKGFhYmIpIHsKICAgIHRoaXMubG93ZXJCb3VuZC54ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC54KTsKICAgIHRoaXMudXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC54KTsKICAgIHRoaXMubG93ZXJCb3VuZC55ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnksIGFhYmIubG93ZXJCb3VuZC55KTsKICAgIHRoaXMudXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnksIGFhYmIudXBwZXJCb3VuZC55KTsKICAgIHRoaXMubG93ZXJCb3VuZC56ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosIGFhYmIubG93ZXJCb3VuZC56KTsKICAgIHRoaXMudXBwZXJCb3VuZC56ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnosIGFhYmIudXBwZXJCb3VuZC56KTsKICB9CiAgLyoqDQogICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuDQogICAqIEBtZXRob2Qgb3ZlcmxhcHMNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIG92ZXJsYXBzKGFhYmIpIHsKICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MgogICAgLy8gICAgICB8LS0tLS0tLS0tfAogICAgLy8gfC0tLS0tLS0tfAogICAgLy8gbDEgICAgICAgdTEKCiAgICBjb25zdCBvdmVybGFwc1ggPSBsMi54IDw9IHUxLnggJiYgdTEueCA8PSB1Mi54IHx8IGwxLnggPD0gdTIueCAmJiB1Mi54IDw9IHUxLng7CiAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7CiAgICBjb25zdCBvdmVybGFwc1ogPSBsMi56IDw9IHUxLnogJiYgdTEueiA8PSB1Mi56IHx8IGwxLnogPD0gdTIueiAmJiB1Mi56IDw9IHUxLno7CiAgICByZXR1cm4gb3ZlcmxhcHNYICYmIG92ZXJsYXBzWSAmJiBvdmVybGFwc1o7CiAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZwoKCiAgdm9sdW1lKCkgewogICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICByZXR1cm4gKHUueCAtIGwueCkgKiAodS55IC0gbC55KSAqICh1LnogLSBsLnopOwogIH0KICAvKioNCiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIGlzIGZ1bGx5IGNvbnRhaW5lZCBpbiB0aGlzIEFBQkIuDQogICAqIEBtZXRob2QgY29udGFpbnMNCiAgICogQHBhcmFtIHtBQUJCfSBhYWJiDQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgY29udGFpbnMoYWFiYikgewogICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1MSA9IHRoaXMudXBwZXJCb3VuZDsKICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kOwogICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAvLyAgICAgIHwtLS0tLS0tLS18CiAgICAvLyB8LS0tLS0tLS0tLS0tLS0tfAogICAgLy8gbDEgICAgICAgICAgICAgIHUxCgogICAgcmV0dXJuIGwxLnggPD0gbDIueCAmJiB1MS54ID49IHUyLnggJiYgbDEueSA8PSBsMi55ICYmIHUxLnkgPj0gdTIueSAmJiBsMS56IDw9IGwyLnogJiYgdTEueiA+PSB1Mi56OwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXRDb3JuZXJzDQogICAqIEBwYXJhbSB7VmVjM30gYQ0KICAgKiBAcGFyYW0ge1ZlYzN9IGINCiAgICogQHBhcmFtIHtWZWMzfSBjDQogICAqIEBwYXJhbSB7VmVjM30gZA0KICAgKiBAcGFyYW0ge1ZlYzN9IGUNCiAgICogQHBhcmFtIHtWZWMzfSBmDQogICAqIEBwYXJhbSB7VmVjM30gZw0KICAgKiBAcGFyYW0ge1ZlYzN9IGgNCiAgICovCgoKICBnZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgYS5jb3B5KGwpOwogICAgYi5zZXQodS54LCBsLnksIGwueik7CiAgICBjLnNldCh1LngsIHUueSwgbC56KTsKICAgIGQuc2V0KGwueCwgdS55LCB1LnopOwogICAgZS5zZXQodS54LCBsLnksIHUueik7CiAgICBmLnNldChsLngsIHUueSwgbC56KTsKICAgIGcuc2V0KGwueCwgbC55LCB1LnopOwogICAgaC5jb3B5KHUpOwogIH0KICAvKioNCiAgICogR2V0IHRoZSByZXByZXNlbnRhdGlvbiBvZiBhbiBBQUJCIGluIGFub3RoZXIgZnJhbWUuDQogICAqIEBtZXRob2QgdG9Mb2NhbEZyYW1lDQogICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWUNCiAgICogQHBhcmFtICB7QUFCQn0gdGFyZ2V0DQogICAqIEByZXR1cm4ge0FBQkJ9IFRoZSAidGFyZ2V0IiBBQUJCIG9iamVjdC4NCiAgICovCgoKICB0b0xvY2FsRnJhbWUoZnJhbWUsIHRhcmdldCkgewogICAgY29uc3QgY29ybmVycyA9IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzOwogICAgY29uc3QgYSA9IGNvcm5lcnNbMF07CiAgICBjb25zdCBiID0gY29ybmVyc1sxXTsKICAgIGNvbnN0IGMgPSBjb3JuZXJzWzJdOwogICAgY29uc3QgZCA9IGNvcm5lcnNbM107CiAgICBjb25zdCBlID0gY29ybmVyc1s0XTsKICAgIGNvbnN0IGYgPSBjb3JuZXJzWzVdOwogICAgY29uc3QgZyA9IGNvcm5lcnNbNl07CiAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZQoKICAgIHRoaXMuZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKTsgLy8gVHJhbnNmb3JtIHRoZW0gdG8gbmV3IGxvY2FsIGZyYW1lCgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldOwogICAgICBmcmFtZS5wb2ludFRvTG9jYWwoY29ybmVyLCBjb3JuZXIpOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiB0aGUgZ2xvYmFsIGZyYW1lLg0KICAgKiBAbWV0aG9kIHRvV29ybGRGcmFtZQ0KICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lDQogICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgInRhcmdldCIgQUFCQiBvYmplY3QuDQogICAqLwoKCiAgdG9Xb3JsZEZyYW1lKGZyYW1lLCB0YXJnZXQpIHsKICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgY29uc3QgYiA9IGNvcm5lcnNbMV07CiAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgY29uc3QgZSA9IGNvcm5lcnNbNF07CiAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWUKCiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTsKICAgICAgZnJhbWUucG9pbnRUb1dvcmxkKGNvcm5lciwgY29ybmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiB0aGUgQUFCQiBpcyBoaXQgYnkgYSByYXkuDQogICAqIEBwYXJhbSAge1JheX0gcmF5DQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgb3ZlcmxhcHNSYXkocmF5KSB7CiAgICBjb25zdCB7CiAgICAgIGRpcmVjdGlvbiwKICAgICAgZnJvbQogICAgfSA9IHJheTsKICAgIGNvbnN0IGRpckZyYWNYID0gMSAvIGRpcmVjdGlvbi54OwogICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7CiAgICBjb25zdCBkaXJGcmFjWiA9IDEgLyBkaXJlY3Rpb24uejsgLy8gdGhpcy5sb3dlckJvdW5kIGlzIHRoZSBjb3JuZXIgb2YgQUFCQiB3aXRoIG1pbmltYWwgY29vcmRpbmF0ZXMgLSBsZWZ0IGJvdHRvbSwgcnQgaXMgbWF4aW1hbCBjb3JuZXIKCiAgICBjb25zdCB0MSA9ICh0aGlzLmxvd2VyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDsKICAgIGNvbnN0IHQyID0gKHRoaXMudXBwZXJCb3VuZC54IC0gZnJvbS54KSAqIGRpckZyYWNYOwogICAgY29uc3QgdDMgPSAodGhpcy5sb3dlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICBjb25zdCB0NCA9ICh0aGlzLnVwcGVyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTsKICAgIGNvbnN0IHQ1ID0gKHRoaXMubG93ZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOwogICAgY29uc3QgdDYgPSAodGhpcy51cHBlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7IC8vIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSk7CiAgICAvLyBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSkpOwoKICAgIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSwgTWF0aC5taW4odDUsIHQ2KSk7CiAgICBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSksIE1hdGgubWF4KHQ1LCB0NikpOyAvLyBpZiB0bWF4IDwgMCwgcmF5IChsaW5lKSBpcyBpbnRlcnNlY3RpbmcgQUFCQiwgYnV0IHdob2xlIEFBQkIgaXMgYmVoaW5nIHVzCgogICAgaWYgKHRtYXggPCAwKSB7CiAgICAgIC8vdCA9IHRtYXg7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gaWYgdG1pbiA+IHRtYXgsIHJheSBkb2Vzbid0IGludGVyc2VjdCBBQUJCCgoKICAgIGlmICh0bWluID4gdG1heCkgewogICAgICAvL3QgPSB0bWF4OwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKY29uc3QgdG1wID0gbmV3IFZlYzMoKTsKY29uc3QgdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07Ci8qKg0KICogQ29sbGlzaW9uICJtYXRyaXgiLiBJdCdzIGFjdHVhbGx5IGEgdHJpYW5ndWxhci1zaGFwZWQgYXJyYXkgb2Ygd2hldGhlciB0d28gYm9kaWVzIGFyZSB0b3VjaGluZyB0aGlzIHN0ZXAsIGZvciByZWZlcmVuY2UgbmV4dCBzdGVwDQogKiBAY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXgNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgpjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeCB7CiAgLy8gVGhlIG1hdHJpeCBzdG9yYWdlLgogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5tYXRyaXggPSBbXTsKICB9CiAgLyoqDQogICAqIEdldCBhbiBlbGVtZW50DQogICAqIEBtZXRob2QgZ2V0DQogICAqIEBwYXJhbSAge0JvZHl9IGkNCiAgICogQHBhcmFtICB7Qm9keX0gag0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgZ2V0KGJpLCBiaikgewogICAgbGV0IHsKICAgICAgaW5kZXg6IGkKICAgIH0gPSBiaTsKICAgIGxldCB7CiAgICAgIGluZGV4OiBqCiAgICB9ID0gYmo7CgogICAgaWYgKGogPiBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgcmV0dXJuIHRoaXMubWF0cml4WyhpICogKGkgKyAxKSA+PiAxKSArIGogLSAxXTsKICB9CiAgLyoqDQogICAqIFNldCBhbiBlbGVtZW50DQogICAqIEBtZXRob2Qgc2V0DQogICAqIEBwYXJhbSB7Qm9keX0gaQ0KICAgKiBAcGFyYW0ge0JvZHl9IGoNCiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZQ0KICAgKi8KCgogIHNldChiaSwgYmosIHZhbHVlKSB7CiAgICBsZXQgewogICAgICBpbmRleDogaQogICAgfSA9IGJpOwogICAgbGV0IHsKICAgICAgaW5kZXg6IGoKICAgIH0gPSBiajsKCiAgICBpZiAoaiA+IGkpIHsKICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgIGogPSBpOwogICAgICBpID0gdGVtcDsKICAgIH0KCiAgICB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV0gPSB2YWx1ZSA/IDEgOiAwOwogIH0KICAvKioNCiAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVybw0KICAgKiBAbWV0aG9kIHJlc2V0DQogICAqLwoKCiAgcmVzZXQoKSB7CiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubWF0cml4Lmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7CiAgICAgIHRoaXMubWF0cml4W2ldID0gMDsKICAgIH0KICB9CiAgLyoqDQogICAqIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygb2JqZWN0cw0KICAgKiBAbWV0aG9kIHNldE51bU9iamVjdHMNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG4NCiAgICovCgoKICBzZXROdW1PYmplY3RzKG4pIHsKICAgIHRoaXMubWF0cml4Lmxlbmd0aCA9IG4gKiAobiAtIDEpID4+IDE7CiAgfQoKfQovKioNCiAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy4NCiAqIEBjbGFzcyBFdmVudFRhcmdldA0KICogQGNvbnN0cnVjdG9yDQogKi8KCgpjbGFzcyBFdmVudFRhcmdldCB7CiAgY29uc3RydWN0b3IoKSB7fQogIC8qKg0KICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXINCiAgICogQG1ldGhvZCBhZGRFdmVudExpc3RlbmVyDQogICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQ0KICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXINCiAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4NCiAgICovCgoKICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307CiAgICB9CgogICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgIGlmIChsaXN0ZW5lcnNbdHlwZV0gPT09IHVuZGVmaW5lZCkgewogICAgICBsaXN0ZW5lcnNbdHlwZV0gPSBbXTsKICAgIH0KCiAgICBpZiAoIWxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYWRkZWQNCiAgICogQG1ldGhvZCBoYXNFdmVudExpc3RlbmVyDQogICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQ0KICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXINCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBoYXNFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiBhbnkgZXZlbnQgbGlzdGVuZXIgb2YgdGhlIGdpdmVuIHR5cGUgaXMgYWRkZWQNCiAgICogQG1ldGhvZCBoYXNBbnlFdmVudExpc3RlbmVyDQogICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQ0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGhhc0FueUV2ZW50TGlzdGVuZXIodHlwZSkgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICByZXR1cm4gbGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQ7CiAgfQogIC8qKg0KICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXINCiAgICogQG1ldGhvZCByZW1vdmVFdmVudExpc3RlbmVyDQogICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQ0KICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXINCiAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4NCiAgICovCgoKICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgIGlmIChsaXN0ZW5lcnNbdHlwZV0gPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKTsKCiAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgIGxpc3RlbmVyc1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogRW1pdCBhbiBldmVudC4NCiAgICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50DQogICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnQNCiAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudC50eXBlDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgZGlzcGF0Y2hFdmVudChldmVudCkgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKICAgIGNvbnN0IGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lcnNbZXZlbnQudHlwZV07CgogICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkgewogICAgICBldmVudC50YXJnZXQgPSB0aGlzOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGxpc3RlbmVyQXJyYXlbaV0uY2FsbCh0aGlzLCBldmVudCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9Cgp9Ci8qKg0KICogQSBRdWF0ZXJuaW9uIGRlc2NyaWJlcyBhIHJvdGF0aW9uIGluIDNEIHNwYWNlLiBUaGUgUXVhdGVybmlvbiBpcyBtYXRoZW1hdGljYWxseSBkZWZpbmVkIGFzIFEgPSB4KmkgKyB5KmogKyB6KmsgKyB3LCB3aGVyZSAoaSxqLGspIGFyZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9ycy4gKHgseSx6KSBjYW4gYmUgc2VlbiBhcyBhIHZlY3RvciByZWxhdGVkIHRvIHRoZSBheGlzIG9mIHJvdGF0aW9uLCB3aGlsZSB0aGUgcmVhbCBtdWx0aXBsaWVyLCB3LCBpcyByZWxhdGVkIHRvIHRoZSBhbW91bnQgb2Ygcm90YXRpb24uDQogKiBAcGFyYW0ge051bWJlcn0geCBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGkuDQogKiBAcGFyYW0ge051bWJlcn0geSBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGouDQogKiBAcGFyYW0ge051bWJlcn0geiBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGsuDQogKiBAcGFyYW0ge051bWJlcn0gdyBNdWx0aXBsaWVyIG9mIHRoZSByZWFsIHBhcnQuDQogKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvbg0KICovCgoKY2xhc3MgUXVhdGVybmlvbiB7CiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEpIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHRoaXMudyA9IHc7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLg0KICAgKi8KCgogIHNldCh4LCB5LCB6LCB3KSB7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICAgIHRoaXMueiA9IHo7CiAgICB0aGlzLncgPSB3OwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIGEgcmVhZGFibGUgZm9ybWF0DQogICAqIEByZXR1cm4ge1N0cmluZ30gIngseSx6LHciDQogICAqLwoKCiAgdG9TdHJpbmcoKSB7CiAgICByZXR1cm4gdGhpcy54ICsgIiwiICsgdGhpcy55ICsgIiwiICsgdGhpcy56ICsgIiwiICsgdGhpcy53OwogIH0KICAvKioNCiAgICogQ29udmVydCB0byBhbiBBcnJheQ0KICAgKiBAcmV0dXJuIHtBcnJheX0gW3gsIHksIHosIHddDQogICAqLwoKCiAgdG9BcnJheSgpIHsKICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53XTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIGFuIGF4aXMgYW5kIGFuIGFuZ2xlIGluIHJhZGlhbnMuDQogICAqLwoKCiAgc2V0RnJvbUF4aXNBbmdsZSh2ZWN0b3IsIGFuZ2xlKSB7CiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpOwogICAgdGhpcy54ID0gdmVjdG9yLnggKiBzOwogICAgdGhpcy55ID0gdmVjdG9yLnkgKiBzOwogICAgdGhpcy56ID0gdmVjdG9yLnogKiBzOwogICAgdGhpcy53ID0gTWF0aC5jb3MoYW5nbGUgKiAwLjUpOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uDQogICAqIEBwYXJhbSB7VmVjM30gW3RhcmdldEF4aXNdIEEgdmVjdG9yIG9iamVjdCB0byByZXVzZSBmb3Igc3RvcmluZyB0aGUgYXhpcy4NCiAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5LCBmaXJzdCBlbGVtZW50IGlzIHRoZSBheGlzIGFuZCB0aGUgc2Vjb25kIGlzIHRoZSBhbmdsZSBpbiByYWRpYW5zLg0KICAgKi8KCgogIHRvQXhpc0FuZ2xlKHRhcmdldEF4aXMgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLm5vcm1hbGl6ZSgpOyAvLyBpZiB3PjEgYWNvcyBhbmQgc3FydCB3aWxsIHByb2R1Y2UgZXJyb3JzLCB0aGlzIGNhbnQgaGFwcGVuIGlmIHF1YXRlcm5pb24gaXMgbm9ybWFsaXNlZAoKICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpOwogICAgY29uc3QgcyA9IE1hdGguc3FydCgxIC0gdGhpcy53ICogdGhpcy53KTsgLy8gYXNzdW1pbmcgcXVhdGVybmlvbiBub3JtYWxpc2VkIHRoZW4gdyBpcyBsZXNzIHRoYW4gMSwgc28gdGVybSBhbHdheXMgcG9zaXRpdmUuCgogICAgaWYgKHMgPCAwLjAwMSkgewogICAgICAvLyB0ZXN0IHRvIGF2b2lkIGRpdmlkZSBieSB6ZXJvLCBzIGlzIGFsd2F5cyBwb3NpdGl2ZSBkdWUgdG8gc3FydAogICAgICAvLyBpZiBzIGNsb3NlIHRvIHplcm8gdGhlbiBkaXJlY3Rpb24gb2YgYXhpcyBub3QgaW1wb3J0YW50CiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueDsgLy8gaWYgaXQgaXMgaW1wb3J0YW50IHRoYXQgYXhpcyBpcyBub3JtYWxpc2VkIHRoZW4gcmVwbGFjZSB3aXRoIHg9MTsgeT16PTA7CgogICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnk7CiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMuejsKICAgIH0gZWxzZSB7CiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueCAvIHM7IC8vIG5vcm1hbGlzZSBheGlzCgogICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnkgLyBzOwogICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLnogLyBzOwogICAgfQoKICAgIHJldHVybiBbdGFyZ2V0QXhpcywgYW5nbGVdOwogIH0KICAvKioNCiAgICogU2V0IHRoZSBxdWF0ZXJuaW9uIHZhbHVlIGdpdmVuIHR3byB2ZWN0b3JzLiBUaGUgcmVzdWx0aW5nIHJvdGF0aW9uIHdpbGwgYmUgdGhlIG5lZWRlZCByb3RhdGlvbiB0byByb3RhdGUgdSB0byB2Lg0KICAgKi8KCgogIHNldEZyb21WZWN0b3JzKHUsIHYpIHsKICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHsKICAgICAgY29uc3QgdDEgPSBzZnZfdDE7CiAgICAgIGNvbnN0IHQyID0gc2Z2X3QyOwogICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7CiAgICAgIHRoaXMuc2V0RnJvbUF4aXNBbmdsZSh0MSwgTWF0aC5QSSk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTsKICAgICAgdGhpcy54ID0gYS54OwogICAgICB0aGlzLnkgPSBhLnk7CiAgICAgIHRoaXMueiA9IGEuejsKICAgICAgdGhpcy53ID0gTWF0aC5zcXJ0KHUubGVuZ3RoKCkgKiogMiAqIHYubGVuZ3RoKCkgKiogMikgKyB1LmRvdCh2KTsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHRoZSBxdWF0ZXJuaW9uIHdpdGggYW4gb3RoZXIgcXVhdGVybmlvbi4NCiAgICovCgoKICBtdWx0KHF1YXQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgIGNvbnN0IGF4ID0gdGhpcy54OwogICAgY29uc3QgYXkgPSB0aGlzLnk7CiAgICBjb25zdCBheiA9IHRoaXMuejsKICAgIGNvbnN0IGF3ID0gdGhpcy53OwogICAgY29uc3QgYnggPSBxdWF0Lng7CiAgICBjb25zdCBieSA9IHF1YXQueTsKICAgIGNvbnN0IGJ6ID0gcXVhdC56OwogICAgY29uc3QgYncgPSBxdWF0Lnc7CiAgICB0YXJnZXQueCA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7CiAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7CiAgICB0YXJnZXQueiA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7CiAgICB0YXJnZXQudyA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogR2V0IHRoZSBpbnZlcnNlIHF1YXRlcm5pb24gcm90YXRpb24uDQogICAqLwoKCiAgaW52ZXJzZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICBjb25zdCB3ID0gdGhpcy53OwogICAgdGhpcy5jb25qdWdhdGUodGFyZ2V0KTsKICAgIGNvbnN0IGlub3JtMiA9IDEgLyAoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpOwogICAgdGFyZ2V0LnggKj0gaW5vcm0yOwogICAgdGFyZ2V0LnkgKj0gaW5vcm0yOwogICAgdGFyZ2V0LnogKj0gaW5vcm0yOwogICAgdGFyZ2V0LncgKj0gaW5vcm0yOwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgcXVhdGVybmlvbiBjb25qdWdhdGUNCiAgICovCgoKICBjb25qdWdhdGUodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgdGFyZ2V0LnggPSAtdGhpcy54OwogICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgdGFyZ2V0LncgPSB0aGlzLnc7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogTm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIHF1YXRlcm5pb24uDQogICAqIEBtZXRob2Qgbm9ybWFsaXplDQogICAqLwoKCiAgbm9ybWFsaXplKCkgewogICAgbGV0IGwgPSBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KTsKCiAgICBpZiAobCA9PT0gMCkgewogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnogPSAwOwogICAgICB0aGlzLncgPSAwOwogICAgfSBlbHNlIHsKICAgICAgbCA9IDEgLyBsOwogICAgICB0aGlzLnggKj0gbDsKICAgICAgdGhpcy55ICo9IGw7CiAgICAgIHRoaXMueiAqPSBsOwogICAgICB0aGlzLncgKj0gbDsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLg0KICAgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2Zhc3QtcXVhdGVybmlvbi1ub3JtYWxpemF0aW9uDQogICAqIEBhdXRob3IgdW5waGFzZWQsIGh0dHBzOi8vZ2l0aHViLmNvbS91bnBoYXNlZA0KICAgKi8KCgogIG5vcm1hbGl6ZUZhc3QoKSB7CiAgICBjb25zdCBmID0gKDMuMCAtICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpKSAvIDIuMDsKCiAgICBpZiAoZiA9PT0gMCkgewogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnogPSAwOwogICAgICB0aGlzLncgPSAwOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy54ICo9IGY7CiAgICAgIHRoaXMueSAqPSBmOwogICAgICB0aGlzLnogKj0gZjsKICAgICAgdGhpcy53ICo9IGY7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3Rvcg0KICAgKi8KCgogIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHggPSB2Lng7CiAgICBjb25zdCB5ID0gdi55OwogICAgY29uc3QgeiA9IHYuejsKICAgIGNvbnN0IHF4ID0gdGhpcy54OwogICAgY29uc3QgcXkgPSB0aGlzLnk7CiAgICBjb25zdCBxeiA9IHRoaXMuejsKICAgIGNvbnN0IHF3ID0gdGhpcy53OyAvLyBxKnYKCiAgICBjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTsKICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6OwogICAgY29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7CiAgICBjb25zdCBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7CiAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7CiAgICB0YXJnZXQueSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7CiAgICB0YXJnZXQueiA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogQ29waWVzIHZhbHVlIG9mIHNvdXJjZSB0byB0aGlzIHF1YXRlcm5pb24uDQogICAqIEBtZXRob2QgY29weQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHNvdXJjZQ0KICAgKiBAcmV0dXJuIHtRdWF0ZXJuaW9ufSB0aGlzDQogICAqLwoKCiAgY29weShxdWF0KSB7CiAgICB0aGlzLnggPSBxdWF0Lng7CiAgICB0aGlzLnkgPSBxdWF0Lnk7CiAgICB0aGlzLnogPSBxdWF0Lno7CiAgICB0aGlzLncgPSBxdWF0Lnc7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgdGhlIHF1YXRlcm5pb24gdG8gZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24uIE9yZGVyOiBZWlgsIGFzIHRoaXMgcGFnZSBkZXNjcmliZXM6IGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL3N0YW5kYXJkcy9pbmRleC5odG0NCiAgICogQG1ldGhvZCB0b0V1bGVyDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaHJlZS1jaGFyYWN0ZXIgc3RyaW5nLCBkZWZhdWx0cyB0byAiWVpYIg0KICAgKi8KCgogIHRvRXVsZXIodGFyZ2V0LCBvcmRlciA9ICdZWlgnKSB7CiAgICBsZXQgaGVhZGluZzsKICAgIGxldCBhdHRpdHVkZTsKICAgIGxldCBiYW5rOwogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgdyA9IHRoaXMudzsKCiAgICBzd2l0Y2ggKG9yZGVyKSB7CiAgICAgIGNhc2UgJ1laWCc6CiAgICAgICAgY29uc3QgdGVzdCA9IHggKiB5ICsgeiAqIHc7CgogICAgICAgIGlmICh0ZXN0ID4gMC40OTkpIHsKICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IG5vcnRoIHBvbGUKICAgICAgICAgIGhlYWRpbmcgPSAyICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5QSSAvIDI7CiAgICAgICAgICBiYW5rID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7CiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBzb3V0aCBwb2xlCiAgICAgICAgICBoZWFkaW5nID0gLTIgKiBNYXRoLmF0YW4yKHgsIHcpOwogICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7CiAgICAgICAgICBiYW5rID0gMDsKICAgICAgICB9CgogICAgICAgIGlmIChoZWFkaW5nID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvbnN0IHNxeCA9IHggKiB4OwogICAgICAgICAgY29uc3Qgc3F5ID0geSAqIHk7CiAgICAgICAgICBjb25zdCBzcXogPSB6ICogejsKICAgICAgICAgIGhlYWRpbmcgPSBNYXRoLmF0YW4yKDIgKiB5ICogdyAtIDIgKiB4ICogeiwgMSAtIDIgKiBzcXkgLSAyICogc3F6KTsgLy8gSGVhZGluZwoKICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5hc2luKDIgKiB0ZXN0KTsgLy8gYXR0aXR1ZGUKCiAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkV1bGVyIG9yZGVyICIgKyBvcmRlciArICIgbm90IHN1cHBvcnRlZCB5ZXQuIik7CiAgICB9CgogICAgdGFyZ2V0LnkgPSBoZWFkaW5nOwogICAgdGFyZ2V0LnogPSBhdHRpdHVkZTsKICAgIHRhcmdldC54ID0gYmFuazsKICB9CiAgLyoqDQogICAqIEBwYXJhbSB7TnVtYmVyfSB4DQogICAqIEBwYXJhbSB7TnVtYmVyfSB5DQogICAqIEBwYXJhbSB7TnVtYmVyfSB6DQogICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb24NCiAgICogQHNlZSBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvY29udGVudC9TcGluQ2FsYy5tDQogICAqLwoKCiAgc2V0RnJvbUV1bGVyKHgsIHksIHosIG9yZGVyID0gJ1hZWicpIHsKICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpOwogICAgY29uc3QgYzIgPSBNYXRoLmNvcyh5IC8gMik7CiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTsKICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpOwogICAgY29uc3QgczIgPSBNYXRoLnNpbih5IC8gMik7CiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTsKCiAgICBpZiAob3JkZXIgPT09ICdYWVonKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWFonKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWFknKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWVgnKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWlgnKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdYWlknKSB7CiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICogQHJldHVybiB7UXVhdGVybmlvbn0NCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpOwogIH0KICAvKioNCiAgICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdA0KICAgKg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHRvUXVhdCBzZWNvbmQgb3BlcmFuZA0KICAgKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCBiZXR3ZWVuIHRoZSBzZWxmIHF1YXRlcm5pb24gYW5kIHRvUXVhdA0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFt0YXJnZXRdIEEgcXVhdGVybmlvbiB0byBzdG9yZSB0aGUgcmVzdWx0IGluLiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQuDQogICAqIEByZXR1cm5zIHtRdWF0ZXJuaW9ufSBUaGUgInRhcmdldCIgb2JqZWN0DQogICAqLwoKCiAgc2xlcnAodG9RdWF0LCB0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IHRoaXMueDsKICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgY29uc3QgYXogPSB0aGlzLno7CiAgICBjb25zdCBhdyA9IHRoaXMudzsKICAgIGxldCBieCA9IHRvUXVhdC54OwogICAgbGV0IGJ5ID0gdG9RdWF0Lnk7CiAgICBsZXQgYnogPSB0b1F1YXQuejsKICAgIGxldCBidyA9IHRvUXVhdC53OwogICAgbGV0IG9tZWdhOwogICAgbGV0IGNvc29tOwogICAgbGV0IHNpbm9tOwogICAgbGV0IHNjYWxlMDsKICAgIGxldCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lCgogICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgICBpZiAoY29zb20gPCAwLjApIHsKICAgICAgY29zb20gPSAtY29zb207CiAgICAgIGJ4ID0gLWJ4OwogICAgICBieSA9IC1ieTsKICAgICAgYnogPSAtYno7CiAgICAgIGJ3ID0gLWJ3OwogICAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzCgoKICAgIGlmICgxLjAgLSBjb3NvbSA+IDAuMDAwMDAxKSB7CiAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKQogICAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7CiAgICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpOwogICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTsKICAgICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tOwogICAgfSBlbHNlIHsKICAgICAgLy8gImZyb20iIGFuZCAidG8iIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlCiAgICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb24KICAgICAgc2NhbGUwID0gMS4wIC0gdDsKICAgICAgc2NhbGUxID0gdDsKICAgIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlcwoKCiAgICB0YXJnZXQueCA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7CiAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7CiAgICB0YXJnZXQueiA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7CiAgICB0YXJnZXQudyA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogUm90YXRlIGFuIGFic29sdXRlIG9yaWVudGF0aW9uIHF1YXRlcm5pb24gZ2l2ZW4gYW4gYW5ndWxhciB2ZWxvY2l0eSBhbmQgYSB0aW1lIHN0ZXAuDQogICAqLwoKCiAgaW50ZWdyYXRlKGFuZ3VsYXJWZWxvY2l0eSwgZHQsIGFuZ3VsYXJGYWN0b3IsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgIGNvbnN0IGF4ID0gYW5ndWxhclZlbG9jaXR5LnggKiBhbmd1bGFyRmFjdG9yLngsCiAgICAgICAgICBheSA9IGFuZ3VsYXJWZWxvY2l0eS55ICogYW5ndWxhckZhY3Rvci55LAogICAgICAgICAgYXogPSBhbmd1bGFyVmVsb2NpdHkueiAqIGFuZ3VsYXJGYWN0b3IueiwKICAgICAgICAgIGJ4ID0gdGhpcy54LAogICAgICAgICAgYnkgPSB0aGlzLnksCiAgICAgICAgICBieiA9IHRoaXMueiwKICAgICAgICAgIGJ3ID0gdGhpcy53OwogICAgY29uc3QgaGFsZl9kdCA9IGR0ICogMC41OwogICAgdGFyZ2V0LnggKz0gaGFsZl9kdCAqIChheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnkpOwogICAgdGFyZ2V0LnkgKz0gaGFsZl9kdCAqIChheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYnopOwogICAgdGFyZ2V0LnogKz0gaGFsZl9kdCAqIChheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYngpOwogICAgdGFyZ2V0LncgKz0gaGFsZl9kdCAqICgtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6KTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKfQoKY29uc3Qgc2Z2X3QxID0gbmV3IFZlYzMoKTsKY29uc3Qgc2Z2X3QyID0gbmV3IFZlYzMoKTsKY29uc3QgU0hBUEVfVFlQRVMgPSB7CiAgU1BIRVJFOiAxLAogIFBMQU5FOiAyLAogIEJPWDogNCwKICBDT01QT1VORDogOCwKICBDT05WRVhQT0xZSEVEUk9OOiAxNiwKICBIRUlHSFRGSUVMRDogMzIsCiAgUEFSVElDTEU6IDY0LAogIENZTElOREVSOiAxMjgsCiAgVFJJTUVTSDogMjU2Cn07Ci8qKg0KICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzDQogKiBAY2xhc3MgU2hhcGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hdGVyaWFsPW51bGxdDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCmNsYXNzIFNoYXBlIHsKICAvLyBJZGVudGlmeWVyIG9mIHRoZSBTaGFwZS4KICAvLyBUaGUgdHlwZSBvZiB0aGlzIHNoYXBlLiBNdXN0IGJlIHNldCB0byBhbiBpbnQgPiAwIGJ5IHN1YmNsYXNzZXMuCiAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS4KICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7CiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsOwogICAgdGhpcy5ib2R5ID0gbnVsbDsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIHRoZSBib3VuZGluZyBzcGhlcmUgcmFkaXVzLiBUaGUgcmVzdWx0IGlzIHN0b3JlZCBpbiB0aGUgcHJvcGVydHkgLmJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMNCiAgICovCgoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRocm93ICJjb21wdXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGUNCiAgICogQG1ldGhvZCB2b2x1bWUNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIHZvbHVtZSgpIHsKICAgIHRocm93ICJ2b2x1bWUoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9CiAgLyoqDQogICAqIENhbGN1bGF0ZXMgdGhlIGluZXJ0aWEgaW4gdGhlIGxvY2FsIGZyYW1lIGZvciB0aGlzIHNoYXBlLg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0ge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWENCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICB0aHJvdyAiY2FsY3VsYXRlTG9jYWxJbmVydGlhKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgdGhyb3cgImNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogIH0KCn0KClNoYXBlLmlkQ291bnRlciA9IDA7Ci8qKg0KICogVGhlIGF2YWlsYWJsZSBzaGFwZSB0eXBlcy4NCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSB0eXBlcw0KICogQHR5cGUge09iamVjdH0NCiAqLwoKU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUzsKCmNsYXNzIFRyYW5zZm9ybSB7CiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHsKICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgfQoKICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhIGdsb2JhbCBwb2ludCBpbiBsb2NhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuDQogICAqLwoKCiAgcG9pbnRUb0xvY2FsKHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYSBsb2NhbCBwb2ludCBpbiBnbG9iYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIHBvaW50VG9Xb3JsZChsb2NhbFBvaW50LCByZXN1bHQpIHsKICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQpOwogIH0KCiAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7CiAgICBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSh0bXBRdWF0KTsKICAgIHRtcFF1YXQudm11bHQocmVzdWx0LCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyBwb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpOwogICAgcmVzdWx0LnZhZGQocG9zaXRpb24sIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHZlY3RvclRvV29ybGRGcmFtZShxdWF0ZXJuaW9uLCBsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBzdGF0aWMgdmVjdG9yVG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi53ICo9IC0xOwogICAgcXVhdGVybmlvbi52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTsKICAgIHF1YXRlcm5pb24udyAqPSAtMTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKfQoKY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7Ci8qKg0KICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS4NCiAqIEBjbGFzcyBDb252ZXhQb2x5aGVkcm9uDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAZGVzY3JpcHRpb24gVGhlIHNoYXBlIE1VU1QgYmUgY29udmV4IGZvciB0aGUgY29kZSB0byB3b3JrIHByb3Blcmx5LiBObyBwb2x5Z29ucyBtYXkgYmUgY29wbGFuYXIgKGNvbnRhaW5lZA0KICogaW4gdGhlIHNhbWUgM0QgcGxhbmUpLCBpbnN0ZWFkIHRoZXNlIHNob3VsZCBiZSBtZXJnZWQgaW50byBvbmUgcG9seWdvbi4NCiAqDQogKiBAcGFyYW0ge2FycmF5fSBwb2ludHMgQW4gYXJyYXkgb2YgVmVjMydzDQogKiBAcGFyYW0ge2FycmF5fSBmYWNlcyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgZGVzY3JpYmluZyB3aGljaCB2ZXJ0aWNlcyB0aGF0IGlzIGluY2x1ZGVkIGluIGVhY2ggZmFjZS4NCiAqDQogKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhbyAob3JpZ2luYWwgYXV0aG9yLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3FpYW8vdGhyZWUuanMvY29tbWl0Lzg1MDI2ZjBjNzY5ZTQwMDAxNDhhNjdkNDVhOWU5YjljNTEwODgzNmYpDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKiBAc2VlIGh0dHA6Ly93d3cuYWx0ZGV2YmxvZ2FkYXkuY29tLzIwMTEvMDUvMTMvY29udGFjdC1nZW5lcmF0aW9uLWJldHdlZW4tM2QtY29udmV4LW1lc2hlcy8NCiAqDQogKiBAdG9kbyBNb3ZlIHRoZSBjbGlwcGluZyBmdW5jdGlvbnMgdG8gQ29udGFjdEdlbmVyYXRvcj8NCiAqIEB0b2RvIEF1dG9tYXRpY2FsbHkgbWVyZ2UgY29wbGFuYXIgcG9seWdvbnMgaW4gY29uc3RydWN0b3IuDQogKi8KCmNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7CiAgLy8gQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCBmYWNlIGNvbnNpc3RzIG9mCiAgLy8gSWYgZ2l2ZW4sIHRoZXNlIGxvY2FsbHkgZGVmaW5lZCwgbm9ybWFsaXplZCBheGVzIGFyZSB0aGUgb25seSBvbmVzIGJlaW5nIGNoZWNrZWQgd2hlbiBkb2luZyBzZXBhcmF0aW5nIGF4aXMgY2hlY2suCiAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkgewogICAgY29uc3QgewogICAgICB2ZXJ0aWNlcyA9IFtdLAogICAgICBmYWNlcyA9IFtdLAogICAgICBub3JtYWxzID0gW10sCiAgICAgIGF4ZXMsCiAgICAgIGJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICB9ID0gcHJvcHM7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04KICAgIH0pOwogICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzOwogICAgdGhpcy5mYWNlcyA9IGZhY2VzOwogICAgdGhpcy5mYWNlTm9ybWFscyA9IG5vcm1hbHM7CgogICAgaWYgKHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID09PSAwKSB7CiAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTsKICAgIH0KCiAgICBpZiAoIWJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgIH0KCiAgICB0aGlzLndvcmxkVmVydGljZXMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAudmVydGljZXMKCiAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHMKCiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLnVuaXF1ZUF4ZXMgPSBheGVzID8gYXhlcy5zbGljZSgpIDogbnVsbDsKICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTsKICAgIHRoaXMuY29tcHV0ZUVkZ2VzKCk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB1bmlxdWVFZGdlcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVFZGdlcw0KICAgKi8KCgogIGNvbXB1dGVFZGdlcygpIHsKICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IGVkZ2VzID0gdGhpcy51bmlxdWVFZGdlczsKICAgIGVkZ2VzLmxlbmd0aCA9IDA7CiAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldOwogICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IG51bVZlcnRpY2VzOyBqKyspIHsKICAgICAgICBjb25zdCBrID0gKGogKyAxKSAlIG51bVZlcnRpY2VzOwogICAgICAgIHZlcnRpY2VzW2ZhY2Vbal1dLnZzdWIodmVydGljZXNbZmFjZVtrXV0sIGVkZ2UpOwogICAgICAgIGVkZ2Uubm9ybWFsaXplKCk7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CgogICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykgewogICAgICAgICAgaWYgKGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSB8fCBlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkpIHsKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgIGVkZ2VzLnB1c2goZWRnZS5jbG9uZSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbHMgb2YgdGhlIGZhY2VzLiBXaWxsIHJldXNlIGV4aXN0aW5nIFZlYzMgb2JqZWN0cyBpbiB0aGUgLmZhY2VOb3JtYWxzIGFycmF5IGlmIHRoZXkgZXhpc3QuDQogICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbHMNCiAgICovCgoKICBjb21wdXRlTm9ybWFscygpIHsKICAgIHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID0gdGhpcy5mYWNlcy5sZW5ndGg7IC8vIEdlbmVyYXRlIG5vcm1hbHMKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gQ2hlY2sgc28gYWxsIHZlcnRpY2VzIGV4aXN0cyBmb3IgdGhpcyBmYWNlCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mYWNlc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJWZXJ0ZXggIiArIHRoaXMuZmFjZXNbaV1bal0gKyAiIG5vdCBmb3VuZCEiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ldIHx8IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuZ2V0RmFjZU5vcm1hbChpLCBuKTsKICAgICAgbi5uZWdhdGUobik7CiAgICAgIHRoaXMuZmFjZU5vcm1hbHNbaV0gPSBuOwogICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bMF1dOwoKICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiLmZhY2VOb3JtYWxzWyIgKyBpICsgIl0gPSBWZWMzKCIgKyBuLnRvU3RyaW5nKCkgKyAiKSBsb29rcyBsaWtlIGl0IHBvaW50cyBpbnRvIHRoZSBzaGFwZT8gVGhlIHZlcnRpY2VzIGZvbGxvdy4gTWFrZSBzdXJlIHRoZXkgYXJlIG9yZGVyZWQgQ0NXIGFyb3VuZCB0aGUgbm9ybWFsLCB1c2luZyB0aGUgcmlnaHQgaGFuZCBydWxlLiIpOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGNvbnNvbGUud2FybigiLnZlcnRpY2VzWyIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIl0gPSBWZWMzKCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyAiKSIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgbm9ybWFsIG9mIGEgZmFjZSBmcm9tIGl0cyB2ZXJ0aWNlcw0KICAgKiBAbWV0aG9kIGdldEZhY2VOb3JtYWwNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKi8KCgogIGdldEZhY2VOb3JtYWwoaSwgdGFyZ2V0KSB7CiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tpXTsKICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgIGNvbnN0IHZiID0gdGhpcy52ZXJ0aWNlc1tmWzFdXTsKICAgIGNvbnN0IHZjID0gdGhpcy52ZXJ0aWNlc1tmWzJdXTsKICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjbGlwQWdhaW5zdEh1bGwNCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQg0KICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0INCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0Qg0KICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgQ2xhbXAgZGlzdGFuY2UNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3QNCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IFRoZSBhbiBhcnJheSBvZiBjb250YWN0IHBvaW50IG9iamVjdHMsIHNlZSBjbGlwRmFjZUFnYWluc3RIdWxsDQogICAqLwoKCiAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgY29uc3QgV29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgbGV0IGNsb3Nlc3RGYWNlQiA9IC0xOwogICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTsKCiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxCLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7CiAgICAgIFdvcmxkTm9ybWFsLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpOwogICAgICBjb25zdCBkID0gV29ybGROb3JtYWwuZG90KHNlcGFyYXRpbmdOb3JtYWwpOwoKICAgICAgaWYgKGQgPiBkbWF4KSB7CiAgICAgICAgZG1heCA9IGQ7CiAgICAgICAgY2xvc2VzdEZhY2VCID0gZmFjZTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHdvcmxkVmVydHNCMSA9IFtdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXS5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07CiAgICAgIGNvbnN0IHdvcmxkYiA9IG5ldyBWZWMzKCk7CiAgICAgIHdvcmxkYi5jb3B5KGIpOwogICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7CiAgICAgIHBvc0IudmFkZCh3b3JsZGIsIHdvcmxkYik7CiAgICAgIHdvcmxkVmVydHNCMS5wdXNoKHdvcmxkYik7CiAgICB9CgogICAgaWYgKGNsb3Nlc3RGYWNlQiA+PSAwKSB7CiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpOwogICAgfQogIH0KICAvKioNCiAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyDQogICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpbg0KICAgKiBAcmV0dXJuIHtib29sfSBSZXR1cm5zIGZhbHNlIGlmIGEgc2VwYXJhdGlvbiBpcyBmb3VuZCwgZWxzZSB0cnVlDQogICAqLwoKCiAgZmluZFNlcGFyYXRpbmdBeGlzKGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIsIHRhcmdldCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHsKICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IFdvcmxkbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBkZWx0YUMgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCB3b3JsZEVkZ2UxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IENyb3NzID0gbmV3IFZlYzMoKTsKICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKCiAgICBpZiAoIWh1bGxBLnVuaXF1ZUF4ZXMpIHsKICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1GYWNlc0E7IGkrKykgewogICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBW2ldIDogaTsgLy8gR2V0IHdvcmxkIGZhY2Ugbm9ybWFsCgogICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTMywgZmFjZUFOb3JtYWxXUzMpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxBLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBHZXQgd29ybGQgYXhpcwogICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFodWxsQi51bmlxdWVBeGVzKSB7CiAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEIKICAgICAgY29uc3QgbnVtRmFjZXNCID0gZmFjZUxpc3RCID8gZmFjZUxpc3RCLmxlbmd0aCA6IGh1bGxCLmZhY2VzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNCOyBpKyspIHsKICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7CiAgICAgICAgV29ybGRub3JtYWwxLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICBxdWF0Qi52bXVsdChXb3JsZG5vcm1hbDEsIFdvcmxkbm9ybWFsMSk7CiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzIGluIEIKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxCLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBUZXN0IGVkZ2VzCgoKICAgIGZvciAobGV0IGUwID0gMDsgZTAgIT09IGh1bGxBLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTArKykgewogICAgICAvLyBHZXQgd29ybGQgZWRnZQogICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVFZGdlc1tlMF0sIHdvcmxkRWRnZTApOwoKICAgICAgZm9yIChsZXQgZTEgPSAwOyBlMSAhPT0gaHVsbEIudW5pcXVlRWRnZXMubGVuZ3RoOyBlMSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMgogICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUVkZ2VzW2UxXSwgd29ybGRFZGdlMSk7CiAgICAgICAgd29ybGRFZGdlMC5jcm9zcyh3b3JsZEVkZ2UxLCBDcm9zcyk7CgogICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7CiAgICAgICAgICBDcm9zcy5ub3JtYWxpemUoKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSBodWxsQS50ZXN0U2VwQXhpcyhDcm9zcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGRpc3Q7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KENyb3NzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBwb3NCLnZzdWIocG9zQSwgZGVsdGFDKTsKCiAgICBpZiAoZGVsdGFDLmRvdCh0YXJnZXQpID4gMC4wKSB7CiAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuDQogICAqIEBtZXRob2QgdGVzdFNlcEF4aXMNCiAgICogQHBhcmFtIHtWZWMzfSBheGlzDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3ZlcmxhcCBkZXB0aCwgb3IgRkFMU0UgaWYgbm8gcGVuZXRyYXRpb24uDQogICAqLwoKCiAgdGVzdFNlcEF4aXMoYXhpcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0QikgewogICAgY29uc3QgaHVsbEEgPSB0aGlzOwogICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7CiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEIsIGF4aXMsIHBvc0IsIHF1YXRCLCBtYXhtaW5CKTsKICAgIGNvbnN0IG1heEEgPSBtYXhtaW5BWzBdOwogICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07CiAgICBjb25zdCBtYXhCID0gbWF4bWluQlswXTsKICAgIGNvbnN0IG1pbkIgPSBtYXhtaW5CWzFdOwoKICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkgewogICAgICByZXR1cm4gZmFsc2U7IC8vIFNlcGFyYXRlZAogICAgfQoKICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7CiAgICBjb25zdCBkMSA9IG1heEIgLSBtaW5BOwogICAgY29uc3QgZGVwdGggPSBkMCA8IGQxID8gZDAgOiBkMTsKICAgIHJldHVybiBkZXB0aDsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXQKICAgIGNvbnN0IGFhYmJtYXggPSBuZXcgVmVjMygpOwogICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCk7CiAgICBjb25zdCB4ID0gYWFiYm1heC54IC0gYWFiYm1pbi54OwogICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTsKICAgIGNvbnN0IHogPSBhYWJibWF4LnogLSBhYWJibWluLno7CiAgICB0YXJnZXQueCA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KTsKICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopOwogICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UNCiAgICogQHBhcmFtICB7TnVtYmVyfSBmYWNlX2kgSW5kZXggb2YgdGhlIGZhY2UNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7CiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tmYWNlX2ldOwogICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbZmFjZV9pXTsKICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgY29uc3QgYyA9IC1uLmRvdCh2KTsKICAgIHJldHVybiBjOwogIH0KICAvKioNCiAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuDQogICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0SHVsbA0KICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwNCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtBcnJheX0gd29ybGRWZXJ0c0IxIEFuIGFycmF5IG9mIFZlYzMgd2l0aCB2ZXJ0aWNlcyBpbiB0aGUgd29ybGQgZnJhbWUuDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IERpc3RhbmNlIGNsYW1waW5nDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0DQogICAqIEBwYXJhbSBBcnJheSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnRzIGluLiBXaWxsIGJlIG9iamVjdHMgd2l0aCBwcm9wZXJ0aWVzOiBwb2ludCwgZGVwdGgsIG5vcm1hbC4gVGhlc2UgYXJlIHJlcHJlc2VudGVkIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIGNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KSB7CiAgICBjb25zdCBmYWNlQU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IFdvcmxkRWRnZTAgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRQbGFuZUFub3JtYWwxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkQTEgPSBuZXcgVmVjMygpOwogICAgY29uc3QgbG9jYWxQbGFuZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgIGNvbnN0IHdvcmxkVmVydHNCMiA9IFtdOwogICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxOwogICAgY29uc3QgcFZ0eE91dCA9IHdvcmxkVmVydHNCMjsKICAgIGxldCBjbG9zZXN0RmFjZUEgPSAtMTsKICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXMKCiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7CiAgICAgIGZhY2VBTm9ybWFsV1MuY29weShodWxsQS5mYWNlTm9ybWFsc1tmYWNlXSk7CiAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpOwogICAgICBjb25zdCBkID0gZmFjZUFOb3JtYWxXUy5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7CgogICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICBkbWluID0gZDsKICAgICAgICBjbG9zZXN0RmFjZUEgPSBmYWNlOwogICAgICB9CiAgICB9CgogICAgaWYgKGNsb3Nlc3RGYWNlQSA8IDApIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXMKCgogICAgY29uc3QgcG9seUEgPSBodWxsQS5mYWNlc1tjbG9zZXN0RmFjZUFdOwogICAgcG9seUEuY29ubmVjdGVkRmFjZXMgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaHVsbEEuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoCiAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovCiAgICAgICAgcG9seUEuaW5kZXhPZihodWxsQS5mYWNlc1tpXVtqXSkgIT09IC0xICYmCiAgICAgICAgLyogTm90IHRoZSBvbmUgd2UgYXJlIGxvb2tpbmcgZm9yIGNvbm5lY3Rpb25zIGZyb20gKi8KICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiYKICAgICAgICAvKiBOb3QgYWxyZWFkeSBhZGRlZCAqLwogICAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzLmluZGV4T2YoaSkgPT09IC0xKSB7CiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSwKICAgIC8vIHRoYXQgYXJlIGFkamFjZW50IHRvIHRoZSB3aXRuZXNzIGZhY2UKCgogICAgY29uc3QgbnVtVmVydGljZXNBID0gcG9seUEubGVuZ3RoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHsKICAgICAgY29uc3QgYSA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBW2ldXTsKICAgICAgY29uc3QgYiA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBWyhpICsgMSkgJSBudW1WZXJ0aWNlc0FdXTsKICAgICAgYS52c3ViKGIsIGVkZ2UwKTsKICAgICAgV29ybGRFZGdlMC5jb3B5KGVkZ2UwKTsKICAgICAgcXVhdEEudm11bHQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7CiAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTsKICAgICAgd29ybGRQbGFuZUFub3JtYWwxLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgICAgcXVhdEEudm11bHQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICBXb3JsZEVkZ2UwLmNyb3NzKHdvcmxkUGxhbmVBbm9ybWFsMSwgcGxhbmVOb3JtYWxXUzEpOwogICAgICBwbGFuZU5vcm1hbFdTMS5uZWdhdGUocGxhbmVOb3JtYWxXUzEpOwogICAgICB3b3JsZEExLmNvcHkoYSk7CiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICBwb3NBLnZhZGQod29ybGRBMSwgd29ybGRBMSk7CiAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldOwogICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tvdGhlckZhY2VdKTsKICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKG90aGVyRmFjZSk7CiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOyAvLyBDbGlwIGZhY2UgYWdhaW5zdCBvdXIgY29uc3RydWN0ZWQgcGxhbmUKCiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXAKCiAgICAgIHdoaWxlIChwVnR4SW4ubGVuZ3RoKSB7CiAgICAgICAgcFZ0eEluLnNoaWZ0KCk7CiAgICAgIH0KCiAgICAgIHdoaWxlIChwVnR4T3V0Lmxlbmd0aCkgewogICAgICAgIHBWdHhJbi5wdXNoKHBWdHhPdXQuc2hpZnQoKSk7CiAgICAgIH0KICAgIH0gLy8gb25seSBrZWVwIGNvbnRhY3QgcG9pbnRzIHRoYXQgYXJlIGJlaGluZCB0aGUgd2l0bmVzcyBmYWNlCgoKICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pOwogICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7CiAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7CiAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTsKICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcFZ0eEluLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBkZXB0aCA9IHBsYW5lTm9ybWFsV1MuZG90KHBWdHhJbltpXSkgKyBwbGFuZUVxV1M7IC8vID8/PwoKICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHsKICAgICAgICBjb25zb2xlLmxvZygiY2xhbXBlZDogZGVwdGg9IiArIGRlcHRoICsgIiB0byBtaW5EaXN0PSIgKyBtaW5EaXN0KTsKICAgICAgICBkZXB0aCA9IG1pbkRpc3Q7CiAgICAgIH0KCiAgICAgIGlmIChkZXB0aCA8PSBtYXhEaXN0KSB7CiAgICAgICAgY29uc3QgcG9pbnQgPSBwVnR4SW5baV07CgogICAgICAgIGlmIChkZXB0aCA8PSAxZS02KSB7CiAgICAgICAgICBjb25zdCBwID0gewogICAgICAgICAgICBwb2ludCwKICAgICAgICAgICAgbm9ybWFsOiBwbGFuZU5vcm1hbFdTLAogICAgICAgICAgICBkZXB0aAogICAgICAgICAgfTsKICAgICAgICAgIHJlc3VsdC5wdXNoKHApOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ2xpcCBhIGZhY2UgaW4gYSBodWxsIGFnYWluc3QgdGhlIGJhY2sgb2YgYSBwbGFuZS4NCiAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RQbGFuZQ0KICAgKiBAcGFyYW0ge0FycmF5fSBpblZlcnRpY2VzDQogICAqIEBwYXJhbSB7QXJyYXl9IG91dFZlcnRpY2VzDQogICAqIEBwYXJhbSB7VmVjM30gcGxhbmVOb3JtYWwNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHBsYW5lQ29uc3RhbnQgVGhlIGNvbnN0YW50IGluIHRoZSBtYXRoZW1hdGljYWwgcGxhbmUgZXF1YXRpb24NCiAgICovCgoKICBjbGlwRmFjZUFnYWluc3RQbGFuZShpblZlcnRpY2VzLCBvdXRWZXJ0aWNlcywgcGxhbmVOb3JtYWwsIHBsYW5lQ29uc3RhbnQpIHsKICAgIGxldCBuX2RvdF9maXJzdDsKICAgIGxldCBuX2RvdF9sYXN0OwogICAgY29uc3QgbnVtVmVydHMgPSBpblZlcnRpY2VzLmxlbmd0aDsKCiAgICBpZiAobnVtVmVydHMgPCAyKSB7CiAgICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICAgIH0KCiAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07CiAgICBsZXQgbGFzdFZlcnRleCA9IGluVmVydGljZXNbMF07CiAgICBuX2RvdF9maXJzdCA9IHBsYW5lTm9ybWFsLmRvdChmaXJzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50OwoKICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykgewogICAgICBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1t2aV07CiAgICAgIG5fZG90X2xhc3QgPSBwbGFuZU5vcm1hbC5kb3QobGFzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50OwoKICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkgewogICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkgewogICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPCAwLCBzbyBvdXRwdXQgbGFzdFZlcnRleAogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBuZXd2LmNvcHkobGFzdFZlcnRleCk7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBTdGFydCA8IDAsIGVuZCA+PSAwLCBzbyBvdXRwdXQgaW50ZXJzZWN0aW9uCiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHsKICAgICAgICAgIC8vIFN0YXJ0ID49IDAsIGVuZCA8IDAgc28gb3V0cHV0IGludGVyc2VjdGlvbiBhbmQgZW5kCiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDsKICAgICAgbl9kb3RfZmlyc3QgPSBuX2RvdF9sYXN0OwogICAgfQoKICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICB9IC8vIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS4KCgogIGNvbXB1dGVXb3JsZFZlcnRpY2VzKHBvc2l0aW9uLCBxdWF0KSB7CiAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7CiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKCkpOwogICAgfQoKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IHdvcmxkVmVydHMgPSB0aGlzLndvcmxkVmVydGljZXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICAgIHBvc2l0aW9uLnZhZGQod29ybGRWZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICB9CgogICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTsKICB9CgogIGNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCkgewogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgYWFiYm1pbi5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7CiAgICBhYWJibWF4LnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgdiA9IHZlcnRpY2VzW2ldOwoKICAgICAgaWYgKHYueCA8IGFhYmJtaW4ueCkgewogICAgICAgIGFhYmJtaW4ueCA9IHYueDsKICAgICAgfSBlbHNlIGlmICh2LnggPiBhYWJibWF4LngpIHsKICAgICAgICBhYWJibWF4LnggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmICh2LnkgPCBhYWJibWluLnkpIHsKICAgICAgICBhYWJibWluLnkgPSB2Lnk7CiAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7CiAgICAgICAgYWFiYm1heC55ID0gdi55OwogICAgICB9CgogICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7CiAgICAgICAgYWFiYm1pbi56ID0gdi56OwogICAgICB9IGVsc2UgaWYgKHYueiA+IGFhYmJtYXgueikgewogICAgICAgIGFhYmJtYXgueiA9IHYuejsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLg0KICAgKiBAbWV0aG9kIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzDQogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQNCiAgICovCgoKICBjb21wdXRlV29ybGRGYWNlTm9ybWFscyhxdWF0KSB7CiAgICBjb25zdCBOID0gdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7CgogICAgd2hpbGUgKHRoaXMud29ybGRGYWNlTm9ybWFscy5sZW5ndGggPCBOKSB7CiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFscy5wdXNoKG5ldyBWZWMzKCkpOwogICAgfQoKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgY29uc3Qgd29ybGROb3JtYWxzID0gdGhpcy53b3JsZEZhY2VOb3JtYWxzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pOwogICAgfQoKICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyCiAgICBsZXQgbWF4MiA9IDA7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IG5vcm0yID0gdmVydHNbaV0ubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgIG1heDIgPSBub3JtMjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQg0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3MNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdA0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW4NCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4DQogICAqLwoKCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGxldCBtaW54OwogICAgbGV0IG1pbnk7CiAgICBsZXQgbWluejsKICAgIGxldCBtYXh4OwogICAgbGV0IG1heHk7CiAgICBsZXQgbWF4ejsKICAgIGxldCB0ZW1wV29ybGRWZXJ0ZXggPSBuZXcgVmVjMygpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGVtcFdvcmxkVmVydGV4LmNvcHkodmVydHNbaV0pOwogICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgcG9zLnZhZGQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpOwogICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4OwoKICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7CiAgICAgICAgbWlueCA9IHYueDsKICAgICAgfQoKICAgICAgaWYgKG1heHggPT09IHVuZGVmaW5lZCB8fCB2LnggPiBtYXh4KSB7CiAgICAgICAgbWF4eCA9IHYueDsKICAgICAgfQoKICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7CiAgICAgICAgbWlueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7CiAgICAgICAgbWF4eSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKG1pbnogPT09IHVuZGVmaW5lZCB8fCB2LnogPCBtaW56KSB7CiAgICAgICAgbWlueiA9IHYuejsKICAgICAgfQoKICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7CiAgICAgICAgbWF4eiA9IHYuejsKICAgICAgfQogICAgfQoKICAgIG1pbi5zZXQobWlueCwgbWlueSwgbWlueik7CiAgICBtYXguc2V0KG1heHgsIG1heHksIG1heHopOwogIH0KICAvKioNCiAgICogR2V0IGFwcHJveGltYXRlIGNvbnZleCB2b2x1bWUNCiAgICogQG1ldGhvZCB2b2x1bWUNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDsKICB9CiAgLyoqDQogICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zDQogICAqIEBtZXRob2QgZ2V0QXZlcmFnZVBvaW50TG9jYWwNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7CiAgICB9CgogICAgdGFyZ2V0LnNjYWxlKDEgLyB2ZXJ0cy5sZW5ndGgsIHRhcmdldCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogVHJhbnNmb3JtIGFsbCBsb2NhbCBwb2ludHMuIFdpbGwgY2hhbmdlIHRoZSAudmVydGljZXMNCiAgICogQG1ldGhvZCB0cmFuc2Zvcm1BbGxQb2ludHMNCiAgICogQHBhcmFtICB7VmVjM30gb2Zmc2V0DQogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQNCiAgICovCgoKICB0cmFuc2Zvcm1BbGxQb2ludHMob2Zmc2V0LCBxdWF0KSB7CiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uCgogICAgaWYgKHF1YXQpIHsKICAgICAgLy8gUm90YXRlIHZlcnRpY2VzCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOwogICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgIH0gLy8gUm90YXRlIGZhY2Ugbm9ybWFscwoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB0aGlzLmZhY2VOb3JtYWxzW2ldOwogICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgIH0KICAgICAgLyoNCiAgICAgICAgICAgIC8vIFJvdGF0ZSBlZGdlcw0KICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMudW5pcXVlRWRnZXNbaV07DQogICAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LHYpOw0KICAgICAgICAgICAgfSovCgogICAgfSAvLyBBcHBseSBvZmZzZXQKCgogICAgaWYgKG9mZnNldCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsKICAgICAgICB2LnZhZGQob2Zmc2V0LCB2KTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ2hlY2tzIHdoZXRoZXIgcCBpcyBpbnNpZGUgdGhlIHBvbHloZWRyYS4gTXVzdCBiZSBpbiBsb2NhbCBjb29yZHMuDQogICAqIFRoZSBwb2ludCBsaWVzIG91dHNpZGUgb2YgdGhlIGNvbnZleCBodWxsIG9mIHRoZSBvdGhlciBwb2ludHMgaWYgYW5kIG9ubHkgaWYgdGhlIGRpcmVjdGlvbg0KICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuDQogICAqIEBtZXRob2QgcG9pbnRJc0luc2lkZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBwICAgICAgQSBwb2ludCBnaXZlbiBpbiBsb2NhbCBjb29yZGluYXRlcw0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIHBvaW50SXNJbnNpZGUocCkgewogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzOwogICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7CiAgICBjb25zdCBwb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmdldEF2ZXJhZ2VQb2ludExvY2FsKHBvaW50SW5zaWRlKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IG4gPSBub3JtYWxzW2ldOwogICAgICBjb25zdCB2ID0gdmVydHNbZmFjZXNbaV1bMF1dOyAvLyBXZSBvbmx5IG5lZWQgb25lIHBvaW50IGluIHRoZSBmYWNlCiAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgY29uc3QgdlRvUCA9IG5ldyBWZWMzKCk7CiAgICAgIHAudnN1Yih2LCB2VG9QKTsKICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTsKICAgICAgY29uc3QgdlRvUG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpOwogICAgICBwb2ludEluc2lkZS52c3ViKHYsIHZUb1BvaW50SW5zaWRlKTsKICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7CgogICAgICBpZiAocjEgPCAwICYmIHIyID4gMCB8fCByMSA+IDAgJiYgcjIgPCAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBFbmNvdW50ZXJlZCBzb21lIG90aGVyIHNpZ24uIEV4aXQuCiAgICAgIH0KICAgIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLgoKCiAgICByZXR1cm4gLTE7CiAgfQoKfQovKioNCiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWwNCiAqIEBwYXJhbSB7VmVjM30gdmENCiAqIEBwYXJhbSB7VmVjM30gdmINCiAqIEBwYXJhbSB7VmVjM30gdmMNCiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogKi8KCgpDb252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwgPSAodmEsIHZiLCB2YywgdGFyZ2V0KSA9PiB7CiAgY29uc3QgY2IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICB2Yi52c3ViKHZhLCBhYik7CiAgdmMudnN1Yih2YiwgY2IpOwogIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICBpZiAoIXRhcmdldC5pc1plcm8oKSkgewogICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpOwogIH0KfTsKCmNvbnN0IG1heG1pbkEgPSBbXTsKY29uc3QgbWF4bWluQiA9IFtdOwovKioNCiAqIEdldCBtYXggYW5kIG1pbiBkb3QgcHJvZHVjdCBvZiBhIGNvbnZleCBodWxsIGF0IHBvc2l0aW9uIChwb3MscXVhdCkgcHJvamVjdGVkIG9udG8gYW4gYXhpcy4NCiAqIFJlc3VsdHMgYXJlIHNhdmVkIGluIHRoZSBhcnJheSBtYXhtaW4uDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIHByb2plY3QNCiAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbA0KICogQHBhcmFtIHtWZWMzfSBheGlzDQogKiBAcGFyYW0ge1ZlYzN9IHBvcw0KICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0DQogKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgcmVzdWx0WzBdIGFuZCByZXN1bHRbMV0gd2lsbCBiZSBzZXQgdG8gbWF4aW11bSBhbmQgbWluaW11bSwgcmVzcGVjdGl2ZWx5Lg0KICovCgpDb252ZXhQb2x5aGVkcm9uLnByb2plY3QgPSAoc2hhcGUsIGF4aXMsIHBvcywgcXVhdCwgcmVzdWx0KSA9PiB7CiAgY29uc3QgbiA9IHNoYXBlLnZlcnRpY2VzLmxlbmd0aDsKICBjb25zdCBsb2NhbEF4aXMgPSBuZXcgVmVjMygpOwogIGxldCBtYXggPSAwOwogIGxldCBtaW4gPSAwOwogIGNvbnN0IGxvY2FsT3JpZ2luID0gbmV3IFZlYzMoKTsKICBjb25zdCB2cyA9IHNoYXBlLnZlcnRpY2VzOwogIGxvY2FsT3JpZ2luLnNldFplcm8oKTsgLy8gVHJhbnNmb3JtIHRoZSBheGlzIHRvIGxvY2FsCgogIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBheGlzLCBsb2NhbEF4aXMpOwogIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7CiAgY29uc3QgYWRkID0gbG9jYWxPcmlnaW4uZG90KGxvY2FsQXhpcyk7CiAgbWluID0gbWF4ID0gdnNbMF0uZG90KGxvY2FsQXhpcyk7CgogIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICBjb25zdCB2YWwgPSB2c1tpXS5kb3QobG9jYWxBeGlzKTsKCiAgICBpZiAodmFsID4gbWF4KSB7CiAgICAgIG1heCA9IHZhbDsKICAgIH0KCiAgICBpZiAodmFsIDwgbWluKSB7CiAgICAgIG1pbiA9IHZhbDsKICAgIH0KICB9CgogIG1pbiAtPSBhZGQ7CiAgbWF4IC09IGFkZDsKCiAgaWYgKG1pbiA+IG1heCkgewogICAgLy8gSW5jb25zaXN0ZW50IC0gc3dhcAogICAgY29uc3QgdGVtcCA9IG1pbjsKICAgIG1pbiA9IG1heDsKICAgIG1heCA9IHRlbXA7CiAgfSAvLyBPdXRwdXQKCgogIHJlc3VsdFswXSA9IG1heDsKICByZXN1bHRbMV0gPSBtaW47Cn07Ci8qKg0KICogQSAzZCBib3ggc2hhcGUuDQogKiBAY2xhc3MgQm94DQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHMNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBleHRlbmRzIFNoYXBlDQogKi8KCgpjbGFzcyBCb3ggZXh0ZW5kcyBTaGFwZSB7CiAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuCiAgY29uc3RydWN0b3IoaGFsZkV4dGVudHMpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YCiAgICB9KTsKICAgIHRoaXMuaGFsZkV4dGVudHMgPSBoYWxmRXh0ZW50czsKICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDsKICAgIHRoaXMudXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uKCk7CiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgfQogIC8qKg0KICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuDQogICAqIEBtZXRob2QgdXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uDQogICAqLwoKCiAgdXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uKCkgewogICAgY29uc3Qgc3ggPSB0aGlzLmhhbGZFeHRlbnRzLng7CiAgICBjb25zdCBzeSA9IHRoaXMuaGFsZkV4dGVudHMueTsKICAgIGNvbnN0IHN6ID0gdGhpcy5oYWxmRXh0ZW50cy56OwogICAgY29uc3QgViA9IFZlYzM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtuZXcgVigtc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgLXN5LCBzeiksIG5ldyBWKHN4LCBzeSwgc3opLCBuZXcgVigtc3gsIHN5LCBzeildOwogICAgY29uc3QgZmFjZXMgPSBbWzMsIDIsIDEsIDBdLCAvLyAtegogICAgWzQsIDUsIDYsIDddLCAvLyAregogICAgWzUsIDQsIDAsIDFdLCAvLyAteQogICAgWzIsIDMsIDcsIDZdLCAvLyAreQogICAgWzAsIDQsIDcsIDNdLCAvLyAteAogICAgWzEsIDIsIDYsIDVdIC8vICt4CiAgICBdOwogICAgY29uc3QgYXhlcyA9IFtuZXcgVigwLCAwLCAxKSwgbmV3IFYoMCwgMSwgMCksIG5ldyBWKDEsIDAsIDApXTsKICAgIGNvbnN0IGggPSBuZXcgQ29udmV4UG9seWhlZHJvbih7CiAgICAgIHZlcnRpY2VzLAogICAgICBmYWNlcywKICAgICAgYXhlcwogICAgfSk7CiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IGg7CiAgICBoLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGJveCA2IHNpZGUgbm9ybWFscw0KICAgKiBAbWV0aG9kIGdldFNpZGVOb3JtYWxzDQogICAqIEBwYXJhbSB7YXJyYXl9ICAgICAgc2l4VGFyZ2V0VmVjdG9ycyBBbiBhcnJheSBvZiA2IHZlY3RvcnMsIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBub3JtYWxzIGluLg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXQgICAgICAgICAgICAgT3JpZW50YXRpb24gdG8gYXBwbHkgdG8gdGhlIG5vcm1hbCB2ZWN0b3JzLiBJZiBub3QgcHJvdmlkZWQsIHRoZSB2ZWN0b3JzIHdpbGwgYmUgaW4gcmVzcGVjdCB0byB0aGUgbG9jYWwgZnJhbWUuDQogICAqIEByZXR1cm4ge2FycmF5fQ0KICAgKi8KCgogIGdldFNpZGVOb3JtYWxzKHNpeFRhcmdldFZlY3RvcnMsIHF1YXQpIHsKICAgIGNvbnN0IHNpZGVzID0gc2l4VGFyZ2V0VmVjdG9yczsKICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIHNpZGVzWzBdLnNldChleC54LCAwLCAwKTsKICAgIHNpZGVzWzFdLnNldCgwLCBleC55LCAwKTsKICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTsKICAgIHNpZGVzWzNdLnNldCgtZXgueCwgMCwgMCk7CiAgICBzaWRlc1s0XS5zZXQoMCwgLWV4LnksIDApOwogICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTsKCiAgICBpZiAocXVhdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaWRlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHF1YXQudm11bHQoc2lkZXNbaV0sIHNpZGVzW2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBzaWRlczsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpOwogIH0KCiAgZm9yRWFjaFdvcmxkQ29ybmVyKHBvcywgcXVhdCwgY2FsbGJhY2spIHsKICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgY29uc3QgY29ybmVycyA9IFtbZS54LCBlLnksIGUuel0sIFstZS54LCBlLnksIGUuel0sIFstZS54LCAtZS55LCBlLnpdLCBbLWUueCwgLWUueSwgLWUuel0sIFtlLngsIC1lLnksIC1lLnpdLCBbZS54LCBlLnksIC1lLnpdLCBbLWUueCwgZS55LCAtZS56XSwgW2UueCwgLWUueSwgZS56XV07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7CiAgICAgIHF1YXQudm11bHQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICBwb3MudmFkZCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7CiAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopOwogICAgfQogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgd29ybGRDb3JuZXJzVGVtcFswXS5zZXQoZS54LCBlLnksIGUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzFdLnNldCgtZS54LCBlLnksIGUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzJdLnNldCgtZS54LCAtZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFszXS5zZXQoLWUueCwgLWUueSwgLWUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzRdLnNldChlLngsIC1lLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs1XS5zZXQoZS54LCBlLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs2XS5zZXQoLWUueCwgZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbN10uc2V0KGUueCwgLWUueSwgZS56KTsKICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFswXTsKICAgIHF1YXQudm11bHQod2MsIHdjKTsKICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICBtYXguY29weSh3Yyk7CiAgICBtaW4uY29weSh3Yyk7CgogICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHsKICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wW2ldOwogICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgIGNvbnN0IHggPSB3Yy54OwogICAgICBjb25zdCB5ID0gd2MueTsKICAgICAgY29uc3QgeiA9IHdjLno7CgogICAgICBpZiAoeCA+IG1heC54KSB7CiAgICAgICAgbWF4LnggPSB4OwogICAgICB9CgogICAgICBpZiAoeSA+IG1heC55KSB7CiAgICAgICAgbWF4LnkgPSB5OwogICAgICB9CgogICAgICBpZiAoeiA+IG1heC56KSB7CiAgICAgICAgbWF4LnogPSB6OwogICAgICB9CgogICAgICBpZiAoeCA8IG1pbi54KSB7CiAgICAgICAgbWluLnggPSB4OwogICAgICB9CgogICAgICBpZiAoeSA8IG1pbi55KSB7CiAgICAgICAgbWluLnkgPSB5OwogICAgICB9CgogICAgICBpZiAoeiA8IG1pbi56KSB7CiAgICAgICAgbWluLnogPSB6OwogICAgICB9CiAgICB9IC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICAvLyBtaW4uc2V0KEluZmluaXR5LEluZmluaXR5LEluZmluaXR5KTsKICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpOwogICAgLy8gdGhpcy5mb3JFYWNoV29ybGRDb3JuZXIocG9zLHF1YXQsZnVuY3Rpb24oeCx5LHopewogICAgLy8gICAgIGlmKHggPiBtYXgueCl7CiAgICAvLyAgICAgICAgIG1heC54ID0geDsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeSA+IG1heC55KXsKICAgIC8vICAgICAgICAgbWF4LnkgPSB5OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih6ID4gbWF4LnopewogICAgLy8gICAgICAgICBtYXgueiA9IHo7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHggPCBtaW4ueCl7CiAgICAvLyAgICAgICAgIG1pbi54ID0geDsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeSA8IG1pbi55KXsKICAgIC8vICAgICAgICAgbWluLnkgPSB5OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih6IDwgbWluLnopewogICAgLy8gICAgICAgICBtaW4ueiA9IHo7CiAgICAvLyAgICAgfQogICAgLy8gfSk7CgogIH0KCn0KCkJveC5jYWxjdWxhdGVJbmVydGlhID0gKGhhbGZFeHRlbnRzLCBtYXNzLCB0YXJnZXQpID0+IHsKICBjb25zdCBlID0gaGFsZkV4dGVudHM7CiAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTsKICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnggKiAyICogZS54ICsgMiAqIGUueiAqIDIgKiBlLnopOwogIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS54ICogMiAqIGUueCk7Cn07Cgpjb25zdCB3b3JsZENvcm5lclRlbXBQb3MgPSBuZXcgVmVjMygpOwpjb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwpjb25zdCBCT0RZX1NMRUVQX1NUQVRFUyA9IHsKICBBV0FLRTogMCwKICBTTEVFUFk6IDEsCiAgU0xFRVBJTkc6IDIKfTsKLyoqDQogKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy4NCiAqIEBjbGFzcyBCb2R5DQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0DQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhclZlbG9jaXR5XQ0KICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbb3B0aW9ucy5xdWF0ZXJuaW9uXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdDQogKiBAcGFyYW0ge01hdGVyaWFsfSBbb3B0aW9ucy5tYXRlcmlhbF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50eXBlXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyRGFtcGluZz0wLjAxXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwPXRydWVdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFRpbWVMaW1pdD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZml4ZWRSb3RhdGlvbj1mYWxzZV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMubGluZWFyRmFjdG9yXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXQ0KICogQHBhcmFtIHtTaGFwZX0gW29wdGlvbnMuc2hhcGVdDQogKiBAZXhhbXBsZQ0KICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7DQogKiAgICAgICAgIG1hc3M6IDENCiAqICAgICB9KTsNCiAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7DQogKiAgICAgYm9keS5hZGRTaGFwZShzaGFwZSk7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5KTsNCiAqLwoKY2xhc3MgQm9keSBleHRlbmRzIEV2ZW50VGFyZ2V0IHsKICAvLyBQb3NpdGlvbiBvZiBib2R5IGluIFdvcmxkLmJvZGllcy4gVXBkYXRlZCBieSBXb3JsZCBhbmQgdXNlZCBpbiBBcnJheUNvbGxpc2lvbk1hdHJpeC4KICAvLyBSZWZlcmVuY2UgdG8gdGhlIHdvcmxkIHRoZSBib2R5IGlzIGxpdmluZyBpbi4KICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQkVGT1JFIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIFVzZSBpdCB0byBhcHBseSBmb3JjZXMsIGZvciBleGFtcGxlLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCAidGhpcyIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLgogIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBBRlRFUiBzdGVwcGluZyB0aGUgc3lzdGVtLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCAidGhpcyIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLgogIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gImNvbGxpZGUiIGV2ZW50cyB3aWxsIGJlIHJhaXNlZCwgYnV0IGZvcmNlcyB3aWxsIG5vdCBiZSBhbHRlcmVkLgogIC8vIFdvcmxkIHNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogIC8vIEludGVycG9sYXRlZCBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBJbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogIC8vIFdvcmxkIHNwYWNlIHZlbG9jaXR5IG9mIHRoZSBib2R5LgogIC8vIExpbmVhciBmb3JjZSBvbiB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS4KICAvLyBPbmUgb2Y6IEJvZHkuRFlOQU1JQywgQm9keS5TVEFUSUMgYW5kIEJvZHkuS0lORU1BVElDLgogIC8vIElmIHRydWUsIHRoZSBib2R5IHdpbGwgYXV0b21hdGljYWxseSBmYWxsIHRvIHNsZWVwLgogIC8vIEN1cnJlbnQgc2xlZXAgc3RhdGUuCiAgLy8gSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS4KICAvLyBJZiB0aGUgYm9keSBoYXMgYmVlbiBzbGVlcHkgZm9yIHRoaXMgc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBzbGVlcGluZy4KICAvLyBXb3JsZCBzcGFjZSByb3RhdGlvbmFsIGZvcmNlIG9uIHRoZSBib2R5LCBhcm91bmQgY2VudGVyIG9mIG1hc3MuCiAgLy8gV29ybGQgc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgLy8gSW50ZXJwb2xhdGVkIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LgogIC8vIEFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHksIGluIHdvcmxkIHNwYWNlLiBUaGluayBvZiB0aGUgYW5ndWxhciB2ZWxvY2l0eSBhcyBhIHZlY3Rvciwgd2hpY2ggdGhlIGJvZHkgcm90YXRlcyBhcm91bmQuIFRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IgZGV0ZXJtaW5lcyBob3cgZmFzdCAoaW4gcmFkaWFucyBwZXIgc2Vjb25kKSB0aGUgYm9keSByb3RhdGVzLgogIC8vIFBvc2l0aW9uIG9mIGVhY2ggU2hhcGUgaW4gdGhlIGJvZHksIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgLy8gT3JpZW50YXRpb24gb2YgZWFjaCBTaGFwZSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgYm9keSB0byByb3RhdGUuIE1ha2Ugc3VyZSB0byBydW4gLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgYWZ0ZXIgY2hhbmdpbmcgdGhpcy4KICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgbW90aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIHJvdGF0aW9uYWwgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgcm90YXRpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS4KICAvLyBXb3JsZCBzcGFjZSBib3VuZGluZyBib3ggb2YgdGhlIGJvZHkgYW5kIGl0cyBzaGFwZXMuCiAgLy8gSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHVzZS4KICAvLyBUb3RhbCBib3VuZGluZyByYWRpdXMgb2YgdGhlIEJvZHkgaW5jbHVkaW5nIGl0cyBzaGFwZXMsIHJlbGF0aXZlIHRvIGJvZHkucG9zaXRpb24uCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5pZCA9IEJvZHkuaWRDb3VudGVyKys7CiAgICB0aGlzLmluZGV4ID0gLTE7CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgIHRoaXMucHJlU3RlcCA9IG51bGw7CiAgICB0aGlzLnBvc3RTdGVwID0gbnVsbDsKICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPT09ICdudW1iZXInID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5pbml0UG9zaXRpb24gPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgIH0KCiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkgewogICAgICB0aGlzLnZlbG9jaXR5LmNvcHkob3B0aW9ucy52ZWxvY2l0eSk7CiAgICB9CgogICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5mb3JjZSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBtYXNzID0gdHlwZW9mIG9wdGlvbnMubWFzcyA9PT0gJ251bWJlcicgPyBvcHRpb25zLm1hc3MgOiAwOwogICAgdGhpcy5tYXNzID0gbWFzczsKICAgIHRoaXMuaW52TWFzcyA9IG1hc3MgPiAwID8gMS4wIC8gbWFzcyA6IDA7CiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCB8fCBudWxsOwogICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxOwogICAgdGhpcy50eXBlID0gbWFzcyA8PSAwLjAgPyBCb2R5LlNUQVRJQyA6IEJvZHkuRFlOQU1JQzsKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gdHlwZW9mIEJvZHkuU1RBVElDKSB7CiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTsKICAgIH0KCiAgICB0aGlzLmFsbG93U2xlZXAgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1NsZWVwICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYWxsb3dTbGVlcCA6IHRydWU7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwOwogICAgdGhpcy5zbGVlcFNwZWVkTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgOiAwLjE7CiAgICB0aGlzLnNsZWVwVGltZUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFRpbWVMaW1pdCA6IDE7CiAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgdGhpcy50b3JxdWUgPSBuZXcgVmVjMygpOwogICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMuaW5pdFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICB9CgogICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSkgewogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTsKICAgIH0KCiAgICB0aGlzLmluaXRBbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5zaGFwZXMgPSBbXTsKICAgIHRoaXMuc2hhcGVPZmZzZXRzID0gW107CiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zID0gW107CiAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgdGhpcy5pbnZJbmVydGlhID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkID0gbmV3IE1hdDMoKTsKICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUgPSBuZXcgTWF0MygpOwogICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTsKICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5hbmd1bGFyRGFtcGluZyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ3VsYXJEYW1waW5nIDogMC4wMTsKICAgIHRoaXMubGluZWFyRmFjdG9yID0gbmV3IFZlYzMoMSwgMSwgMSk7CgogICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7CiAgICAgIHRoaXMubGluZWFyRmFjdG9yLmNvcHkob3B0aW9ucy5saW5lYXJGYWN0b3IpOwogICAgfQoKICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgIGlmIChvcHRpb25zLmFuZ3VsYXJGYWN0b3IpIHsKICAgICAgdGhpcy5hbmd1bGFyRmFjdG9yLmNvcHkob3B0aW9ucy5hbmd1bGFyRmFjdG9yKTsKICAgIH0KCiAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpOwogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7CiAgICB0aGlzLndsYW1iZGEgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLnNoYXBlKSB7CiAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7CiAgICB9CgogICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpOwogIH0KICAvKioNCiAgICogV2FrZSB0aGUgYm9keSB1cC4NCiAgICogQG1ldGhvZCB3YWtlVXANCiAgICovCgoKICB3YWtlVXAoKSB7CiAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwOwogICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CgogICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS53YWtldXBFdmVudCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBGb3JjZSBib2R5IHNsZWVwDQogICAqIEBtZXRob2Qgc2xlZXANCiAgICovCgoKICBzbGVlcCgpIHsKICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7CiAgICB0aGlzLnZlbG9jaXR5LnNldCgwLCAwLCAwKTsKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnNldCgwLCAwLCAwKTsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQ2FsbGVkIGV2ZXJ5IHRpbWVzdGVwIHRvIHVwZGF0ZSBpbnRlcm5hbCBzbGVlcCB0aW1lciBhbmQgY2hhbmdlIHNsZWVwIHN0YXRlIGlmIG5lZWRlZC4NCiAgICogQG1ldGhvZCBzbGVlcFRpY2sNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgVGhlIHdvcmxkIHRpbWUgaW4gc2Vjb25kcw0KICAgKi8KCgogIHNsZWVwVGljayh0aW1lKSB7CiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgIGNvbnN0IHNsZWVwU3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZCA9IHRoaXMudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgdGhpcy5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpOwogICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBzcGVlZFNxdWFyZWQgPCBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBZOyAvLyBTbGVlcHkKCiAgICAgICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IHRpbWU7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXB5RXZlbnQpOwogICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHNwZWVkU3F1YXJlZCA+IHNwZWVkTGltaXRTcXVhcmVkKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsgLy8gV2FrZSB1cAogICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHRpbWUgLSB0aGlzLnRpbWVMYXN0U2xlZXB5ID4gdGhpcy5zbGVlcFRpbWVMaW1pdCkgewogICAgICAgIHRoaXMuc2xlZXAoKTsgLy8gU2xlZXBpbmcKCiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgInNvbHZlIG1hc3MiLg0KICAgKiBAbWV0aG9kIHVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMNCiAgICovCgoKICB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCkgewogICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuc2V0WmVybygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gdGhpcy5pbnZNYXNzOwogICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7CiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUuY29weSh0aGlzLmludkluZXJ0aWFXb3JsZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IGEgd29ybGQgcG9pbnQgdG8gbG9jYWwgYm9keSBmcmFtZS4NCiAgICogQG1ldGhvZCBwb2ludFRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuDQogICAqIEBtZXRob2QgdmVjdG9yVG9Mb2NhbEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdmVjdG9yVG9Mb2NhbEZyYW1lKHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuDQogICAqIEBtZXRob2QgcG9pbnRUb1dvcmxkRnJhbWUNCiAgICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBwb2ludFRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuDQogICAqIEBtZXRob2QgdmVjdG9yVG9Xb3JsZEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yDQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEFkZCBhIHNoYXBlIHRvIHRoZSBib2R5IHdpdGggYSBsb2NhbCBvZmZzZXQgYW5kIG9yaWVudGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZFNoYXBlDQogICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlDQogICAqIEBwYXJhbSB7VmVjM30gW19vZmZzZXRdDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl0NCiAgICogQHJldHVybiB7Qm9keX0gVGhlIGJvZHkgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5Lg0KICAgKi8KCgogIGFkZFNoYXBlKHNoYXBlLCBfb2Zmc2V0LCBfb3JpZW50YXRpb24pIHsKICAgIGNvbnN0IG9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKF9vZmZzZXQpIHsKICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7CiAgICB9CgogICAgaWYgKF9vcmllbnRhdGlvbikgewogICAgICBvcmllbnRhdGlvbi5jb3B5KF9vcmllbnRhdGlvbik7CiAgICB9CgogICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7CiAgICB0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG9mZnNldCk7CiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pOwogICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgc2hhcGUuYm9keSA9IHRoaXM7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBib2R5LiBTaG91bGQgYmUgZG9uZSBpZiBhbnkgb2YgdGhlIHNoYXBlcyBhcmUgY2hhbmdlZC4NCiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1cw0KICAgKi8KCgogIHVwZGF0ZUJvdW5kaW5nUmFkaXVzKCkgewogICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7CiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgbGV0IHJhZGl1cyA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsKICAgICAgc2hhcGUudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgY29uc3Qgb2Zmc2V0ID0gc2hhcGVPZmZzZXRzW2ldLmxlbmd0aCgpOwogICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CgogICAgICBpZiAob2Zmc2V0ICsgciA+IHJhZGl1cykgewogICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzOwogIH0KICAvKioNCiAgICogVXBkYXRlcyB0aGUgLmFhYmINCiAgICogQG1ldGhvZCBjb21wdXRlQUFCQg0KICAgKiBAdG9kbyByZW5hbWUgdG8gdXBkYXRlQUFCQigpDQogICAqLwoKCiAgY29tcHV0ZUFBQkIoKSB7CiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlczsKICAgIGNvbnN0IHNoYXBlT2Zmc2V0cyA9IHRoaXMuc2hhcGVPZmZzZXRzOwogICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zOwogICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7CiAgICBjb25zdCBvZmZzZXQgPSB0bXBWZWM7CiAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQkMTsKICAgIGNvbnN0IGJvZHlRdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjsKICAgIGNvbnN0IHNoYXBlQUFCQiA9IGNvbXB1dGVBQUJCX3NoYXBlQUFCQjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOyAvLyBHZXQgc2hhcGUgd29ybGQgcG9zaXRpb24KCiAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTsKICAgICAgb2Zmc2V0LnZhZGQodGhpcy5wb3NpdGlvbiwgb2Zmc2V0KTsgLy8gR2V0IHNoYXBlIHdvcmxkIHF1YXRlcm5pb24KCiAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkIKCiAgICAgIHNoYXBlLmNhbGN1bGF0ZVdvcmxkQUFCQihvZmZzZXQsIG9yaWVudGF0aW9uLCBzaGFwZUFBQkIubG93ZXJCb3VuZCwgc2hhcGVBQUJCLnVwcGVyQm91bmQpOwoKICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICBhYWJiLmNvcHkoc2hhcGVBQUJCKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhYWJiLmV4dGVuZChzaGFwZUFBQkIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkDQogICAqIEBtZXRob2QgdXBkYXRlSW5lcnRpYVdvcmxkDQogICAqLwoKCiAgdXBkYXRlSW5lcnRpYVdvcmxkKGZvcmNlKSB7CiAgICBjb25zdCBJID0gdGhpcy5pbnZJbmVydGlhOwogICAgaWYgKEkueCA9PT0gSS55ICYmIEkueSA9PT0gSS56ICYmICFmb3JjZSkgO2Vsc2UgewogICAgICBjb25zdCBtMSA9IHVpd19tMTsKICAgICAgY29uc3QgbTIgPSB1aXdfbTI7CiAgICAgIG0xLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTsKICAgICAgbTEudHJhbnNwb3NlKG0yKTsKICAgICAgbTEuc2NhbGUoSSwgbTEpOwogICAgICBtMS5tbXVsdChtMiwgdGhpcy5pbnZJbmVydGlhV29ybGQpOwogICAgfQogIH0KCiAgYXBwbHlGb3JjZShmb3JjZSwgcmVsYXRpdmVQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIC8vIE5lZWRlZD8KICAgICAgcmV0dXJuOwogICAgfSAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgZm9yY2UKCgogICAgY29uc3Qgcm90Rm9yY2UgPSBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2U7CiAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2UKCiAgICB0aGlzLmZvcmNlLnZhZGQoZm9yY2UsIHRoaXMuZm9yY2UpOyAvLyBBZGQgcm90YXRpb25hbCBmb3JjZQoKICAgIHRoaXMudG9ycXVlLnZhZGQocm90Rm9yY2UsIHRoaXMudG9ycXVlKTsKICB9CgogIGFwcGx5TG9jYWxGb3JjZShsb2NhbEZvcmNlLCBsb2NhbFBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlOwogICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkOyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsRm9yY2UsIHdvcmxkRm9yY2UpOwogICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgIHRoaXMuYXBwbHlGb3JjZSh3b3JsZEZvcmNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogIH0KCiAgYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbGF0aXZlUG9pbnQpIHsKICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykgewogICAgICByZXR1cm47CiAgICB9IC8vIENvbXB1dGUgcG9pbnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJvZHkgY2VudGVyCgoKICAgIGNvbnN0IHIgPSByZWxhdGl2ZVBvaW50OyAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgIGNvbnN0IHZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvOwogICAgdmVsby5jb3B5KGltcHVsc2UpOwogICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2UKCiAgICB0aGlzLnZlbG9jaXR5LnZhZGQodmVsbywgdGhpcy52ZWxvY2l0eSk7IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBpbXB1bHNlIHZlbG9jaXR5CgogICAgY29uc3Qgcm90VmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG87CiAgICByLmNyb3NzKGltcHVsc2UsIHJvdFZlbG8pOwogICAgLyoNCiAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54Ow0KICAgICByb3RWZWxvLnkgKj0gdGhpcy5pbnZJbmVydGlhLnk7DQogICAgIHJvdFZlbG8ueiAqPSB0aGlzLmludkluZXJ0aWEuejsNCiAgICAgKi8KCiAgICB0aGlzLmludkluZXJ0aWFXb3JsZC52bXVsdChyb3RWZWxvLCByb3RWZWxvKTsgLy8gQWRkIHJvdGF0aW9uYWwgSW1wdWxzZQoKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnZhZGQocm90VmVsbywgdGhpcy5hbmd1bGFyVmVsb2NpdHkpOwogIH0KCiAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlOwogICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50OyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsSW1wdWxzZSwgd29ybGRJbXB1bHNlKTsKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICB0aGlzLmFwcGx5SW1wdWxzZSh3b3JsZEltcHVsc2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgfQogIC8qKg0KICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGJvZHkgc2hhcGUgb3IgbWFzcy4NCiAgICogQG1ldGhvZCB1cGRhdGVNYXNzUHJvcGVydGllcw0KICAgKi8KCgogIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgewogICAgY29uc3QgaGFsZkV4dGVudHMgPSBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzOwogICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7CiAgICBjb25zdCBJID0gdGhpcy5pbmVydGlhOwogICAgY29uc3QgZml4ZWQgPSB0aGlzLmZpeGVkUm90YXRpb247IC8vIEFwcHJveGltYXRlIHdpdGggQUFCQiBib3gKCiAgICB0aGlzLmNvbXB1dGVBQUJCKCk7CiAgICBoYWxmRXh0ZW50cy5zZXQoKHRoaXMuYWFiYi51cHBlckJvdW5kLnggLSB0aGlzLmFhYmIubG93ZXJCb3VuZC54KSAvIDIsICh0aGlzLmFhYmIudXBwZXJCb3VuZC55IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueSkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueiAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnopIC8gMik7CiAgICBCb3guY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgdGhpcy5tYXNzLCBJKTsKICAgIHRoaXMuaW52SW5lcnRpYS5zZXQoSS54ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnggOiAwLCBJLnkgPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueSA6IDAsIEkueiA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS56IDogMCk7CiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCh0cnVlKTsKICB9CiAgLyoqDQogICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5Lg0KICAgKiBAbWV0aG9kIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSByZXN1bHQgdmVjdG9yLg0KICAgKi8KCgogIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgY29uc3QgciA9IG5ldyBWZWMzKCk7CiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcik7CiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyLCByZXN1bHQpOwogICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBNb3ZlIHRoZSBib2R5IGZvcndhcmQgaW4gdGltZS4NCiAgICogQHBhcmFtIHtudW1iZXJ9IGR0IFRpbWUgc3RlcA0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemUgU2V0IHRvIHRydWUgdG8gbm9ybWFsaXplIHRoZSBib2R5IHF1YXRlcm5pb24NCiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplRmFzdCBJZiB0aGUgcXVhdGVybmlvbiBzaG91bGQgYmUgbm9ybWFsaXplZCB1c2luZyAiZmFzdCIgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uDQogICAqLwoKCiAgaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCkgewogICAgLy8gU2F2ZSBwcmV2aW91cyBwb3NpdGlvbgogICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7CiAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KHRoaXMucXVhdGVybmlvbik7CgogICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHZlbG8gPSB0aGlzLnZlbG9jaXR5OwogICAgY29uc3QgYW5ndWxhclZlbG8gPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247CiAgICBjb25zdCBmb3JjZSA9IHRoaXMuZm9yY2U7CiAgICBjb25zdCB0b3JxdWUgPSB0aGlzLnRvcnF1ZTsKICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICBjb25zdCBpbnZNYXNzID0gdGhpcy5pbnZNYXNzOwogICAgY29uc3QgaW52SW5lcnRpYSA9IHRoaXMuaW52SW5lcnRpYVdvcmxkOwogICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7CiAgICBjb25zdCBpTWR0ID0gaW52TWFzcyAqIGR0OwogICAgdmVsby54ICs9IGZvcmNlLnggKiBpTWR0ICogbGluZWFyRmFjdG9yLng7CiAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTsKICAgIHZlbG8ueiArPSBmb3JjZS56ICogaU1kdCAqIGxpbmVhckZhY3Rvci56OwogICAgY29uc3QgZSA9IGludkluZXJ0aWEuZWxlbWVudHM7CiAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yOwogICAgY29uc3QgdHggPSB0b3JxdWUueCAqIGFuZ3VsYXJGYWN0b3IueDsKICAgIGNvbnN0IHR5ID0gdG9ycXVlLnkgKiBhbmd1bGFyRmFjdG9yLnk7CiAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56OwogICAgYW5ndWxhclZlbG8ueCArPSBkdCAqIChlWzBdICogdHggKyBlWzFdICogdHkgKyBlWzJdICogdHopOwogICAgYW5ndWxhclZlbG8ueSArPSBkdCAqIChlWzNdICogdHggKyBlWzRdICogdHkgKyBlWzVdICogdHopOwogICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZwoKICAgIHBvcy54ICs9IHZlbG8ueCAqIGR0OwogICAgcG9zLnkgKz0gdmVsby55ICogZHQ7CiAgICBwb3MueiArPSB2ZWxvLnogKiBkdDsKICAgIHF1YXQuaW50ZWdyYXRlKHRoaXMuYW5ndWxhclZlbG9jaXR5LCBkdCwgdGhpcy5hbmd1bGFyRmFjdG9yLCBxdWF0KTsKCiAgICBpZiAocXVhdE5vcm1hbGl6ZSkgewogICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgICBxdWF0Lm5vcm1hbGl6ZUZhc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYQoKICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCk7CiAgfQoKfQovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaA0KICogb2YgdGhlIHR3byBib2RpZXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4NCiAqIEBldmVudCBjb2xsaWRlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4NCiAqIEBwYXJhbSB7Q29udGFjdEVxdWF0aW9ufSBjb250YWN0IFRoZSBkZXRhaWxzIG9mIHRoZSBjb2xsaXNpb24uDQogKi8KCgpCb2R5LkNPTExJREVfRVZFTlRfTkFNRSA9ICdjb2xsaWRlJzsKLyoqDQogKiBBIGR5bmFtaWMgYm9keSBpcyBmdWxseSBzaW11bGF0ZWQuIENhbiBiZSBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlciwgYnV0IG5vcm1hbGx5IHRoZXkgbW92ZSBhY2NvcmRpbmcgdG8gZm9yY2VzLiBBIGR5bmFtaWMgYm9keSBjYW4gY29sbGlkZSB3aXRoIGFsbCBib2R5IHR5cGVzLiBBIGR5bmFtaWMgYm9keSBhbHdheXMgaGFzIGZpbml0ZSwgbm9uLXplcm8gbWFzcy4NCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBEWU5BTUlDDQogKiBAdHlwZSB7TnVtYmVyfQ0KICovCgpCb2R5LkRZTkFNSUMgPSAxOwovKioNCiAqIEEgc3RhdGljIGJvZHkgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2ltdWxhdGlvbiBhbmQgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gU3RhdGljIGJvZGllcyBjYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgc2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkuIFRoZSB2ZWxvY2l0eSBvZiBhIHN0YXRpYyBib2R5IGlzIGFsd2F5cyB6ZXJvLiBTdGF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgU1RBVElDDQogKiBAdHlwZSB7TnVtYmVyfQ0KICovCgpCb2R5LlNUQVRJQyA9IDI7Ci8qKg0KICogQSBraW5lbWF0aWMgYm9keSBtb3ZlcyB1bmRlciBzaW11bGF0aW9uIGFjY29yZGluZyB0byBpdHMgdmVsb2NpdHkuIFRoZXkgZG8gbm90IHJlc3BvbmQgdG8gZm9yY2VzLiBUaGV5IGNhbiBiZSBtb3ZlZCBtYW51YWxseSwgYnV0IG5vcm1hbGx5IGEga2luZW1hdGljIGJvZHkgaXMgbW92ZWQgYnkgc2V0dGluZyBpdHMgdmVsb2NpdHkuIEEga2luZW1hdGljIGJvZHkgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gS2luZW1hdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLg0KICogQHN0YXRpYw0KICogQHByb3BlcnR5IEtJTkVNQVRJQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5LSU5FTUFUSUMgPSA0OwovKioNCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBBV0FLRQ0KICogQHR5cGUge251bWJlcn0NCiAqLwoKQm9keS5BV0FLRSA9IEJPRFlfU0xFRVBfU1RBVEVTLkFXQUtFOwpCb2R5LlNMRUVQWSA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQWTsKQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HOwpCb2R5LmlkQ291bnRlciA9IDA7Ci8qKg0KICogRGlzcGF0Y2hlZCBhZnRlciBhIHNsZWVwaW5nIGJvZHkgaGFzIHdva2VuIHVwLg0KICogQGV2ZW50IHdha2V1cA0KICovCgpCb2R5Lndha2V1cEV2ZW50ID0gewogIHR5cGU6ICd3YWtldXAnCn07Ci8qKg0KICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGdvbmUgaW4gdG8gdGhlIHNsZWVweSBzdGF0ZS4NCiAqIEBldmVudCBzbGVlcHkNCiAqLwoKQm9keS5zbGVlcHlFdmVudCA9IHsKICB0eXBlOiAnc2xlZXB5Jwp9OwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBmYWxsZW4gYXNsZWVwLg0KICogQGV2ZW50IHNsZWVwDQogKi8KCkJvZHkuc2xlZXBFdmVudCA9IHsKICB0eXBlOiAnc2xlZXAnCn07CmNvbnN0IHRtcFZlYyA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFF1YXQkMSA9IG5ldyBRdWF0ZXJuaW9uKCk7CmNvbnN0IGNvbXB1dGVBQUJCX3NoYXBlQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IHVpd19tMSA9IG5ldyBNYXQzKCk7CmNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7Ci8qKg0KICogQXBwbHkgZm9yY2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkudG9ycXVlLg0KICogQG1ldGhvZCBhcHBseUZvcmNlDQogKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgYW1vdW50IG9mIGZvcmNlIHRvIGFkZC4NCiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLg0KICovCgpjb25zdCBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UgPSBuZXcgVmVjMygpOwovKioNCiAqIEFwcGx5IGZvcmNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuDQogKiBAbWV0aG9kIGFwcGx5TG9jYWxGb3JjZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLg0KICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZSA9IG5ldyBWZWMzKCk7CmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQXBwbHkgaW1wdWxzZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQW4gaW1wdWxzZSBpcyBhIGZvcmNlIGFkZGVkIHRvIGEgYm9keSBkdXJpbmcgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAoaW1wdWxzZSA9IGZvcmNlICogdGltZSkuIEltcHVsc2VzIHdpbGwgYmUgYWRkZWQgdG8gQm9keS52ZWxvY2l0eSBhbmQgQm9keS5hbmd1bGFyVmVsb2NpdHkuDQogKiBAbWV0aG9kIGFwcGx5SW1wdWxzZQ0KICogQHBhcmFtICB7VmVjM30gaW1wdWxzZSBUaGUgYW1vdW50IG9mIGltcHVsc2UgdG8gYWRkLg0KICogQHBhcmFtICB7VmVjM30gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8gPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBcHBseSBsb2NhbGx5LWRlZmluZWQgaW1wdWxzZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5Lg0KICogQG1ldGhvZCBhcHBseUxvY2FsSW1wdWxzZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLg0KICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzID0gbmV3IFZlYzMoKTsKLyoqDQogKiBCYXNlIGNsYXNzIGZvciBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9ucw0KICogQGNsYXNzIEJyb2FkcGhhc2UNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICovCgpjbGFzcyBCcm9hZHBoYXNlIHsKICAvLyBUaGUgd29ybGQgdG8gc2VhcmNoIGZvciBjb2xsaXNpb25zIGluLgogIC8vIElmIHNldCB0byB0cnVlLCB0aGUgYnJvYWRwaGFzZSB1c2VzIGJvdW5kaW5nIGJveGVzIGZvciBpbnRlcnNlY3Rpb24gdGVzdCwgZWxzZSBpdCB1c2VzIGJvdW5kaW5nIHNwaGVyZXMuCiAgLy8gU2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdHMgaW4gdGhlIHdvcmxkIG1vdmVkLgogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB0aGlzLnVzZUJvdW5kaW5nQm94ZXMgPSBmYWxzZTsKICAgIHRoaXMuZGlydHkgPSB0cnVlOwogIH0KICAvKioNCiAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGQNCiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycw0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZCBUaGUgd29ybGQgdG8gc2VhcmNoIGluDQogICAqIEBwYXJhbSB7QXJyYXl9IHAxIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0cw0KICAgKiBAcGFyYW0ge0FycmF5fSBwMiBFbXB0eSBhcnJheSB0byBiZSBmaWxsZWQgd2l0aCBib2R5IG9iamVjdHMNCiAgICovCgoKICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxpc2lvblBhaXJzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBCcm9hZFBoYXNlIGNsYXNzIScpOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYSBib2R5IHBhaXIgbmVlZHMgdG8gYmUgaW50ZXJzZWN0aW9uIHRlc3RlZCBhdCBhbGwuDQogICAqIEBtZXRob2QgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24NCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogICAqIEByZXR1cm4ge2Jvb2x9DQogICAqLwoKCiAgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYm9keUEsIGJvZHlCKSB7CiAgICAvLyBDaGVjayBjb2xsaXNpb24gZmlsdGVyIG1hc2tzCiAgICBpZiAoKGJvZHlBLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUIuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHlCLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUEuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDApIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSAvLyBDaGVjayB0eXBlcwoKCiAgICBpZiAoKChib2R5QS50eXBlICYgQm9keS5TVEFUSUMpICE9PSAwIHx8IGJvZHlBLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpICYmICgoYm9keUIudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5Qi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSkgewogICAgICAvLyBCb3RoIGJvZGllcyBhcmUgc3RhdGljIG9yIHNsZWVwaW5nLiBTa2lwLgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgdm9sdW1lcyBvZiB0d28gYm9kaWVzIGludGVyc2VjdC4NCiAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0DQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAgICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczENCiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMyDQogICAqLwoKCiAgaW50ZXJzZWN0aW9uVGVzdChib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICBpZiAodGhpcy51c2VCb3VuZGluZ0JveGVzKSB7CiAgICAgIHRoaXMuZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgfQogIH0KCiAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgY29uc3QgciA9IEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfcjsKICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIHIpOwogICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7CiAgICBjb25zdCBub3JtMiA9IHIubGVuZ3RoU3F1YXJlZCgpOwoKICAgIGlmIChub3JtMiA8IGJvdW5kaW5nUmFkaXVzU3VtMikgewogICAgICBwYWlyczEucHVzaChib2R5QSk7CiAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBib3hlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuDQogICAqIEBtZXRob2QgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UNCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMQ0KICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczINCiAgICovCgoKICBkb0JvdW5kaW5nQm94QnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICBpZiAoYm9keUEuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgIGJvZHlBLmNvbXB1dGVBQUJCKCk7CiAgICB9CgogICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICBib2R5Qi5jb21wdXRlQUFCQigpOwogICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQgoKCiAgICBpZiAoYm9keUEuYWFiYi5vdmVybGFwcyhib2R5Qi5hYWJiKSkgewogICAgICBwYWlyczEucHVzaChib2R5QSk7CiAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgIH0KICB9CgogIG1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMikgewogICAgY29uc3QgdCA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXA7CiAgICBjb25zdCBwMSA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxOwogICAgY29uc3QgcDIgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMjsKICAgIGNvbnN0IE4gPSBwYWlyczEubGVuZ3RoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgcDFbaV0gPSBwYWlyczFbaV07CiAgICAgIHAyW2ldID0gcGFpcnMyW2ldOwogICAgfQoKICAgIHBhaXJzMS5sZW5ndGggPSAwOwogICAgcGFpcnMyLmxlbmd0aCA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBpZDEgPSBwMVtpXS5pZDsKICAgICAgY29uc3QgaWQyID0gcDJbaV0uaWQ7CiAgICAgIGNvbnN0IGtleSA9IGlkMSA8IGlkMiA/IGlkMSArICIsIiArIGlkMiA6IGlkMiArICIsIiArIGlkMTsKICAgICAgdFtrZXldID0gaTsKICAgICAgdC5rZXlzLnB1c2goa2V5KTsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdC5rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGtleSA9IHQua2V5cy5wb3AoKTsKICAgICAgY29uc3QgcGFpckluZGV4ID0gdFtrZXldOwogICAgICBwYWlyczEucHVzaChwMVtwYWlySW5kZXhdKTsKICAgICAgcGFpcnMyLnB1c2gocDJbcGFpckluZGV4XSk7CiAgICAgIGRlbGV0ZSB0W2tleV07CiAgICB9CiAgfQogIC8qKg0KICAgKiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjYXNzZXMNCiAgICogQG1ldGhvZCBzZXRXb3JsZA0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKi8KCgogIHNldFdvcmxkKHdvcmxkKSB7fQogIC8qKg0KICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiB0aGUgQUFCQi4NCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLg0KICAgKiBAcmV0dXJuIHthcnJheX0NCiAgICovCgoKICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkgewogICAgY29uc29sZS53YXJuKCcuYWFiYlF1ZXJ5IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIEJyb2FkcGhhc2Ugc3ViY2xhc3MuJyk7CiAgICByZXR1cm4gW107CiAgfQoKfQovKioNCiAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBzcGhlcmVzIG9mIHR3byBib2RpZXMgYXJlIGludGVyc2VjdGluZy4NCiAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbg0KICogQHBhcmFtIHtBcnJheX0gcGFpcnMyIGJvZHlCIGlzIGFwcGVuZGVkIHRvIHRoaXMgYXJyYXkgaWYgaW50ZXJzZWN0aW9uDQogKi8KCgpjb25zdCAvLyBUZW1wIG9iamVjdHMKQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTsKLyoqDQogKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy4NCiAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlDQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczENCiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMg0KICovCgpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0gewogIGtleXM6IFtdCn07CmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107CmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyID0gW107CgpCcm9hZHBoYXNlLmJvdW5kaW5nU3BoZXJlQ2hlY2sgPSAoYm9keUEsIGJvZHlCKSA9PiB7CiAgY29uc3QgZGlzdCA9IG5ldyBWZWMzKCk7IC8vIGJzY19kaXN0OwoKICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTsKICBjb25zdCBzYSA9IGJvZHlBLnNoYXBlc1swXTsKICBjb25zdCBzYiA9IGJvZHlCLnNoYXBlc1swXTsKICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTsKfTsKLyoqDQogKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLCB1c2VkIGluIGxhY2sgb2YgYmV0dGVyIG9uZXMuDQogKiBAY2xhc3MgTmFpdmVCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBkZXNjcmlwdGlvbiBUaGUgbmFpdmUgYnJvYWRwaGFzZSBsb29rcyBhdCBhbGwgcG9zc2libGUgcGFpcnMgd2l0aG91dCByZXN0cmljdGlvbiwgdGhlcmVmb3JlIGl0IGhhcyBjb21wbGV4aXR5IE5eMiAod2hpY2ggaXMgYmFkKQ0KICogQGV4dGVuZHMgQnJvYWRwaGFzZQ0KICovCgpjbGFzcyBOYWl2ZUJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYWxsIHRoZSBjb2xsaXNpb24gcGFpcnMgaW4gdGhlIHBoeXNpY3Mgd29ybGQNCiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycw0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczENCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyDQogICAqLwoKCiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICBjb25zdCBuID0gYm9kaWVzLmxlbmd0aDsKICAgIGxldCBiaTsKICAgIGxldCBiajsgLy8gTmFpdmUgTl4yIGZ0dyEKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBpOyBqKyspIHsKICAgICAgICBiaSA9IGJvZGllc1tpXTsKICAgICAgICBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpOwogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLg0KICAgKiBAbWV0aG9kIGFhYmJRdWVyeQ0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4NCiAgICogQHJldHVybiB7YXJyYXl9DQogICAqLwoKCiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IHdvcmxkLmJvZGllc1tpXTsKCiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGIuY29tcHV0ZUFBQkIoKTsKICAgICAgfSAvLyBVZ2x5IGhhY2sgdW50aWwgQm9keSBnZXRzIGFhYmIKCgogICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgcmVzdWx0LnB1c2goYik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KLyoqDQogKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhLg0KICogQGNsYXNzIFJheWNhc3RSZXN1bHQNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgUmF5Y2FzdFJlc3VsdCB7CiAgLy8gVGhlIGluZGV4IG9mIHRoZSBoaXQgdHJpYW5nbGUsIGlmIHRoZSBoaXQgc2hhcGUgd2FzIGEgdHJpbWVzaC4KICAvLyBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0LgogIC8vIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzLgogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5yYXlGcm9tV29ybGQgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yYXlUb1dvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQgPSBuZXcgVmVjMygpOwogICAgdGhpcy5oaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICB0aGlzLnNoYXBlID0gbnVsbDsKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xOwogICAgdGhpcy5kaXN0YW5jZSA9IC0xOwogICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBSZXNldCBhbGwgcmVzdWx0IGRhdGEuDQogICAqIEBtZXRob2QgcmVzZXQNCiAgICovCgoKICByZXNldCgpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkLnNldFplcm8oKTsKICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLnNldFplcm8oKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBhYm9ydA0KICAgKi8KCgogIGFib3J0KCkgewogICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTsKICB9CiAgLyoqDQogICAqIEBtZXRob2Qgc2V0DQogICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkDQogICAqIEBwYXJhbSB7VmVjM30gcmF5VG9Xb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IGhpdE5vcm1hbFdvcmxkDQogICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZA0KICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlDQogICAqLwoKCiAgc2V0KHJheUZyb21Xb3JsZCwgcmF5VG9Xb3JsZCwgaGl0Tm9ybWFsV29ybGQsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSkgewogICAgdGhpcy5yYXlGcm9tV29ybGQuY29weShyYXlGcm9tV29ybGQpOwogICAgdGhpcy5yYXlUb1dvcmxkLmNvcHkocmF5VG9Xb3JsZCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLmNvcHkoaGl0Tm9ybWFsV29ybGQpOwogICAgdGhpcy5oaXRQb2ludFdvcmxkLmNvcHkoaGl0UG9pbnRXb3JsZCk7CiAgICB0aGlzLnNoYXBlID0gc2hhcGU7CiAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlOwogIH0KCn0KLyoqDQogKiBBIGxpbmUgaW4gM0Qgc3BhY2UgdGhhdCBpbnRlcnNlY3RzIGJvZGllcyBhbmQgcmV0dXJuIHBvaW50cy4NCiAqIEBjbGFzcyBSYXkNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtWZWMzfSBmcm9tDQogKiBAcGFyYW0ge1ZlYzN9IHRvDQogKi8KCmNsYXNzIFJheSB7CiAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLgogIC8vIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBSYXkgdG8gdGFrZSAuY29sbGlzaW9uUmVzcG9uc2UgZmxhZ3MgaW50byBhY2NvdW50IG9uIGJvZGllcyBhbmQgc2hhcGVzLgogIC8vIElmIHNldCB0byB0cnVlLCB0aGUgcmF5IHNraXBzIGFueSBoaXRzIHdpdGggbm9ybWFsLmRvdChyYXlEaXJlY3Rpb24pIDwgMC4KICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULgogIC8vIEN1cnJlbnQgcmVzdWx0IG9iamVjdC4KICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGR1cmluZyBpbnRlcnNlY3RXb3JsZCgpIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLgogIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLgogIGNvbnN0cnVjdG9yKGZyb20gPSBuZXcgVmVjMygpLCB0byA9IG5ldyBWZWMzKCkpIHsKICAgIHRoaXMuZnJvbSA9IGZyb20uY2xvbmUoKTsKICAgIHRoaXMudG8gPSB0by5jbG9uZSgpOwogICAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5wcmVjaXNpb24gPSAwLjAwMDE7CiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlOwogICAgdGhpcy5za2lwQmFja2ZhY2VzID0gZmFsc2U7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSAtMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTsKICAgIHRoaXMubW9kZSA9IFJheS5BTlk7CiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwoKICAgIHRoaXMuY2FsbGJhY2sgPSByZXN1bHQgPT4ge307CiAgfQogIC8qKg0KICAgKiBEbyBpdGVyc2VjdGlvbiBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIFdvcmxkLg0KICAgKiBAbWV0aG9kIGludGVyc2VjdFdvcmxkDQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMNCiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZywgb3RoZXJ3aXNlIGZhbHNlLg0KICAgKi8KCgogIGludGVyc2VjdFdvcmxkKHdvcmxkLCBvcHRpb25zKSB7CiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgUmF5LkFOWTsKICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9ICEhb3B0aW9ucy5za2lwQmFja2ZhY2VzOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7CiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CgogICAgaWYgKG9wdGlvbnMuZnJvbSkgewogICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pOwogICAgfQoKICAgIGlmIChvcHRpb25zLnRvKSB7CiAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTsKICAgIH0KCiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCAoKCkgPT4ge30pOwoKICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICB0aGlzLnJlc3VsdC5yZXNldCgpOwogICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCKTsKICAgIHRtcEFycmF5Lmxlbmd0aCA9IDA7CiAgICB3b3JsZC5icm9hZHBoYXNlLmFhYmJRdWVyeSh3b3JsZCwgdG1wQUFCQiwgdG1wQXJyYXkpOwogICAgdGhpcy5pbnRlcnNlY3RCb2RpZXModG1wQXJyYXkpOwogICAgcmV0dXJuIHRoaXMuaGFzSGl0OwogIH0KICAvKioNCiAgICogU2hvb3QgYSByYXkgYXQgYSBib2R5LCBnZXQgYmFjayBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGl0Lg0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkIC0gc2V0IHRoZSByZXN1bHQgcHJvcGVydHkgb2YgdGhlIFJheSBpbnN0ZWFkLg0KICAgKi8KCgogIGludGVyc2VjdEJvZHkoYm9keSwgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgfQoKICAgIGNvbnN0IGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7CgogICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICgodGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB4aSA9IGludGVyc2VjdEJvZHlfeGk7CiAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7CgogICAgZm9yIChsZXQgaSA9IDAsIE4gPSBib2R5LnNoYXBlcy5sZW5ndGg7IGkgPCBOOyBpKyspIHsKICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTsKCiAgICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFzaGFwZS5jb2xsaXNpb25SZXNwb25zZSkgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwCiAgICAgIH0KCiAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgYm9keS5xdWF0ZXJuaW9uLnZtdWx0KGJvZHkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgIHhpLnZhZGQoYm9keS5wb3NpdGlvbiwgeGkpOwogICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpOwoKICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXMNCiAgICogQHBhcmFtIHtBcnJheX0gYm9kaWVzIEFuIGFycmF5IG9mIEJvZHkgb2JqZWN0cy4NCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkDQogICAqLwoKCiAgaW50ZXJzZWN0Qm9kaWVzKGJvZGllcywgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgfQoKICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykgewogICAgICB0aGlzLmludGVyc2VjdEJvZHkoYm9kaWVzW2ldKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuDQogICAqLwoKCiAgdXBkYXRlRGlyZWN0aW9uKCkgewogICAgdGhpcy50by52c3ViKHRoaXMuZnJvbSwgdGhpcy5kaXJlY3Rpb24pOwogICAgdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgfQoKICBpbnRlcnNlY3RTaGFwZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHkpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207IC8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlCgogICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTsKCiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgaW50ZXJzZWN0TWV0aG9kID0gdGhpc1tzaGFwZS50eXBlXTsKCiAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7CiAgICAgIGludGVyc2VjdE1ldGhvZC5jYWxsKHRoaXMsIHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgc2hhcGUpOwogICAgfQogIH0KCiAgX2ludGVyc2VjdEJveChib3gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Q29udmV4KGJveC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKTsKICB9CgogIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbAoKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gbmV3IFZlYzMoMCwgMCwgMSk7CiAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7CiAgICBjb25zdCBsZW4gPSBuZXcgVmVjMygpOwogICAgZnJvbS52c3ViKHBvc2l0aW9uLCBsZW4pOwogICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTsKICAgIHRvLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICBjb25zdCBwbGFuZVRvVG8gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTsKCiAgICBpZiAocGxhbmVUb0Zyb20gKiBwbGFuZVRvVG8gPiAwKSB7CiAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXQKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChmcm9tLmRpc3RhbmNlVG8odG8pIDwgcGxhbmVUb0Zyb20pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IG5fZG90X2RpciA9IHdvcmxkTm9ybWFsLmRvdChkaXJlY3Rpb24pOwoKICAgIGlmIChNYXRoLmFicyhuX2RvdF9kaXIpIDwgdGhpcy5wcmVjaXNpb24pIHsKICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGRpcl9zY2FsZWRfd2l0aF90ID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpOwogICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTsKICAgIGNvbnN0IHQgPSAtd29ybGROb3JtYWwuZG90KHBsYW5lUG9pbnRUb0Zyb20pIC8gbl9kb3RfZGlyOwogICAgZGlyZWN0aW9uLnNjYWxlKHQsIGRpcl9zY2FsZWRfd2l0aF90KTsKICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7CiAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogIH0KICAvKioNCiAgICogR2V0IHRoZSB3b3JsZCBBQUJCIG9mIHRoZSByYXkuDQogICAqLwoKCiAgZ2V0QUFCQihhYWJiKSB7CiAgICBjb25zdCB7CiAgICAgIGxvd2VyQm91bmQsCiAgICAgIHVwcGVyQm91bmQKICAgIH0gPSBhYWJiOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGxvd2VyQm91bmQueCA9IE1hdGgubWluKHRvLngsIGZyb20ueCk7CiAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpOwogICAgbG93ZXJCb3VuZC56ID0gTWF0aC5taW4odG8ueiwgZnJvbS56KTsKICAgIHVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRvLngsIGZyb20ueCk7CiAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpOwogICAgdXBwZXJCb3VuZC56ID0gTWF0aC5tYXgodG8ueiwgZnJvbS56KTsKICB9CgogIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGRhdGEgPSBzaGFwZS5kYXRhOwogICAgY29uc3QgdyA9IHNoYXBlLmVsZW1lbnRTaXplOyAvLyBDb252ZXJ0IHRoZSByYXkgdG8gbG9jYWwgaGVpZ2h0ZmllbGQgY29vcmRpbmF0ZXMKCiAgICBjb25zdCBsb2NhbFJheSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5OyAvL25ldyBSYXkodGhpcy5mcm9tLCB0aGlzLnRvKTsKCiAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTsKICAgIGxvY2FsUmF5LnRvLmNvcHkodGhpcy50byk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LmZyb20sIGxvY2FsUmF5LmZyb20pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pOwogICAgbG9jYWxSYXkudXBkYXRlRGlyZWN0aW9uKCk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXg7CiAgICBsZXQgaU1pblg7CiAgICBsZXQgaU1pblk7CiAgICBsZXQgaU1heFg7CiAgICBsZXQgaU1heFk7IC8vIFNldCB0byBtYXgKCiAgICBpTWluWCA9IGlNaW5ZID0gMDsKICAgIGlNYXhYID0gaU1heFkgPSBzaGFwZS5kYXRhLmxlbmd0aCAtIDE7CiAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTsKICAgIGxvY2FsUmF5LmdldEFBQkIoYWFiYik7CiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7CiAgICBpTWluWSA9IE1hdGgubWF4KGlNaW5ZLCBpbmRleFsxXSk7CiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpOwogICAgaU1heFkgPSBNYXRoLm1pbihpTWF4WSwgaW5kZXhbMV0gKyAxKTsKCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2hhcGUuZ2V0QWFiYkF0SW5kZXgoaSwgaiwgYWFiYik7CgogICAgICAgIGlmICghYWFiYi5vdmVybGFwc1JheShsb2NhbFJheSkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gTG93ZXIgdHJpYW5nbGUKCgogICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7CgogICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgc2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpOwogICAgICB9CiAgICB9CiAgfQoKICBfaW50ZXJzZWN0U3BoZXJlKHNwaGVyZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCByID0gc3BoZXJlLnJhZGl1czsKICAgIGNvbnN0IGEgPSAodG8ueCAtIGZyb20ueCkgKiogMiArICh0by55IC0gZnJvbS55KSAqKiAyICsgKHRvLnogLSBmcm9tLnopICoqIDI7CiAgICBjb25zdCBiID0gMiAqICgodG8ueCAtIGZyb20ueCkgKiAoZnJvbS54IC0gcG9zaXRpb24ueCkgKyAodG8ueSAtIGZyb20ueSkgKiAoZnJvbS55IC0gcG9zaXRpb24ueSkgKyAodG8ueiAtIGZyb20ueikgKiAoZnJvbS56IC0gcG9zaXRpb24ueikpOwogICAgY29uc3QgYyA9IChmcm9tLnggLSBwb3NpdGlvbi54KSAqKiAyICsgKGZyb20ueSAtIHBvc2l0aW9uLnkpICoqIDIgKyAoZnJvbS56IC0gcG9zaXRpb24ueikgKiogMiAtIHIgKiogMjsKICAgIGNvbnN0IGRlbHRhID0gYiAqKiAyIC0gNCAqIGEgKiBjOwogICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50OwogICAgY29uc3Qgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7CgogICAgaWYgKGRlbHRhIDwgMCkgewogICAgICAvLyBObyBpbnRlcnNlY3Rpb24KICAgICAgcmV0dXJuOwogICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkgewogICAgICAvLyBzaW5nbGUgaW50ZXJzZWN0aW9uIHBvaW50CiAgICAgIGZyb20ubGVycCh0bywgZGVsdGEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBkMSA9ICgtYiAtIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTsKICAgICAgY29uc3QgZDIgPSAoLWIgKyBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CgogICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7CiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMSwgaW50ZXJzZWN0aW9uUG9pbnQpOwogICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHsKICAgICAgICBmcm9tLmxlcnAodG8sIGQyLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICB9CiAgICB9CiAgfQoKICBfaW50ZXJzZWN0Q29udmV4KHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykgewogICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDsKICAgIGNvbnN0IHZlY3RvciA9IGludGVyc2VjdENvbnZleF92ZWN0b3I7CiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgIGNvbnN0IGZhY2VzID0gc2hhcGUuZmFjZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHNoYXBlLnZlcnRpY2VzOwogICAgY29uc3Qgbm9ybWFscyA9IHNoYXBlLmZhY2VOb3JtYWxzOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZnJvbVRvRGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8odG8pOwogICAgY29uc3QgTmZhY2VzID0gZmFjZUxpc3QgPyBmYWNlTGlzdC5sZW5ndGggOiBmYWNlcy5sZW5ndGg7CiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsKCiAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykgewogICAgICBjb25zdCBmaSA9IGZhY2VMaXN0ID8gZmFjZUxpc3Rbal0gOiBqOwogICAgICBjb25zdCBmYWNlID0gZmFjZXNbZmldOwogICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07CiAgICAgIGNvbnN0IHEgPSBxdWF0OwogICAgICBjb25zdCB4ID0gcG9zaXRpb247IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2UKICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgdmVjdG9yLmNvcHkodmVydGljZXNbZmFjZVswXV0pOwogICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTsKICAgICAgdmVjdG9yLnZhZGQoeCwgdmVjdG9yKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci4KCiAgICAgIHZlY3Rvci52c3ViKGZyb20sIHZlY3Rvcik7IC8vIEdldCBwbGFuZSBub3JtYWwKCiAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgIGNvbnN0IGRvdCA9IGRpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKCiAgICAgIGlmIChNYXRoLmFicyhkb3QpIDwgdGhpcy5wcmVjaXNpb24pIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lCgoKICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5CgogICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIGlmIChkb3QgPCAwKSB7CiAgICAgIC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgZGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gYSBpcyB0aGUgcG9pbnQgd2UgY29tcGFyZSBwb2ludHMgYiBhbmQgYyB3aXRoLgoKICAgICAgYS5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgcS52bXVsdChhLCBhKTsKICAgICAgeC52YWRkKGEsIGEpOwoKICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAvLyBUcmFuc2Zvcm0gMyB2ZXJ0aWNlcyB0byB3b3JsZCBjb29yZHMKICAgICAgICBiLmNvcHkodmVydGljZXNbZmFjZVtpXV0pOwogICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pOwogICAgICAgIHEudm11bHQoYiwgYik7CiAgICAgICAgcS52bXVsdChjLCBjKTsKICAgICAgICB4LnZhZGQoYiwgYik7CiAgICAgICAgeC52YWRkKGMsIGMpOwogICAgICAgIGNvbnN0IGRpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VUbyhmcm9tKTsKCiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIGZpKTsKICAgICAgfSAvLyB9CgogICAgfQogIH0KICAvKioNCiAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC4NCiAgICogQHRvZG8gVXNlIE9jdHJlZSBsb29rdXANCiAgICovCgoKICBfaW50ZXJzZWN0VHJpbWVzaChtZXNoLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykgewogICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWw7CiAgICBjb25zdCB0cmlhbmdsZXMgPSBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlczsKICAgIGNvbnN0IHRyZWVUcmFuc2Zvcm0gPSBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm07CiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgY29uc3QgbG9jYWxEaXJlY3Rpb24gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uOwogICAgY29uc3QgbG9jYWxGcm9tID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb207CiAgICBjb25zdCBsb2NhbFRvID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvOwogICAgY29uc3Qgd29ybGRJbnRlcnNlY3RQb2ludCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludDsKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbDsKICAgIGNvbnN0IGZhY2VMaXN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZhY2VMaXN0IHx8IG51bGw7IC8vIENoZWNraW5nIGZhY2VzCgogICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlczsKICAgIGNvbnN0IHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHMKCiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICB0cmVlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pOwogICAgdHJlZVRyYW5zZm9ybS5xdWF0ZXJuaW9uLmNvcHkocXVhdCk7IC8vIFRyYW5zZm9ybSByYXkgdG8gbG9jYWwgc3BhY2UhCgogICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGZyb20sIGxvY2FsRnJvbSk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIHRvLCBsb2NhbFRvKTsKICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7CiAgICBsb2NhbFRvLnkgKj0gbWVzaC5zY2FsZS55OwogICAgbG9jYWxUby56ICo9IG1lc2guc2NhbGUuejsKICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDsKICAgIGxvY2FsRnJvbS55ICo9IG1lc2guc2NhbGUueTsKICAgIGxvY2FsRnJvbS56ICo9IG1lc2guc2NhbGUuejsKICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTsKICAgIGxvY2FsRGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogICAgY29uc3QgZnJvbVRvRGlzdGFuY2VTcXVhcmVkID0gbG9jYWxGcm9tLmRpc3RhbmNlU3F1YXJlZChsb2NhbFRvKTsKICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHRyaWFuZ2xlc0luZGV4ID0gdHJpYW5nbGVzW2ldOwogICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZQogICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWwKICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uCgogICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgYS52c3ViKGxvY2FsRnJvbSwgdmVjdG9yKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgIGNvbnN0IGRvdCA9IGxvY2FsRGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbAogICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pewogICAgICAvLyAgICAgY29udGludWU7CiAgICAgIC8vIH0KICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5CgogICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgbG9jYWxEaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7CiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlcwoKICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDMgKyAxXSwgYik7CiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMl0sIGMpOwogICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTsKCiAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSkgfHwgc3F1YXJlZERpc3RhbmNlID4gZnJvbVRvRGlzdGFuY2VTcXVhcmVkKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gLy8gdHJhbnNmb3JtIGludGVyc2VjdHBvaW50IGFuZCBub3JtYWwgdG8gd29ybGQKCgogICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXQsIG5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIGludGVyc2VjdFBvaW50LCB3b3JsZEludGVyc2VjdFBvaW50KTsKICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTsKICAgIH0KCiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICB9CiAgLyoqDQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlDQogICAqLwoKCiAgcmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGhpdEZhY2VJbmRleCkgewogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKGhpdFBvaW50V29ybGQpOwogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7IC8vIFNraXAgYmFjayBmYWNlcz8KCiAgICBpZiAodGhpcy5za2lwQmFja2ZhY2VzICYmIG5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pID4gMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgcmVzdWx0LmhpdEZhY2VJbmRleCA9IHR5cGVvZiBoaXRGYWNlSW5kZXggIT09ICd1bmRlZmluZWQnID8gaGl0RmFjZUluZGV4IDogLTE7CgogICAgc3dpdGNoICh0aGlzLm1vZGUpIHsKICAgICAgY2FzZSBSYXkuQUxMOgogICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgdGhpcy5jYWxsYmFjayhyZXN1bHQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBSYXkuQ0xPU0VTVDoKICAgICAgICAvLyBTdG9yZSBpZiBjbG9zZXIgdGhhbiBjdXJyZW50IGNsb3Nlc3QKICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHsKICAgICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIFJheS5BTlk6CiAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLgogICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgcmVzdWx0LnNob3VsZFN0b3AgPSB0cnVlOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCn0KClJheS5DTE9TRVNUID0gMTsKUmF5LkFOWSA9IDI7ClJheS5BTEwgPSA0Owpjb25zdCB0bXBBQUJCID0gbmV3IEFBQkIoKTsKY29uc3QgdG1wQXJyYXkgPSBbXTsKY29uc3QgdjEgPSBuZXcgVmVjMygpOwpjb25zdCB2MiA9IG5ldyBWZWMzKCk7Ci8qDQogKiBBcyBwZXIgIkJhcnljZW50cmljIFRlY2huaXF1ZSIgYXMgbmFtZWQgaGVyZSBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvZGVmYXVsdC5odG1sIEJ1dCB3aXRob3V0IHRoZSBkaXZpc2lvbg0KICovCgpSYXkucG9pbnRJblRyaWFuZ2xlID0gcG9pbnRJblRyaWFuZ2xlOwoKZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKHAsIGEsIGIsIGMpIHsKICBjLnZzdWIoYSwgdjApOwogIGIudnN1YihhLCB2MSk7CiAgcC52c3ViKGEsIHYyKTsKICBjb25zdCBkb3QwMCA9IHYwLmRvdCh2MCk7CiAgY29uc3QgZG90MDEgPSB2MC5kb3QodjEpOwogIGNvbnN0IGRvdDAyID0gdjAuZG90KHYyKTsKICBjb25zdCBkb3QxMSA9IHYxLmRvdCh2MSk7CiAgY29uc3QgZG90MTIgPSB2MS5kb3QodjIpOwogIGxldCB1OwogIGxldCB2OwogIHJldHVybiAodSA9IGRvdDExICogZG90MDIgLSBkb3QwMSAqIGRvdDEyKSA+PSAwICYmICh2ID0gZG90MDAgKiBkb3QxMiAtIGRvdDAxICogZG90MDIpID49IDAgJiYgdSArIHYgPCBkb3QwMCAqIGRvdDExIC0gZG90MDEgKiBkb3QwMTsKfQoKY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdEJvZHlfcWkgPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCBpbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7CmNvbnN0IGEgPSBuZXcgVmVjMygpOwpjb25zdCBiID0gbmV3IFZlYzMoKTsKY29uc3QgYyA9IG5ldyBWZWMzKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5QTEFORV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RQbGFuZTsKY29uc3QgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyA9IHsKICBmYWNlTGlzdDogWzBdCn07CmNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7CmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4ID0gW107ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuSEVJR0hURklFTERdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0SGVpZ2h0ZmllbGQ7CmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCA9IG5ldyBWZWMzKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuU1BIRVJFXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFNwaGVyZTsKY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdENvbnZleF92ZWN0b3IgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST05dID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0Q29udmV4Owpjb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5UUklNRVNIXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaW1lc2g7CmNvbnN0IHYwID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0ID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7CiAgLy8gdjAgaXMgdmVjdG9yIGZyb20gZnJvbSB0byBwb3NpdGlvbgogIHBvc2l0aW9uLnZzdWIoZnJvbSwgdjApOwogIGNvbnN0IGRvdCA9IHYwLmRvdChkaXJlY3Rpb24pOyAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24qZG90ICsgZnJvbQoKICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpOwogIGludGVyc2VjdC52YWRkKGZyb20sIGludGVyc2VjdCk7CiAgY29uc3QgZGlzdGFuY2UgPSBwb3NpdGlvbi5kaXN0YW5jZVRvKGludGVyc2VjdCk7CiAgcmV0dXJuIGRpc3RhbmNlOwp9Ci8qKg0KICogU3dlZXAgYW5kIHBydW5lIGJyb2FkcGhhc2UgYWxvbmcgb25lIGF4aXMuDQogKg0KICogQGNsYXNzIFNBUEJyb2FkcGhhc2UNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXQ0KICogQGV4dGVuZHMgQnJvYWRwaGFzZQ0KICovCgoKY2xhc3MgU0FQQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2UgewogIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS4KICAvLyBUaGUgd29ybGQgdG8gc2VhcmNoIGluLgogIC8vIEF4aXMgdG8gc29ydCB0aGUgYm9kaWVzIGFsb25nLiBTZXQgdG8gMCBmb3IgeCBheGlzLCBhbmQgMSBmb3IgeSBheGlzLiBGb3IgYmVzdCBwZXJmb3JtYW5jZSwgY2hvb3NlIGFuIGF4aXMgdGhhdCB0aGUgYm9kaWVzIGFyZSBzcHJlYWQgb3V0IG1vcmUgb24uCiAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLmF4aXNMaXN0ID0gW107CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgIHRoaXMuYXhpc0luZGV4ID0gMDsKICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDsKCiAgICB0aGlzLl9hZGRCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHsKICAgICAgYXhpc0xpc3QucHVzaChldmVudC5ib2R5KTsKICAgIH07CgogICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7CgogICAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpOwogICAgICB9CiAgICB9OwoKICAgIGlmICh3b3JsZCkgewogICAgICB0aGlzLnNldFdvcmxkKHdvcmxkKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENoYW5nZSB0aGUgd29ybGQNCiAgICogQG1ldGhvZCBzZXRXb3JsZA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICovCgoKICBzZXRXb3JsZCh3b3JsZCkgewogICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5CiAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZAoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMuYXhpc0xpc3QucHVzaCh3b3JsZC5ib2RpZXNbaV0pOwogICAgfSAvLyBSZW1vdmUgb2xkIGhhbmRsZXJzLCBpZiBhbnkKCgogICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTsKICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7IC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLgoKICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOwogICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBDb2xsZWN0IGFsbCBjb2xsaXNpb24gcGFpcnMNCiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycw0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7QXJyYXl9IHAxDQogICAqIEBwYXJhbSAge0FycmF5fSBwMg0KICAgKi8KCgogIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICB0aGlzLnNvcnRMaXN0KCk7CiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0gLy8gTG9vayB0aHJvdWdoIHRoZSBsaXN0CgoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgTjsgaisrKSB7CiAgICAgICAgY29uc3QgYmogPSBib2RpZXNbal07CgogICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGlmICghU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyhiaSwgYmosIGF4aXNJbmRleCkpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcDEsIHAyKTsKICAgICAgfQogICAgfQogIH0KCiAgc29ydExpc3QoKSB7CiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCcwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBheGlzTGlzdFtpXTsKCiAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICBiaS5jb21wdXRlQUFCQigpOwogICAgICB9CiAgICB9IC8vIFNvcnQgdGhlIGxpc3QKCgogICAgaWYgKGF4aXNJbmRleCA9PT0gMCkgewogICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYKGF4aXNMaXN0KTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7CiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkoYXhpc0xpc3QpOwogICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WihheGlzTGlzdCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3QNCiAgICogYXhpcyB0byB1c2UuIFdpbGwgYXV0b21hdGljYWxseSBzZXQgcHJvcGVydHkgLmF4aXNJbmRleC4NCiAgICogQG1ldGhvZCBhdXRvRGV0ZWN0QXhpcw0KICAgKi8KCgogIGF1dG9EZXRlY3RBeGlzKCkgewogICAgbGV0IHN1bVggPSAwOwogICAgbGV0IHN1bVgyID0gMDsKICAgIGxldCBzdW1ZID0gMDsKICAgIGxldCBzdW1ZMiA9IDA7CiAgICBsZXQgc3VtWiA9IDA7CiAgICBsZXQgc3VtWjIgPSAwOwogICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDsKICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwogICAgY29uc3QgaW52TiA9IDEgLyBOOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgY29uc3QgY2VudGVyWCA9IGIucG9zaXRpb24ueDsKICAgICAgc3VtWCArPSBjZW50ZXJYOwogICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDsKICAgICAgY29uc3QgY2VudGVyWSA9IGIucG9zaXRpb24ueTsKICAgICAgc3VtWSArPSBjZW50ZXJZOwogICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTsKICAgICAgY29uc3QgY2VudGVyWiA9IGIucG9zaXRpb24uejsKICAgICAgc3VtWiArPSBjZW50ZXJaOwogICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjsKICAgIH0KCiAgICBjb25zdCB2YXJpYW5jZVggPSBzdW1YMiAtIHN1bVggKiBzdW1YICogaW52TjsKICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOOwogICAgY29uc3QgdmFyaWFuY2VaID0gc3VtWjIgLSBzdW1aICogc3VtWiAqIGludk47CgogICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWSkgewogICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7CiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgfQogICAgfSBlbHNlIGlmICh2YXJpYW5jZVkgPiB2YXJpYW5jZVopIHsKICAgICAgdGhpcy5heGlzSW5kZXggPSAxOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5heGlzSW5kZXggPSAyOwogICAgfQogIH0KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi4NCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uDQogICAqIEByZXR1cm4ge2FycmF5fQ0KICAgKi8KCgogIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgIHRoaXMuc29ydExpc3QoKTsKICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlOwogICAgfQoKICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgbGV0IGF4aXMgPSAneCc7CgogICAgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBheGlzID0gJ3knOwogICAgfQoKICAgIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgYXhpcyA9ICd6JzsKICAgIH0KCiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBsb3dlciA9IGFhYmIubG93ZXJCb3VuZFtheGlzXTsKICAgIGNvbnN0IHVwcGVyID0gYWFiYi51cHBlckJvdW5kW2F4aXNdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhpc0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGF4aXNMaXN0W2ldOwoKICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgYi5jb21wdXRlQUFCQigpOwogICAgICB9CgogICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgcmVzdWx0LnB1c2goYik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KLyoqDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGluc2VydGlvblNvcnRYDQogKiBAcGFyYW0gIHtBcnJheX0gYQ0KICogQHJldHVybiB7QXJyYXl9DQogKi8KCgpTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYID0gYSA9PiB7CiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgY29uc3QgdiA9IGFbaV07CiAgICBsZXQgajsKCiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnggPD0gdi5hYWJiLmxvd2VyQm91bmQueCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBhW2ogKyAxXSA9IGFbal07CiAgICB9CgogICAgYVtqICsgMV0gPSB2OwogIH0KCiAgcmV0dXJuIGE7Cn07Ci8qKg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WQ0KICogQHBhcmFtICB7QXJyYXl9IGENCiAqIEByZXR1cm4ge0FycmF5fQ0KICovCgoKU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WSA9IGEgPT4gewogIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGNvbnN0IHYgPSBhW2ldOwogICAgbGV0IGo7CgogICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC55IDw9IHYuYWFiYi5sb3dlckJvdW5kLnkpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgYVtqICsgMV0gPSBhW2pdOwogICAgfQoKICAgIGFbaiArIDFdID0gdjsKICB9CgogIHJldHVybiBhOwp9OwovKioNCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFoNCiAqIEBwYXJhbSAge0FycmF5fSBhDQogKiBAcmV0dXJuIHtBcnJheX0NCiAqLwoKClNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFogPSBhID0+IHsKICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICBjb25zdCB2ID0gYVtpXTsKICAgIGxldCBqOwoKICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkgewogICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueiA8PSB2LmFhYmIubG93ZXJCb3VuZC56KSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gYVtqXTsKICAgIH0KCiAgICBhW2ogKyAxXSA9IHY7CiAgfQoKICByZXR1cm4gYTsKfTsKLyoqDQogKiBDaGVjayBpZiB0aGUgYm91bmRzIG9mIHR3byBib2RpZXMgb3ZlcmxhcCwgYWxvbmcgdGhlIGdpdmVuIFNBUCBheGlzLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjaGVja0JvdW5kcw0KICogQHBhcmFtICB7Qm9keX0gYmkNCiAqIEBwYXJhbSAge0JvZHl9IGJqDQogKiBAcGFyYW0gIHtOdW1iZXJ9IGF4aXNJbmRleA0KICogQHJldHVybiB7Qm9vbGVhbn0NCiAqLwoKClNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMgPSAoYmksIGJqLCBheGlzSW5kZXgpID0+IHsKICBsZXQgYmlQb3M7CiAgbGV0IGJqUG9zOwoKICBpZiAoYXhpc0luZGV4ID09PSAwKSB7CiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLng7CiAgICBialBvcyA9IGJqLnBvc2l0aW9uLng7CiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgIGJpUG9zID0gYmkucG9zaXRpb24ueTsKICAgIGJqUG9zID0gYmoucG9zaXRpb24ueTsKICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikgewogICAgYmlQb3MgPSBiaS5wb3NpdGlvbi56OwogICAgYmpQb3MgPSBiai5wb3NpdGlvbi56OwogIH0KCiAgY29uc3QgcmkgPSBiaS5ib3VuZGluZ1JhZGl1cywKICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLAogICAgICAgIC8vIGJvdW5kQTEgPSBiaVBvcyAtIHJpLAogIGJvdW5kQTIgPSBiaVBvcyArIHJpLAogICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajsKCiAgcmV0dXJuIGJvdW5kQjEgPCBib3VuZEEyOwp9OwoKZnVuY3Rpb24gVXRpbHMoKSB7fQovKioNCiAqIEV4dGVuZCBhbiBvcHRpb25zIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBkZWZhdWx0cw0KICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC4gTWF5IGJlIGZhbHN5OiBpbiB0aGlzIGNhc2UsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZC4NCiAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuDQogKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtb2RpZmllZCBvcHRpb25zIG9iamVjdC4NCiAqLwoKClV0aWxzLmRlZmF1bHRzID0gKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpID0+IHsKICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHsKICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkgewogICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldOwogICAgfQogIH0KCiAgcmV0dXJuIG9wdGlvbnM7Cn07Ci8qKg0KICogQ29uc3RyYWludCBiYXNlIGNsYXNzDQogKiBAY2xhc3MgQ29uc3RyYWludA0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ9dHJ1ZV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMud2FrZVVwQm9kaWVzPXRydWVdDQogKi8KCgpjbGFzcyBDb25zdHJhaW50IHsKICAvLyBFcXVhdGlvbnMgdG8gYmUgc29sdmVkIGluIHRoaXMgY29uc3RyYWludC4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsCiAgICAgIHdha2VVcEJvZGllczogdHJ1ZQogICAgfSk7CiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgdGhpcy5ib2R5QSA9IGJvZHlBOwogICAgdGhpcy5ib2R5QiA9IGJvZHlCOwogICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7CiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSBvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CgogICAgaWYgKG9wdGlvbnMud2FrZVVwQm9kaWVzKSB7CiAgICAgIGlmIChib2R5QSkgewogICAgICAgIGJvZHlBLndha2VVcCgpOwogICAgICB9CgogICAgICBpZiAoYm9keUIpIHsKICAgICAgICBib2R5Qi53YWtlVXAoKTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlIGFsbCB0aGUgZXF1YXRpb25zIHdpdGggZGF0YS4NCiAgICogQG1ldGhvZCB1cGRhdGUNCiAgICovCgoKICB1cGRhdGUoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyEnKTsKICB9CiAgLyoqDQogICAqIEVuYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC4NCiAgICogQG1ldGhvZCBlbmFibGUNCiAgICovCgoKICBlbmFibGUoKSB7CiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9uczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICBlcXNbaV0uZW5hYmxlZCA9IHRydWU7CiAgICB9CiAgfQogIC8qKg0KICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50Lg0KICAgKiBAbWV0aG9kIGRpc2FibGUNCiAgICovCgoKICBkaXNhYmxlKCkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHsKICAgICAgZXFzW2ldLmVuYWJsZWQgPSBmYWxzZTsKICAgIH0KICB9Cgp9CgpDb25zdHJhaW50LmlkQ291bnRlciA9IDA7Ci8qKg0KICogQW4gZWxlbWVudCBjb250YWluaW5nIDYgZW50cmllcywgMyBzcGF0aWFsIGFuZCAzIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tLg0KICovCgpjbGFzcyBKYWNvYmlhbkVsZW1lbnQgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5zcGF0aWFsID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSB3aXRoIG90aGVyIEphY29iaWFuRWxlbWVudA0KICAgKi8KCgogIG11bHRpcGx5RWxlbWVudChlbGVtZW50KSB7CiAgICByZXR1cm4gZWxlbWVudC5zcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgZWxlbWVudC5yb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgd2l0aCB0d28gdmVjdG9ycw0KICAgKi8KCgogIG11bHRpcGx5VmVjdG9ycyhzcGF0aWFsLCByb3RhdGlvbmFsKSB7CiAgICByZXR1cm4gc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIHJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7CiAgfQoKfQovKioNCiAqIEVxdWF0aW9uIGJhc2UgY2xhc3MNCiAqIEBjbGFzcyBFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJpDQogKiBAcGFyYW0ge0JvZHl9IGJqDQogKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50Lg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC4NCiAqLwoKCmNsYXNzIEVxdWF0aW9uIHsKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLgogIGNvbnN0cnVjdG9yKGJpLCBiaiwgbWluRm9yY2UgPSAtMWU2LCBtYXhGb3JjZSA9IDFlNikgewogICAgdGhpcy5pZCA9IEVxdWF0aW9uLmlkKys7CiAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7CiAgICB0aGlzLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgICB0aGlzLmJpID0gYmk7CiAgICB0aGlzLmJqID0gYmo7CiAgICB0aGlzLmEgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuYiA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyCgogICAgdGhpcy5lcHMgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QSA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTsKICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QiA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTsKICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7CiAgICB0aGlzLm11bHRpcGxpZXIgPSAwOwogICAgdGhpcy5zZXRTcG9va1BhcmFtcygxZTcsIDQsIDEgLyA2MCk7IC8vIFNldCB0eXBpY2FsIHNwb29rIHBhcmFtcwogIH0KICAvKioNCiAgICogUmVjYWxjdWxhdGVzIGEsYixlcHMuDQogICAqIEBtZXRob2Qgc2V0U3Bvb2tQYXJhbXMNCiAgICovCgoKICBzZXRTcG9va1BhcmFtcyhzdGlmZm5lc3MsIHJlbGF4YXRpb24sIHRpbWVTdGVwKSB7CiAgICBjb25zdCBkID0gcmVsYXhhdGlvbjsKICAgIGNvbnN0IGsgPSBzdGlmZm5lc3M7CiAgICBjb25zdCBoID0gdGltZVN0ZXA7CiAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTsKICAgIHRoaXMuYiA9IDQuMCAqIGQgLyAoMSArIDQgKiBkKTsKICAgIHRoaXMuZXBzID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uDQogICAqIEBtZXRob2QgY29tcHV0ZUINCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVCKGEsIGIsIGgpIHsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICByZXR1cm4gLUdxICogYSAtIEdXICogYiAtIEdpTWYgKiBoOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHcQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdxKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247CiAgICBjb25zdCB4aiA9IGJqLnBvc2l0aW9uOwogICAgcmV0dXJuIEdBLnNwYXRpYWwuZG90KHhpKSArIEdCLnNwYXRpYWwuZG90KHhqKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHVw0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdXKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5OwogICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgRypXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzDQogICAqIEBtZXRob2QgY29tcHV0ZUdXbGFtYmRhDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlR1dsYW1iZGEoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgdmkgPSBiaS52bGFtYmRhOwogICAgY29uc3QgdmogPSBiai52bGFtYmRhOwogICAgY29uc3Qgd2kgPSBiaS53bGFtYmRhOwogICAgY29uc3Qgd2ogPSBiai53bGFtYmRhOwogICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgfQoKICBjb21wdXRlR2lNZigpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBmaSA9IGJpLmZvcmNlOwogICAgY29uc3QgdGkgPSBiaS50b3JxdWU7CiAgICBjb25zdCBmaiA9IGJqLmZvcmNlOwogICAgY29uc3QgdGogPSBiai50b3JxdWU7CiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgZmkuc2NhbGUoaW52TWFzc2ksIGlNZmkpOwogICAgZmouc2NhbGUoaW52TWFzc2osIGlNZmopOwogICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpOwogICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGosIGludklqX3ZtdWx0X3RhdWopOwogICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyhpTWZpLCBpbnZJaV92bXVsdF90YXVpKSArIEdCLm11bHRpcGx5VmVjdG9ycyhpTWZqLCBpbnZJal92bXVsdF90YXVqKTsKICB9CgogIGNvbXB1dGVHaU1HdCgpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgY29uc3QgaW52SWkgPSBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZTsKICAgIGNvbnN0IGludklqID0gYmouaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICBsZXQgcmVzdWx0ID0gaW52TWFzc2kgKyBpbnZNYXNzajsKICAgIGludklpLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRtcCQxKTsKICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Eucm90YXRpb25hbCk7CiAgICBpbnZJai52bXVsdChHQi5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdCLnJvdGF0aW9uYWwpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuDQogICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhDQogICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YWxhbWJkYQ0KICAgKi8KCgogIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHRlbXAgPSBhZGRUb1dsYW1iZGFfdGVtcDsgLy8gQWRkIHRvIGxpbmVhciB2ZWxvY2l0eQogICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHCgogICAgYmkudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmkuaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdBLnNwYXRpYWwsIGJpLnZsYW1iZGEpOwogICAgYmoudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmouaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdCLnNwYXRpYWwsIGJqLnZsYW1iZGEpOyAvLyBBZGQgdG8gYW5ndWxhciB2ZWxvY2l0eQoKICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRlbXApOwogICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpOwogICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Iucm90YXRpb25hbCwgdGVtcCk7CiAgICBiai53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmoud2xhbWJkYSk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzDQogICAqIEBtZXRob2QgY29tcHV0ZUludkMNCiAgICogQHBhcmFtICB7TnVtYmVyfSBlcHMNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVDKCkgewogICAgcmV0dXJuIHRoaXMuY29tcHV0ZUdpTUd0KCkgKyB0aGlzLmVwczsKICB9Cgp9CgpFcXVhdGlvbi5pZCA9IDA7Ci8qKg0KICogQ29tcHV0ZXMgRyppbnYoTSkqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy4NCiAqIEBtZXRob2QgY29tcHV0ZUdpTWYNCiAqIEByZXR1cm4ge051bWJlcn0NCiAqLwoKY29uc3QgaU1maSA9IG5ldyBWZWMzKCk7CmNvbnN0IGlNZmogPSBuZXcgVmVjMygpOwpjb25zdCBpbnZJaV92bXVsdF90YXVpID0gbmV3IFZlYzMoKTsKY29uc3QgaW52SWpfdm11bHRfdGF1aiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQ29tcHV0ZXMgRyppbnYoTSkqRycNCiAqIEBtZXRob2QgY29tcHV0ZUdpTUd0DQogKiBAcmV0dXJuIHtOdW1iZXJ9DQogKi8KCmNvbnN0IHRtcCQxID0gbmV3IFZlYzMoKTsKY29uc3QgYWRkVG9XbGFtYmRhX3RlbXAgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbnRhY3Qvbm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24NCiAqIEBjbGFzcyBDb250YWN0RXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKY2xhc3MgQ29udGFjdEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogIC8vICJib3VuY2luZXNzIjogdTEgPSAtZSp1MAogIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgY2VudGVyIG9mIGJpIHRvIHRoZSBjb250YWN0IHBvaW50LgogIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IHN0YXJ0cyBpbiBib2R5IGogcG9zaXRpb24gYW5kIGdvZXMgdG8gdGhlIGNvbnRhY3QgcG9pbnQuCiAgLy8gQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikgewogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAwLCBtYXhGb3JjZSk7CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4wOwogICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTsKICAgIHRoaXMubmkgPSBuZXcgVmVjMygpOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICBjb25zdCByaXhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxOwogICAgY29uc3Qgcmp4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICBjb25zdCB3aSA9IGJpLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7CiAgICBjb25zdCB0YXVpID0gYmkudG9ycXVlOwogICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTsKICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5OwogICAgY29uc3QgZmogPSBiai5mb3JjZTsKICAgIGNvbnN0IHRhdWogPSBiai50b3JxdWU7CiAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMzsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBuID0gdGhpcy5uaTsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgcmkuY3Jvc3Mobiwgcml4bik7CiAgICByai5jcm9zcyhuLCByanhuKTsgLy8gZyA9IHhqK3JqIC0oeGkrcmkpCiAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdCgogICAgbi5uZWdhdGUoR0Euc3BhdGlhbCk7CiAgICByaXhuLm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTsKICAgIEdCLnNwYXRpYWwuY29weShuKTsKICAgIEdCLnJvdGF0aW9uYWwuY29weShyanhuKTsgLy8gQ2FsY3VsYXRlIHRoZSBwZW5ldHJhdGlvbiB2ZWN0b3IKCiAgICBwZW5ldHJhdGlvblZlYy5jb3B5KGJqLnBvc2l0aW9uKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZhZGQocmosIHBlbmV0cmF0aW9uVmVjKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIocmksIHBlbmV0cmF0aW9uVmVjKTsKICAgIGNvbnN0IGcgPSBuLmRvdChwZW5ldHJhdGlvblZlYyk7IC8vIENvbXB1dGUgaXRlcmF0aW9uCgogICAgY29uc3QgZVBsdXNPbmUgPSB0aGlzLnJlc3RpdHV0aW9uICsgMTsKICAgIGNvbnN0IEdXID0gZVBsdXNPbmUgKiB2ai5kb3QobikgLSBlUGx1c09uZSAqIHZpLmRvdChuKSArIHdqLmRvdChyanhuKSAtIHdpLmRvdChyaXhuKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC4NCiAgICogQG1ldGhvZCBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsDQogICAqIEByZXR1cm4ge251bWJlcn0NCiAgICovCgoKICBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkgewogICAgY29uc3QgdmkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aTsKICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7CiAgICBjb25zdCB4aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpOwogICAgY29uc3QgeGogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94ajsKICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDsKICAgIHRoaXMuYmkucG9zaXRpb24udmFkZCh0aGlzLnJpLCB4aSk7CiAgICB0aGlzLmJqLnBvc2l0aW9uLnZhZGQodGhpcy5yaiwgeGopOwogICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpOwogICAgdGhpcy5iai5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aiwgdmopOwogICAgdmkudnN1Yih2aiwgcmVsVmVsKTsKICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpOwogIH0KCn0KCmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycwoKY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aiA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWwgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbm5lY3RzIHR3byBib2RpZXMgYXQgZ2l2ZW4gb2Zmc2V0IHBvaW50cy4NCiAqIEBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKiBAZXh0ZW5kcyBDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7VmVjM30gcGl2b3RBIFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgYm9keUEgd2hpY2ggYm9keUEgaXMgY29uc3RyYWluZWQgdG8uDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCIEJvZHkgdGhhdCB3aWxsIGJlIGNvbnN0cmFpbmVkIGluIGEgc2ltaWxhciB3YXkgdG8gdGhlIHNhbWUgcG9pbnQgYXMgYm9keUEuIFdlIHdpbGwgdGhlcmVmb3JlIGdldCBhIGxpbmsgYmV0d2VlbiBib2R5QSBhbmQgYm9keUIuIElmIG5vdCBzcGVjaWZpZWQsIGJvZHlBIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gYSBzdGF0aWMgcG9pbnQuDQogKiBAcGFyYW0ge1ZlYzN9IHBpdm90QiBTZWUgcGl2b3RBLg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIFRoZSBtYXhpbXVtIGZvcmNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gY29uc3RyYWluIHRoZSBib2RpZXMuDQogKg0KICogQGV4YW1wbGUNCiAqICAgICBjb25zdCBib2R5QSA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTsNCiAqICAgICBjb25zdCBib2R5QiA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTsNCiAqICAgICBib2R5QS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApOw0KICogICAgIGJvZHlCLnBvc2l0aW9uLnNldCgxLCAwLCAwKTsNCiAqICAgICBib2R5QS5hZGRTaGFwZShzaGFwZUEpOw0KICogICAgIGJvZHlCLmFkZFNoYXBlKHNoYXBlQik7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5QSk7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5Qik7DQogKiAgICAgY29uc3QgbG9jYWxQaXZvdEEgPSBuZXcgVmVjMygxLCAwLCAwKTsNCiAqICAgICBjb25zdCBsb2NhbFBpdm90QiA9IG5ldyBWZWMzKC0xLCAwLCAwKTsNCiAqICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keUEsIGxvY2FsUGl2b3RBLCBib2R5QiwgbG9jYWxQaXZvdEIpOw0KICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7DQogKi8KCmNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHsKICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuCiAgY29uc3RydWN0b3IoYm9keUEsIHBpdm90QSA9IG5ldyBWZWMzKCksIGJvZHlCLCBwaXZvdEIgPSBuZXcgVmVjMygpLCBtYXhGb3JjZSA9IDFlNikgewogICAgc3VwZXIoYm9keUEsIGJvZHlCKTsKICAgIHRoaXMucGl2b3RBID0gcGl2b3RBLmNsb25lKCk7CiAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpOwogICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHgsIHksIHopOyAvLyBNYWtlIHRoZSBlcXVhdGlvbnMgYmlkaXJlY3Rpb25hbAoKICAgIHgubWluRm9yY2UgPSB5Lm1pbkZvcmNlID0gei5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgeC5uaS5zZXQoMSwgMCwgMCk7CiAgICB5Lm5pLnNldCgwLCAxLCAwKTsKICAgIHoubmkuc2V0KDAsIDAsIDEpOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YOwogICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZOwogICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aOyAvLyBSb3RhdGUgdGhlIHBpdm90cyB0byB3b3JsZCBzcGFjZQoKICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEEsIHgucmkpOwogICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7CiAgICB5LnJpLmNvcHkoeC5yaSk7CiAgICB5LnJqLmNvcHkoeC5yaik7CiAgICB6LnJpLmNvcHkoeC5yaSk7CiAgICB6LnJqLmNvcHkoeC5yaik7CiAgfQoKfQovKioNCiAqIENvbmUgZXF1YXRpb24uIFdvcmtzIHRvIGtlZXAgdGhlIGdpdmVuIGJvZHkgd29ybGQgdmVjdG9ycyBhbGlnbmVkLCBvciB0aWx0ZWQgd2l0aGluIGEgZ2l2ZW4gYW5nbGUgZnJvbSBlYWNoIG90aGVyLg0KICogQGNsYXNzIENvbmVFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBMb2NhbCBheGlzIGluIEENCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdIExvY2FsIGF4aXMgaW4gQg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmdsZV0gVGhlICJjb25lIGFuZ2xlIiB0byBrZWVwDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKCmNsYXNzIENvbmVFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTsKICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7CiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgfQoKICBjb21wdXRlQihoKSB7CiAgICBjb25zdCBhID0gdGhpcy5hOwogICAgY29uc3QgYiA9IHRoaXMuYjsKICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgIGNvbnN0IG5peG5qID0gdG1wVmVjMTsKICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMjsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7CiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOgogICAgLy8gY29zKHRoZXRhKSA9IGEgKiBiIC8gKGxlbmd0aChhKSAqIGxlbmd0aChiKSA9IHsgbGVuKGEpID0gbGVuKGIpID0gMSB9ID0gYSAqIGIKICAgIC8vIGcgPSBhICogYgogICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3agogICAgLy8gRyA9IFswIGJ4YSAwIGF4Yl0KICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdCgogICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTsKICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7CiAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5hbmdsZSkgLSBuaS5kb3QobmopOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgIHJldHVybiBCOwogIH0KCn0KCmNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyID0gbmV3IFZlYzMoKTsKLyoqDQogKiBSb3RhdGlvbmFsIGNvbnN0cmFpbnQuIFdvcmtzIHRvIGtlZXAgdGhlIGxvY2FsIHZlY3RvcnMgb3J0aG9nb25hbCB0byBlYWNoIG90aGVyIGluIHdvcmxkIHNwYWNlLg0KICogQGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZV0NCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCmNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgdGhpcy5tYXhBbmdsZSA9IE1hdGguUEkgLyAyOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTsKICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMiQxOwogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgbmkuY3Jvc3MobmosIG5peG5qKTsKICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIGcgPSBuaSAqIG5qCiAgICAvLyBnZG90ID0gKG5qIHggbmkpICogd2kgKyAobmkgeCBuaikgKiB3agogICAgLy8gRyA9IFswIG5qeG5pIDAgbml4bmpdCiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMubWF4QW5nbGUpIC0gbmkuZG90KG5qKTsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCB0bXBWZWMxJDEgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpOwovKioNCiAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdDQogKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKi8KCmNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgICBjb25zdCBjID0gdGhpcy5jb25lRXF1YXRpb24gPSBuZXcgQ29uZUVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgdGhpcy50d2lzdEFuZ2xlID0gdHlwZW9mIG9wdGlvbnMudHdpc3RBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnR3aXN0QW5nbGUgOiAwOyAvLyBNYWtlIHRoZSBjb25lIGVxdWF0aW9uIHB1c2ggdGhlIGJvZGllcyB0b3dhcmQgdGhlIGNvbmUgYXhpcywgbm90IG91dHdhcmQKCiAgICBjLm1heEZvcmNlID0gMDsKICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uCgogICAgdC5tYXhGb3JjZSA9IDA7CiAgICB0Lm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IGNvbmUgPSB0aGlzLmNvbmVFcXVhdGlvbjsKICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uOwogICAgc3VwZXIudXBkYXRlKCk7IC8vIFVwZGF0ZSB0aGUgYXhlcyB0byB0aGUgY29uZSBjb25zdHJhaW50CgogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0EsIGNvbmUuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnQKCiAgICB0aGlzLmF4aXNBLnRhbmdlbnRzKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTsKICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpOwogICAgY29uZS5hbmdsZSA9IHRoaXMuYW5nbGU7CiAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTsKICB9Cgp9Ci8qKg0KICogQ29uc3RyYWlucyB0d28gYm9kaWVzIHRvIGJlIGF0IGEgY29uc3RhbnQgZGlzdGFuY2UgZnJvbSBlYWNoIG90aGVycyBjZW50ZXIgb2YgbWFzcy4NCiAqIEBjbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnQNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IFtkaXN0YW5jZV0gVGhlIGRpc3RhbmNlIHRvIGtlZXAuIElmIHVuZGVmaW5lZCwgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBib2R5QSBhbmQgYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgQ29uc3RyYWludA0KICovCgoKY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBkaXN0YW5jZSwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7CgogICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgZGlzdGFuY2UgPSBib2R5QS5wb3NpdGlvbi5kaXN0YW5jZVRvKGJvZHlCLnBvc2l0aW9uKTsKICAgIH0KCiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOyAvLyBNYWtlIGl0IGJpZGlyZWN0aW9uYWwKCiAgICBlcS5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIGVxLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjsKICAgIGNvbnN0IGhhbGZEaXN0ID0gdGhpcy5kaXN0YW5jZSAqIDAuNTsKICAgIGNvbnN0IG5vcm1hbCA9IGVxLm5pOwogICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTsKICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgIG5vcm1hbC5zY2FsZShoYWxmRGlzdCwgZXEucmkpOwogICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopOwogIH0KCn0KLyoqDQogKiBMb2NrIGNvbnN0cmFpbnQuIFdpbGwgcmVtb3ZlIGFsbCBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYm9kaWVzLg0KICogQGNsYXNzIExvY2tDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdDQogKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKi8KCgpjbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuCgogICAgY29uc3QgcGl2b3RBID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBpdm90QiA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBoYWxmV2F5ID0gbmV3IFZlYzMoKTsKICAgIGJvZHlBLnBvc2l0aW9uLnZhZGQoYm9keUIucG9zaXRpb24sIGhhbGZXYXkpOwogICAgaGFsZldheS5zY2FsZSgwLjUsIGhhbGZXYXkpOwogICAgYm9keUIucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RCKTsKICAgIGJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90QSk7IC8vIFRoZSBwb2ludC10by1wb2ludCBjb25zdHJhaW50IHdpbGwga2VlcCBhIHBvaW50IHNoYXJlZCBiZXR3ZWVuIHRoZSBib2RpZXMKCiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7IC8vIFN0b3JlIGluaXRpYWwgcm90YXRpb24gb2YgdGhlIGJvZGllcyBhcyB1bml0IHZlY3RvcnMgaW4gdGhlIGxvY2FsIGJvZHkgc3BhY2VzCgogICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7CiAgICB0aGlzLnhCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTsKICAgIHRoaXMueUEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7CiAgICB0aGlzLnpBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsKICAgIHRoaXMuekIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1opOyAvLyAuLi5hbmQgdGhlIGZvbGxvd2luZyByb3RhdGlvbmFsIGVxdWF0aW9ucyB3aWxsIGtlZXAgYWxsIHJvdGF0aW9uYWwgRE9GJ3MgaW4gcGxhY2UKCiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjMgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHIxLCByMiwgcjMpOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247CiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yOwogICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7CiAgICBzdXBlci51cGRhdGUoKTsgLy8gVGhlc2UgdmVjdG9yIHBhaXJzIG11c3QgYmUgb3J0aG9nb25hbAoKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhBLCByMS5heGlzQSk7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUEsIHIyLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpCLCByMi5heGlzQik7CiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEIsIHIzLmF4aXNCKTsKICB9Cgp9Ci8qKg0KICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS4NCiAqIEBjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UNCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCgpjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLgogIC8vIE1vdG9yIHZlbG9jaXR5LgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICB0aGlzLmF4aXNBID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpOwogICAgdGhpcy50YXJnZXRWZWxvY2l0eSA9IDA7CiAgfQoKICBjb21wdXRlQihoKSB7CiAgICBjb25zdCBhID0gdGhpcy5hOwogICAgY29uc3QgYiA9IHRoaXMuYjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIGcgPSAwCiAgICAvLyBnZG90ID0gYXhpc0EgKiB3aSAtIGF4aXNCICogd2oKICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdCiAgICAvLyA9PgogICAgLy8gRyA9IFswIGF4aXNBIDAgLWF4aXNCXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7CiAgICBheGlzQi5uZWdhdGUoR0Iucm90YXRpb25hbCk7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCkgLSB0aGlzLnRhcmdldFZlbG9jaXR5OwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Ci8qKg0KICogSGluZ2UgY29uc3RyYWludC4gVGhpbmsgb2YgaXQgYXMgYSBkb29yIGhpbmdlLiBJdCB0cmllcyB0byBrZWVwIHRoZSBkb29yIGluIHRoZSBjb3JyZWN0IHBsYWNlIGFuZCB3aXRoIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uLg0KICogQGNsYXNzIEhpbmdlQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gQW4gYXhpcyB0aGF0IGJvZHlBIGNhbiByb3RhdGUgYXJvdW5kLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90Ql0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgoKY2xhc3MgSGluZ2VDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7CiAgLy8gUm90YXRpb24gYXhpcywgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBpdm90QiA9IG9wdGlvbnMucGl2b3RCID8gb3B0aW9ucy5waXZvdEIuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICBheGlzQS5ub3JtYWxpemUoKTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTsKICAgIGF4aXNCLm5vcm1hbGl6ZSgpOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICBjb25zdCByb3RhdGlvbmFsMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgUm90YXRpb25hbE1vdG9yRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtYXhGb3JjZSk7CiAgICBtb3Rvci5lbmFibGVkID0gZmFsc2U7IC8vIE5vdCBlbmFibGVkIGJ5IGRlZmF1bHQKICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlcgoKICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90YXRpb25hbDEsIHJvdGF0aW9uYWwyLCBtb3Rvcik7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGVuYWJsZU1vdG9yDQogICAqLwoKCiAgZW5hYmxlTW90b3IoKSB7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGRpc2FibGVNb3Rvcg0KICAgKi8KCgogIGRpc2FibGVNb3RvcigpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWQNCiAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkDQogICAqLwoKCiAgc2V0TW90b3JTcGVlZChzcGVlZCkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5ID0gc3BlZWQ7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldE1vdG9yTWF4Rm9yY2UNCiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlDQogICAqLwoKCiAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjsKICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xOwogICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7CiAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxOwogICAgY29uc3Qgd29ybGRBeGlzQiA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMjsKICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjsKICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBHZXQgd29ybGQgYXhlcwoKICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpOwogICAgYm9keUIucXVhdGVybmlvbi52bXVsdChheGlzQiwgd29ybGRBeGlzQik7CiAgICB3b3JsZEF4aXNBLnRhbmdlbnRzKHIxLmF4aXNBLCByMi5heGlzQSk7CiAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwogICAgcjIuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKCiAgICBpZiAodGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQpIHsKICAgICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLCBtb3Rvci5heGlzQSk7CiAgICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQiwgbW90b3IuYXhpc0IpOwogICAgfQogIH0KCn0KCmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSA9IG5ldyBWZWMzKCk7CmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudA0KICogQGNsYXNzIEZyaWN0aW9uRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgpjbGFzcyBGcmljdGlvbkVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogIC8vIFRhbmdlbnQuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBzbGlwRm9yY2UpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLXNsaXBGb3JjZSwgc2xpcEZvcmNlKTsKICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnQgPSBuZXcgVmVjMygpOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICBjb25zdCByaXh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyOwogICAgY29uc3QgdCA9IHRoaXMudDsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgcmkuY3Jvc3ModCwgcml4dCk7CiAgICByai5jcm9zcyh0LCByanh0KTsgLy8gRyA9IFstdCAtcml4dCB0IHJqeHRdCiAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hCgogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgcml4dC5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICBHQi5zcGF0aWFsLmNvcHkodCk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgIHJldHVybiBCOwogIH0KCn0KCmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOwpjb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTsKLyoqDQogKiBEZWZpbmVzIHdoYXQgaGFwcGVucyB3aGVuIHR3byBtYXRlcmlhbHMgbWVldC4NCiAqIEBjbGFzcyBDb250YWN0TWF0ZXJpYWwNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtNYXRlcmlhbH0gbTENCiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0yDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZnJpY3Rpb249MC4zXQ0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlc3RpdHV0aW9uPTAuM10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M9MWU3XQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb249M10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzPTFlN10NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbj0zXQ0KICogQHRvZG8gUmVmYWN0b3IgbWF0ZXJpYWxzIHRvIG1hdGVyaWFsQSBhbmQgbWF0ZXJpYWxCDQogKi8KCmNsYXNzIENvbnRhY3RNYXRlcmlhbCB7CiAgLy8gSWRlbnRpZmllciBvZiB0aGlzIG1hdGVyaWFsLgogIC8vIFBhcnRpY2lwYXRpbmcgbWF0ZXJpYWxzLgogIC8vIEZyaWN0aW9uIGNvZWZmaWNpZW50LgogIC8vIFJlc3RpdHV0aW9uIGNvZWZmaWNpZW50LgogIC8vIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy4KICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9ucy4KICAvLyBSZWxheGF0aW9uIHRpbWUgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9ucwogIGNvbnN0cnVjdG9yKG0xLCBtMiwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHsKICAgICAgZnJpY3Rpb246IDAuMywKICAgICAgcmVzdGl0dXRpb246IDAuMywKICAgICAgY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgIGNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb246IDMsCiAgICAgIGZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M6IDFlNywKICAgICAgZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb246IDMKICAgIH0pOwogICAgdGhpcy5pZCA9IENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgIHRoaXMubWF0ZXJpYWxzID0gW20xLCBtMl07CiAgICB0aGlzLmZyaWN0aW9uID0gb3B0aW9ucy5mcmljdGlvbjsKICAgIHRoaXMucmVzdGl0dXRpb24gPSBvcHRpb25zLnJlc3RpdHV0aW9uOwogICAgdGhpcy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczsKICAgIHRoaXMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzczsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOwogIH0KCn0KCkNvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIgPSAwOwovKioNCiAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLg0KICogQGNsYXNzIE1hdGVyaWFsDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqLwoKY2xhc3MgTWF0ZXJpYWwgewogIC8vIE1hdGVyaWFsIG5hbWUuCiAgLy8gTWF0ZXJpYWwgaWQuCiAgLy8gRnJpY3Rpb24gZm9yIHRoaXMgbWF0ZXJpYWwuIElmIG5vbi1uZWdhdGl2ZSwgaXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGZyaWN0aW9uIGdpdmVuIGJ5IENvbnRhY3RNYXRlcmlhbHMuIElmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCB0aGUgdmFsdWUgZnJvbSAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCBpbiB0aGUgV29ybGQgd2lsbCBiZSB1c2VkLgogIC8vIFJlc3RpdHV0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIGxldCBuYW1lID0gJyc7IC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZpeAoKICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHsKICAgICAgbmFtZSA9IG9wdGlvbnM7CiAgICAgIG9wdGlvbnMgPSB7fTsKICAgIH0KCiAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgdGhpcy5pZCA9IE1hdGVyaWFsLmlkQ291bnRlcisrOwogICAgdGhpcy5mcmljdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZyaWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZnJpY3Rpb24gOiAtMTsKICAgIHRoaXMucmVzdGl0dXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5yZXN0aXR1dGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnJlc3RpdHV0aW9uIDogLTE7CiAgfQoKfQoKTWF0ZXJpYWwuaWRDb3VudGVyID0gMDsKLyoqDQogKiBBIHNwcmluZywgY29ubmVjdGluZyB0d28gYm9kaWVzLg0KICoNCiAqIEBjbGFzcyBTcHJpbmcNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0OiAxDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RpZmZuZXNzXSAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxMDANCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nXSAgICAgIEEgbnVtYmVyID49IDAuIERlZmF1bHQ6IDENCiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckJdDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIGxvY2FsIGJvZHkgY29vcmRpbmF0ZXMuDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdDQogKi8KCmNsYXNzIFNwcmluZyB7CiAgLy8gUmVzdCBsZW5ndGggb2YgdGhlIHNwcmluZy4KICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHNwcmluZy4KICAvLyBEYW1waW5nIG9mIHRoZSBzcHJpbmcuCiAgLy8gRmlyc3QgY29ubmVjdGVkIGJvZHkuCiAgLy8gU2Vjb25kIGNvbm5lY3RlZCBib2R5LgogIC8vIEFuY2hvciBmb3IgYm9keUEgaW4gbG9jYWwgYm9keUEgY29vcmRpbmF0ZXMuCiAgLy8gQW5jaG9yIGZvciBib2R5QiBpbiBsb2NhbCBib2R5QiBjb29yZGluYXRlcy4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5yZXN0TGVuZ3RoID0gdHlwZW9mIG9wdGlvbnMucmVzdExlbmd0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnJlc3RMZW5ndGggOiAxOwogICAgdGhpcy5zdGlmZm5lc3MgPSBvcHRpb25zLnN0aWZmbmVzcyB8fCAxMDA7CiAgICB0aGlzLmRhbXBpbmcgPSBvcHRpb25zLmRhbXBpbmcgfHwgMTsKICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgIHRoaXMuYm9keUIgPSBib2R5QjsKICAgIHRoaXMubG9jYWxBbmNob3JBID0gbmV3IFZlYzMoKTsKICAgIHRoaXMubG9jYWxBbmNob3JCID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckEpIHsKICAgICAgdGhpcy5sb2NhbEFuY2hvckEuY29weShvcHRpb25zLmxvY2FsQW5jaG9yQSk7CiAgICB9CgogICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JCKSB7CiAgICAgIHRoaXMubG9jYWxBbmNob3JCLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckIpOwogICAgfQoKICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQSkgewogICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQShvcHRpb25zLndvcmxkQW5jaG9yQSk7CiAgICB9CgogICAgaWYgKG9wdGlvbnMud29ybGRBbmNob3JCKSB7CiAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JCKG9wdGlvbnMud29ybGRBbmNob3JCKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQSwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JBDQogICAqIEBwYXJhbSB7VmVjM30gd29ybGRBbmNob3JBDQogICAqLwoKCiAgc2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSkgewogICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCDQogICAqIEBwYXJhbSB7VmVjM30gd29ybGRBbmNob3JCDQogICAqLwoKCiAgc2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQikgewogICAgdGhpcy5ib2R5Qi5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckIsIHRoaXMubG9jYWxBbmNob3JCKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JBDQogICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICBnZXRXb3JsZEFuY2hvckEocmVzdWx0KSB7CiAgICB0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCByZXN1bHQpOwogIH0KICAvKioNCiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBCLCBpbiB3b3JsZCBjb29yZGluYXRlcy4NCiAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckINCiAgICogQHBhcmFtIHtWZWMzfSByZXN1bHQgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluLg0KICAgKi8KCgogIGdldFdvcmxkQW5jaG9yQihyZXN1bHQpIHsKICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7CiAgfQogIC8qKg0KICAgKiBBcHBseSB0aGUgc3ByaW5nIGZvcmNlIHRvIHRoZSBjb25uZWN0ZWQgYm9kaWVzLg0KICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2UNCiAgICovCgoKICBhcHBseUZvcmNlKCkgewogICAgY29uc3QgayA9IHRoaXMuc3RpZmZuZXNzOwogICAgY29uc3QgZCA9IHRoaXMuZGFtcGluZzsKICAgIGNvbnN0IGwgPSB0aGlzLnJlc3RMZW5ndGg7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCByID0gYXBwbHlGb3JjZV9yOwogICAgY29uc3Qgcl91bml0ID0gYXBwbHlGb3JjZV9yX3VuaXQ7CiAgICBjb25zdCB1ID0gYXBwbHlGb3JjZV91OwogICAgY29uc3QgZiA9IGFwcGx5Rm9yY2VfZjsKICAgIGNvbnN0IHRtcCA9IGFwcGx5Rm9yY2VfdG1wOwogICAgY29uc3Qgd29ybGRBbmNob3JBID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckE7CiAgICBjb25zdCB3b3JsZEFuY2hvckIgPSBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQjsKICAgIGNvbnN0IHJpID0gYXBwbHlGb3JjZV9yaTsKICAgIGNvbnN0IHJqID0gYXBwbHlGb3JjZV9yajsKICAgIGNvbnN0IHJpX3hfZiA9IGFwcGx5Rm9yY2VfcmlfeF9mOwogICAgY29uc3QgcmpfeF9mID0gYXBwbHlGb3JjZV9yal94X2Y7IC8vIEdldCB3b3JsZCBhbmNob3JzCgogICAgdGhpcy5nZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKTsKICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7IC8vIEdldCBvZmZzZXQgcG9pbnRzCgogICAgd29ybGRBbmNob3JBLnZzdWIoYm9keUEucG9zaXRpb24sIHJpKTsKICAgIHdvcmxkQW5jaG9yQi52c3ViKGJvZHlCLnBvc2l0aW9uLCByaik7IC8vIENvbXB1dGUgZGlzdGFuY2UgdmVjdG9yIGJldHdlZW4gd29ybGQgYW5jaG9yIHBvaW50cwoKICAgIHdvcmxkQW5jaG9yQi52c3ViKHdvcmxkQW5jaG9yQSwgcik7CiAgICBjb25zdCBybGVuID0gci5sZW5ndGgoKTsKICAgIHJfdW5pdC5jb3B5KHIpOwogICAgcl91bml0Lm5vcm1hbGl6ZSgpOyAvLyBDb21wdXRlIHJlbGF0aXZlIHZlbG9jaXR5IG9mIHRoZSBhbmNob3IgcG9pbnRzLCB1CgogICAgYm9keUIudmVsb2NpdHkudnN1Yihib2R5QS52ZWxvY2l0eSwgdSk7IC8vIEFkZCByb3RhdGlvbmFsIHZlbG9jaXR5CgogICAgYm9keUIuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJqLCB0bXApOwogICAgdS52YWRkKHRtcCwgdSk7CiAgICBib2R5QS5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmksIHRtcCk7CiAgICB1LnZzdWIodG1wLCB1KTsgLy8gRiA9IC0gayAqICggeCAtIEwgKSAtIEQgKiAoIHUgKQoKICAgIHJfdW5pdC5zY2FsZSgtayAqIChybGVuIC0gbCkgLSBkICogdS5kb3Qocl91bml0KSwgZik7IC8vIEFkZCBmb3JjZXMgdG8gYm9kaWVzCgogICAgYm9keUEuZm9yY2UudnN1YihmLCBib2R5QS5mb3JjZSk7CiAgICBib2R5Qi5mb3JjZS52YWRkKGYsIGJvZHlCLmZvcmNlKTsgLy8gQW5ndWxhciBmb3JjZQoKICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7CiAgICByai5jcm9zcyhmLCByal94X2YpOwogICAgYm9keUEudG9ycXVlLnZzdWIocmlfeF9mLCBib2R5QS50b3JxdWUpOwogICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpOwogIH0KCn0KCmNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2Vfcl91bml0ID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV91ID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckEgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JqID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yaV94X2YgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfdG1wID0gbmV3IFZlYzMoKTsKLyoqDQogKiBAY2xhc3MgV2hlZWxJbmZvDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10NCiAqDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbF0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5kaXJlY3Rpb25Mb2NhbF0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uV29ybGRdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4bGVMb2NhbF0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhsZVdvcmxkXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoPTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbk1heExlbmd0aD0yXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJhZGl1cz0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M9MTAwXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmdDb21wcmVzc2lvbj0xMF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nUmVsYXhhdGlvbj0xMF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvblNsaXA9MTAwMDBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlZXJpbmc9MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlbHRhUm90YXRpb249MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb2xsSW5mbHVlbmNlPTAuMDFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Zyb250V2hlZWw9dHJ1ZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25Gb3JjZT0wXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNraWRJbmZvPTBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkxlbmd0aD0wXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw9MV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD1mYWxzZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPS0wLjFdDQogKi8KCmNsYXNzIFdoZWVsSW5mbyB7CiAgLy8gTWF4IHRyYXZlbCBkaXN0YW5jZSBvZiB0aGUgc3VzcGVuc2lvbiwgaW4gbWV0ZXJzLgogIC8vIFNwZWVkIHRvIGFwcGx5IHRvIHRoZSB3aGVlbCByb3RhdGlvbiB3aGVuIHRoZSB3aGVlbCBpcyBzbGlkaW5nLgogIC8vIElmIHRoZSBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkIHNob3VsZCBiZSB1c2VkLgogIC8vIENvbm5lY3Rpb24gcG9pbnQsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5IGZyYW1lLgogIC8vIFJvdGF0aW9uIHZhbHVlLCBpbiByYWRpYW5zLgogIC8vIFRoZSByZXN1bHQgZnJvbSByYXljYXN0aW5nLgogIC8vIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS4KICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSwKICAgICAgY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkOiBuZXcgVmVjMygpLAogICAgICBkaXJlY3Rpb25Mb2NhbDogbmV3IFZlYzMoKSwKICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksCiAgICAgIGF4bGVMb2NhbDogbmV3IFZlYzMoKSwKICAgICAgYXhsZVdvcmxkOiBuZXcgVmVjMygpLAogICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSwKICAgICAgc3VzcGVuc2lvbk1heExlbmd0aDogMiwKICAgICAgcmFkaXVzOiAxLAogICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsCiAgICAgIGRhbXBpbmdDb21wcmVzc2lvbjogMTAsCiAgICAgIGRhbXBpbmdSZWxheGF0aW9uOiAxMCwKICAgICAgZnJpY3Rpb25TbGlwOiAxMDAwMCwKICAgICAgc3RlZXJpbmc6IDAsCiAgICAgIHJvdGF0aW9uOiAwLAogICAgICBkZWx0YVJvdGF0aW9uOiAwLAogICAgICByb2xsSW5mbHVlbmNlOiAwLjAxLAogICAgICBtYXhTdXNwZW5zaW9uRm9yY2U6IE51bWJlci5NQVhfVkFMVUUsCiAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSwKICAgICAgY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOiAxLAogICAgICBzdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTogMCwKICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLAogICAgICBzbGlwSW5mbzogMCwKICAgICAgc2tpZEluZm86IDAsCiAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsCiAgICAgIG1heFN1c3BlbnNpb25UcmF2ZWw6IDEsCiAgICAgIHVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ6IGZhbHNlLAogICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xCiAgICB9KTsKICAgIHRoaXMubWF4U3VzcGVuc2lvblRyYXZlbCA9IG9wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbDsKICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDsKICAgIHRoaXMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDsKICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpOwogICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC5jbG9uZSgpOwogICAgdGhpcy5kaXJlY3Rpb25Mb2NhbCA9IG9wdGlvbnMuZGlyZWN0aW9uTG9jYWwuY2xvbmUoKTsKICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7CiAgICB0aGlzLmF4bGVMb2NhbCA9IG9wdGlvbnMuYXhsZUxvY2FsLmNsb25lKCk7CiAgICB0aGlzLmF4bGVXb3JsZCA9IG9wdGlvbnMuYXhsZVdvcmxkLmNsb25lKCk7CiAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgIHRoaXMuc3VzcGVuc2lvbk1heExlbmd0aCA9IG9wdGlvbnMuc3VzcGVuc2lvbk1heExlbmd0aDsKICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXM7CiAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7CiAgICB0aGlzLmRhbXBpbmdDb21wcmVzc2lvbiA9IG9wdGlvbnMuZGFtcGluZ0NvbXByZXNzaW9uOwogICAgdGhpcy5kYW1waW5nUmVsYXhhdGlvbiA9IG9wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb247CiAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwOwogICAgdGhpcy5zdGVlcmluZyA9IDA7CiAgICB0aGlzLnJvdGF0aW9uID0gMDsKICAgIHRoaXMuZGVsdGFSb3RhdGlvbiA9IDA7CiAgICB0aGlzLnJvbGxJbmZsdWVuY2UgPSBvcHRpb25zLnJvbGxJbmZsdWVuY2U7CiAgICB0aGlzLm1heFN1c3BlbnNpb25Gb3JjZSA9IG9wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlOwogICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7CiAgICB0aGlzLmJyYWtlID0gMDsKICAgIHRoaXMuaXNGcm9udFdoZWVsID0gb3B0aW9ucy5pc0Zyb250V2hlZWw7CiAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDE7CiAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgIHRoaXMuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgIHRoaXMuc2xpcEluZm8gPSAwOwogICAgdGhpcy5za2lkSW5mbyA9IDA7CiAgICB0aGlzLnN1c3BlbnNpb25MZW5ndGggPSAwOwogICAgdGhpcy5zaWRlSW1wdWxzZSA9IDA7CiAgICB0aGlzLmZvcndhcmRJbXB1bHNlID0gMDsKICAgIHRoaXMucmF5Y2FzdFJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpOwogICAgdGhpcy5pc0luQ29udGFjdCA9IGZhbHNlOwogIH0KCiAgdXBkYXRlV2hlZWwoY2hhc3NpcykgewogICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDsKCiAgICBpZiAodGhpcy5pc0luQ29udGFjdCkgewogICAgICBjb25zdCBwcm9qZWN0ID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QocmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZCk7CiAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgIGNoYXNzaXMuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocmVscG9zLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CiAgICAgIGNvbnN0IHByb2pWZWwgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CgogICAgICBpZiAocHJvamVjdCA+PSAtMC4xKSB7CiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDsKICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMCAvIDAuMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBpbnYgPSAtMSAvIHByb2plY3Q7CiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7CiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIE5vdCBpbiBjb250YWN0IDogcG9zaXRpb24gd2hlZWwgaW4gYSBuaWNlIChyZXN0IGxlbmd0aCkgcG9zaXRpb24KICAgICAgcmF5Y2FzdFJlc3VsdC5zdXNwZW5zaW9uTGVuZ3RoID0gdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDsKICAgICAgcmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSwgcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wOwogICAgfQogIH0KCn0KCmNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTsKLyoqDQogKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuDQogKiBAY2xhc3MgUmF5Y2FzdFZlaGljbGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5jaGFzc2lzQm9keV0gVGhlIGNhciBjaGFzc2lzIGJvZHkuDQogKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4UmlnaHRBeGlzXSBBeGlzIHRvIHVzZSBmb3IgcmlnaHQuIHg9MCwgeT0xLCB6PTINCiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhMZWZ0QXhpc10NCiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhVcEF4aXNdDQogKi8KCmNsYXNzIFJheWNhc3RWZWhpY2xlIHsKICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy4KICAvLyBJbmRleCBvZiB0aGUgcmlnaHQgYXhpcywgMD14LCAxPXksIDI9egogIC8vIEluZGV4IG9mIHRoZSBmb3J3YXJkIGF4aXMsIDA9eCwgMT15LCAyPXoKICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9egogIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsKICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBvcHRpb25zLmNoYXNzaXNCb2R5OwogICAgdGhpcy53aGVlbEluZm9zID0gW107CiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKICAgIHRoaXMud29ybGQgPSBudWxsOwogICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAxOwogICAgdGhpcy5pbmRleEZvcndhcmRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhGb3J3YXJkQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgOiAwOwogICAgdGhpcy5pbmRleFVwQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4VXBBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhVcEF4aXMgOiAyOwogICAgdGhpcy5jb25zdHJhaW50cyA9IFtdOwoKICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gKCkgPT4ge307CgogICAgdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyID0gMDsKICB9CiAgLyoqDQogICAqIEFkZCBhIHdoZWVsLiBGb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9wdGlvbnMsIHNlZSBXaGVlbEluZm8uDQogICAqIEBtZXRob2QgYWRkV2hlZWwNCiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICAgKi8KCgogIGFkZFdoZWVsKG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgaW5mbyA9IG5ldyBXaGVlbEluZm8ob3B0aW9ucyk7CiAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7CiAgICB0aGlzLndoZWVsSW5mb3MucHVzaChpbmZvKTsKICAgIHJldHVybiBpbmRleDsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC4NCiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlDQogICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQ0KICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgNCiAgICovCgoKICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTsKICAgIHdoZWVsLnN0ZWVyaW5nID0gdmFsdWU7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwDQogICAqIEBtZXRob2QgYXBwbHlFbmdpbmVGb3JjZQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXgNCiAgICovCgoKICBhcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uZW5naW5lRm9yY2UgPSB2YWx1ZTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgYnJha2luZyBmb3JjZSBvZiBhIHdoZWVsDQogICAqIEBtZXRob2Qgc2V0QnJha2UNCiAgICogQHBhcmFtIHtudW1iZXJ9IGJyYWtlDQogICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleA0KICAgKi8KCgogIHNldEJyYWtlKGJyYWtlLCB3aGVlbEluZGV4KSB7CiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTsKICB9CiAgLyoqDQogICAqIEFkZCB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIHRvIHRoZSB3b3JsZC4NCiAgICogQG1ldGhvZCBhZGRUb1dvcmxkDQogICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkDQogICAqLwoKCiAgYWRkVG9Xb3JsZCh3b3JsZCkgewogICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzOwogICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgIGNvbnN0IHRoYXQgPSB0aGlzOwoKICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gKCkgPT4gewogICAgICB0aGF0LnVwZGF0ZVZlaGljbGUod29ybGQuZHQpOwogICAgfTsKCiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdGhpcy5wcmVTdGVwQ2FsbGJhY2spOwogICAgdGhpcy53b3JsZCA9IHdvcmxkOwogIH0KICAvKioNCiAgICogR2V0IG9uZSBvZiB0aGUgd2hlZWwgYXhsZXMsIHdvcmxkLW9yaWVudGVkLg0KICAgKiBAcHJpdmF0ZQ0KICAgKiBAbWV0aG9kIGdldFZlaGljbGVBeGlzV29ybGQNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gYXhpc0luZGV4DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKi8KCgogIGdldFZlaGljbGVBeGlzV29ybGQoYXhpc0luZGV4LCByZXN1bHQpIHsKICAgIHJlc3VsdC5zZXQoYXhpc0luZGV4ID09PSAwID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMSA/IDEgOiAwLCBheGlzSW5kZXggPT09IDIgPyAxIDogMCk7CiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZXN1bHQsIHJlc3VsdCk7CiAgfQoKICB1cGRhdGVWZWhpY2xlKHRpbWVTdGVwKSB7CiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zOwogICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7CiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpOwogICAgfQoKICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDMuNiAqIGNoYXNzaXNCb2R5LnZlbG9jaXR5Lmxlbmd0aCgpOwogICAgY29uc3QgZm9yd2FyZFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZvcndhcmRXb3JsZCk7CgogICAgaWYgKGZvcndhcmRXb3JsZC5kb3QoY2hhc3Npc0JvZHkudmVsb2NpdHkpIDwgMCkgewogICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgKj0gLTE7CiAgICB9IC8vIHNpbXVsYXRlIHN1c3BlbnNpb24KCgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICB0aGlzLmNhc3RSYXkod2hlZWxJbmZvc1tpXSk7CiAgICB9CgogICAgdGhpcy51cGRhdGVTdXNwZW5zaW9uKHRpbWVTdGVwKTsKICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpOwogICAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZQogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgIGxldCBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2U7CgogICAgICBpZiAoc3VzcGVuc2lvbkZvcmNlID4gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlKSB7CiAgICAgICAgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlOwogICAgICB9CgogICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwLCBpbXB1bHNlKTsKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgIGNoYXNzaXNCb2R5LmFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxwb3MpOwogICAgfQoKICAgIHRoaXMudXBkYXRlRnJpY3Rpb24odGltZVN0ZXApOwogICAgY29uc3QgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpOwogICAgY29uc3QgdmVsID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsgLy9jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwogICAgICAvL3doZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpOwoKICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCB2ZWwpOyAvLyBIYWNrIHRvIGdldCB0aGUgcm90YXRpb24gaW4gdGhlIGNvcnJlY3QgZGlyZWN0aW9uCgogICAgICBsZXQgbSA9IDE7CgogICAgICBzd2l0Y2ggKHRoaXMuaW5kZXhVcEF4aXMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtID0gLTE7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZndkKTsKICAgICAgICBjb25zdCBwcm9qID0gZndkLmRvdCh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHByb2osIGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2opOwogICAgICAgIGZ3ZC52c3ViKGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2osIGZ3ZCk7CiAgICAgICAgY29uc3QgcHJvajIgPSBmd2QuZG90KHZlbCk7CiAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IG0gKiBwcm9qMiAqIHRpbWVTdGVwIC8gd2hlZWwucmFkaXVzOwogICAgICB9CgogICAgICBpZiAoKHdoZWVsLnNsaWRpbmcgfHwgIXdoZWVsLmlzSW5Db250YWN0KSAmJiB3aGVlbC5lbmdpbmVGb3JjZSAhPT0gMCAmJiB3aGVlbC51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkKSB7CiAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nCiAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9ICh3aGVlbC5lbmdpbmVGb3JjZSA+IDAgPyAxIDogLTEpICogd2hlZWwuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCAqIHRpbWVTdGVwOwogICAgICB9IC8vIExvY2sgd2hlZWxzCgoKICAgICAgaWYgKE1hdGguYWJzKHdoZWVsLmJyYWtlKSA+IE1hdGguYWJzKHdoZWVsLmVuZ2luZUZvcmNlKSkgewogICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAwOwogICAgICB9CgogICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZQoKICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiAqPSAwLjk5OyAvLyBkYW1waW5nIG9mIHJvdGF0aW9uIHdoZW4gbm90IGluIGNvbnRhY3QKICAgIH0KICB9CgogIHVwZGF0ZVN1c3BlbnNpb24oZGVsdGFUaW1lKSB7CiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICBjb25zdCBjaGFzc2lzTWFzcyA9IGNoYXNzaXNCb2R5Lm1hc3M7CiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zOwogICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7CgogICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykgewogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3Nbd19pdF07CgogICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHsKICAgICAgICBsZXQgZm9yY2U7IC8vIFNwcmluZwoKICAgICAgICBjb25zdCBzdXNwX2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoOwogICAgICAgIGNvbnN0IGN1cnJlbnRfbGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvbkxlbmd0aDsKICAgICAgICBjb25zdCBsZW5ndGhfZGlmZiA9IHN1c3BfbGVuZ3RoIC0gY3VycmVudF9sZW5ndGg7CiAgICAgICAgZm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uU3RpZmZuZXNzICogbGVuZ3RoX2RpZmYgKiB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb247IC8vIERhbXBlcgoKICAgICAgICBjb25zdCBwcm9qZWN0ZWRfcmVsX3ZlbCA9IHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5OwogICAgICAgIGxldCBzdXNwX2RhbXBpbmc7CgogICAgICAgIGlmIChwcm9qZWN0ZWRfcmVsX3ZlbCA8IDApIHsKICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdDb21wcmVzc2lvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3VzcF9kYW1waW5nID0gd2hlZWwuZGFtcGluZ1JlbGF4YXRpb247CiAgICAgICAgfQoKICAgICAgICBmb3JjZSAtPSBzdXNwX2RhbXBpbmcgKiBwcm9qZWN0ZWRfcmVsX3ZlbDsKICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSBmb3JjZSAqIGNoYXNzaXNNYXNzOwoKICAgICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkZvcmNlIDwgMCkgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuDQogICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkDQogICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkDQogICAqLwoKCiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7CiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7CiAgICB3b3JsZC5yZW1vdmVCb2R5KHRoaXMuY2hhc3Npc0JvZHkpOwogICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgIHRoaXMud29ybGQgPSBudWxsOwogIH0KCiAgY2FzdFJheSh3aGVlbCkgewogICAgY29uc3QgcmF5dmVjdG9yID0gY2FzdFJheV9yYXl2ZWN0b3I7CiAgICBjb25zdCB0YXJnZXQgPSBjYXN0UmF5X3RhcmdldDsKICAgIHRoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbCk7CiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICBsZXQgZGVwdGggPSAtMTsKICAgIGNvbnN0IHJheWxlbiA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwucmFkaXVzOwogICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUocmF5bGVuLCByYXl2ZWN0b3IpOwogICAgY29uc3Qgc291cmNlID0gd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkOwogICAgc291cmNlLnZhZGQocmF5dmVjdG9yLCB0YXJnZXQpOwogICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQ7CiAgICByYXljYXN0UmVzdWx0LnJlc2V0KCk7IC8vIFR1cm4gb2ZmIHJheSBjb2xsaXNpb24gd2l0aCB0aGUgY2hhc3NpcyB0ZW1wb3JhcmlseQoKICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7CiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IGZhbHNlOyAvLyBDYXN0IHJheSBhZ2FpbnN0IHdvcmxkCgogICAgdGhpcy53b3JsZC5yYXlUZXN0KHNvdXJjZSwgdGFyZ2V0LCByYXljYXN0UmVzdWx0KTsKICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7CiAgICBjb25zdCBvYmplY3QgPSByYXljYXN0UmVzdWx0LmJvZHk7CiAgICB3aGVlbC5yYXljYXN0UmVzdWx0Lmdyb3VuZE9iamVjdCA9IDA7CgogICAgaWYgKG9iamVjdCkgewogICAgICBkZXB0aCA9IHJheWNhc3RSZXN1bHQuZGlzdGFuY2U7CiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkOwogICAgICB3aGVlbC5pc0luQ29udGFjdCA9IHRydWU7CiAgICAgIGNvbnN0IGhpdERpc3RhbmNlID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTsKICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IGhpdERpc3RhbmNlIC0gd2hlZWwucmFkaXVzOyAvLyBjbGFtcCBvbiBtYXggc3VzcGVuc2lvbiB0cmF2ZWwKCiAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgIGNvbnN0IG1heFN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CgogICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA8IG1pblN1c3BlbnNpb25MZW5ndGgpIHsKICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDsKICAgICAgfQoKICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPiBtYXhTdXNwZW5zaW9uTGVuZ3RoKSB7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1heFN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5yZXNldCgpOwogICAgICB9CgogICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgY29uc3QgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQgPSBuZXcgVmVjMygpOwogICAgICBjaGFzc2lzQm9keS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKCiAgICAgIGlmIChkZW5vbWluYXRvciA+PSAtMC4xKSB7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwOwogICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgaW52ID0gLTEgLyBkZW5vbWluYXRvcjsKICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7CiAgICAgICAgd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gaW52OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvL3B1dCB3aGVlbCBpbmZvIGFzIGluIHJlc3QgcG9zaXRpb24KICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgMCAqIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMDsKICAgIH0KCiAgICByZXR1cm4gZGVwdGg7CiAgfQoKICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7CiAgICB3aGVlbC5pc0luQ29udGFjdCA9IGZhbHNlOwogICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpOwogICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmRpcmVjdGlvbkxvY2FsLCB3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7CiAgICBjaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUod2hlZWwuYXhsZUxvY2FsLCB3aGVlbC5heGxlV29ybGQpOwogIH0KICAvKioNCiAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLg0KICAgKiBOb3RlIHdoZW4gcmVuZGVyaW5nIHdoZWVsczogZHVyaW5nIGVhY2ggc3RlcCwgd2hlZWwgdHJhbnNmb3JtcyBhcmUgdXBkYXRlZCBCRUZPUkUgdGhlIGNoYXNzaXM7IGllLiB0aGVpciBwb3NpdGlvbiBiZWNvbWVzIGludmFsaWQgYWZ0ZXIgdGhlIHN0ZXAuIFRodXMgd2hlbiB5b3UgcmVuZGVyIHdoZWVscywgeW91IG11c3QgdXBkYXRlIHdoZWVsIHRyYW5zZm9ybXMgYmVmb3JlIHJlbmRlcmluZyB0aGVtLiBTZWUgcmF5Y2FzdFZlaGljbGUgZGVtbyBmb3IgYW4gZXhhbXBsZS4NCiAgICogQG1ldGhvZCB1cGRhdGVXaGVlbFRyYW5zZm9ybQ0KICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXggVGhlIHdoZWVsIGluZGV4IHRvIHVwZGF0ZS4NCiAgICovCgoKICB1cGRhdGVXaGVlbFRyYW5zZm9ybSh3aGVlbEluZGV4KSB7CiAgICBjb25zdCB1cCA9IHRtcFZlYzQ7CiAgICBjb25zdCByaWdodCA9IHRtcFZlYzU7CiAgICBjb25zdCBmd2QgPSB0bXBWZWM2OwogICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07CiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpOwogICAgd2hlZWwuZGlyZWN0aW9uTG9jYWwuc2NhbGUoLTEsIHVwKTsKICAgIHJpZ2h0LmNvcHkod2hlZWwuYXhsZUxvY2FsKTsKICAgIHVwLmNyb3NzKHJpZ2h0LCBmd2QpOwogICAgZndkLm5vcm1hbGl6ZSgpOwogICAgcmlnaHQubm9ybWFsaXplKCk7IC8vIFJvdGF0ZSBhcm91bmQgc3RlZXJpbmcgb3ZlciB0aGUgd2hlZWxBeGxlCgogICAgY29uc3Qgc3RlZXJpbmcgPSB3aGVlbC5zdGVlcmluZzsKICAgIGNvbnN0IHN0ZWVyaW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHN0ZWVyaW5nT3JuLnNldEZyb21BeGlzQW5nbGUodXAsIHN0ZWVyaW5nKTsKICAgIGNvbnN0IHJvdGF0aW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHJvdGF0aW5nT3JuLnNldEZyb21BeGlzQW5nbGUocmlnaHQsIHdoZWVsLnJvdGF0aW9uKTsgLy8gV29ybGQgcm90YXRpb24gb2YgdGhlIHdoZWVsCgogICAgY29uc3QgcSA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnF1YXRlcm5pb247CiAgICB0aGlzLmNoYXNzaXNCb2R5LnF1YXRlcm5pb24ubXVsdChzdGVlcmluZ09ybiwgcSk7CiAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpOwogICAgcS5ub3JtYWxpemUoKTsgLy8gd29ybGQgcG9zaXRpb24gb2YgdGhlIHdoZWVsCgogICAgY29uc3QgcCA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnBvc2l0aW9uOwogICAgcC5jb3B5KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgIHAuc2NhbGUod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCwgcCk7CiAgICBwLnZhZGQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCBwKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgd29ybGQgdHJhbnNmb3JtIG9mIG9uZSBvZiB0aGUgd2hlZWxzDQogICAqIEBtZXRob2QgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZA0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4DQogICAqIEByZXR1cm4ge1RyYW5zZm9ybX0NCiAgICovCgoKICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHsKICAgIHJldHVybiB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0ud29ybGRUcmFuc2Zvcm07CiAgfQoKICB1cGRhdGVGcmljdGlvbih0aW1lU3RlcCkgewogICAgY29uc3Qgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qOyAvL2NhbGN1bGF0ZSB0aGUgaW1wdWxzZSwgc28gdGhhdCB0aGUgd2hlZWxzIGRvbid0IG1vdmUgc2lkZXdhcmRzCgogICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwogICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgY29uc3QgZm9yd2FyZFdTID0gdXBkYXRlRnJpY3Rpb25fZm9yd2FyZFdTOwogICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSAwOwogICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7CgogICAgICBpZiAoIWZvcndhcmRXU1tpXSkgewogICAgICAgIGZvcndhcmRXU1tpXSA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIGlmICghYXhsZVtpXSkgewogICAgICAgIGF4bGVbaV0gPSBuZXcgVmVjMygpOwogICAgICB9CiAgICB9CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKCiAgICAgIGlmIChncm91bmRPYmplY3QpIHsKICAgICAgICBjb25zdCBheGxlaSA9IGF4bGVbaV07CiAgICAgICAgY29uc3Qgd2hlZWxUcmFucyA9IHRoaXMuZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZChpKTsgLy8gR2V0IHdvcmxkIGF4bGUKCiAgICAgICAgd2hlZWxUcmFucy52ZWN0b3JUb1dvcmxkRnJhbWUoZGlyZWN0aW9uc1t0aGlzLmluZGV4UmlnaHRBeGlzXSwgYXhsZWkpOwogICAgICAgIGNvbnN0IHN1cmZOb3JtYWxXUyA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7CiAgICAgICAgY29uc3QgcHJvaiA9IGF4bGVpLmRvdChzdXJmTm9ybWFsV1MpOwogICAgICAgIHN1cmZOb3JtYWxXUy5zY2FsZShwcm9qLCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2opOwogICAgICAgIGF4bGVpLnZzdWIoc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qLCBheGxlaSk7CiAgICAgICAgYXhsZWkubm9ybWFsaXplKCk7CiAgICAgICAgc3VyZk5vcm1hbFdTLmNyb3NzKGF4bGVpLCBmb3J3YXJkV1NbaV0pOwogICAgICAgIGZvcndhcmRXU1tpXS5ub3JtYWxpemUoKTsKICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoY2hhc3Npc0JvZHksIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGF4bGVpKTsKICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyOwogICAgICB9CiAgICB9CgogICAgY29uc3Qgc2lkZUZhY3RvciA9IDE7CiAgICBjb25zdCBmd2RGYWN0b3IgPSAwLjU7CiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5OwogICAgICBsZXQgcm9sbGluZ0ZyaWN0aW9uID0gMDsKICAgICAgd2hlZWwuc2xpcEluZm8gPSAxOwoKICAgICAgaWYgKGdyb3VuZE9iamVjdCkgewogICAgICAgIGNvbnN0IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlID0gMDsKICAgICAgICBjb25zdCBtYXhJbXB1bHNlID0gd2hlZWwuYnJha2UgPyB3aGVlbC5icmFrZSA6IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlOyAvLyBidFdoZWVsQ29udGFjdFBvaW50IGNvbnRhY3RQdChjaGFzc2lzQm9keSxncm91bmRPYmplY3Qsd2hlZWxJbmZyYXljYXN0SW5mby5oaXRQb2ludFdvcmxkLGZvcndhcmRXU1t3aGVlbF0sbWF4SW1wdWxzZSk7CiAgICAgICAgLy8gcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjb250YWN0UHQpOwoKICAgICAgICByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNoYXNzaXNCb2R5LCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZm9yd2FyZFdTW2ldLCBtYXhJbXB1bHNlKTsKICAgICAgICByb2xsaW5nRnJpY3Rpb24gKz0gd2hlZWwuZW5naW5lRm9yY2UgKiB0aW1lU3RlcDsgLy8gcm9sbGluZ0ZyaWN0aW9uID0gMDsKCiAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4SW1wdWxzZSAvIHJvbGxpbmdGcmljdGlvbjsKICAgICAgICB3aGVlbC5zbGlwSW5mbyAqPSBmYWN0b3I7CiAgICAgIH0gLy9zd2l0Y2ggYmV0d2VlbiBhY3RpdmUgcm9sbGluZyAodGhyb3R0bGUpLCBicmFraW5nIGFuZCBub24tYWN0aXZlIHJvbGxpbmcgZnJpY3Rpb24gKG50aHJvdHRsZS9icmVhaykKCgogICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7CiAgICAgIHdoZWVsLnNraWRJbmZvID0gMTsKCiAgICAgIGlmIChncm91bmRPYmplY3QpIHsKICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7CiAgICAgICAgY29uc3QgbWF4aW1wID0gd2hlZWwuc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAgKiB3aGVlbC5mcmljdGlvblNsaXA7CiAgICAgICAgY29uc3QgbWF4aW1wU2lkZSA9IG1heGltcDsKICAgICAgICBjb25zdCBtYXhpbXBTcXVhcmVkID0gbWF4aW1wICogbWF4aW1wU2lkZTsKICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IHJvbGxpbmdGcmljdGlvbjsgLy93aGVlbEluZm8uZW5naW5lRm9yY2UqIHRpbWVTdGVwOwoKICAgICAgICBjb25zdCB4ID0gd2hlZWwuZm9yd2FyZEltcHVsc2UgKiBmd2RGYWN0b3I7CiAgICAgICAgY29uc3QgeSA9IHdoZWVsLnNpZGVJbXB1bHNlICogc2lkZUZhY3RvcjsKICAgICAgICBjb25zdCBpbXB1bHNlU3F1YXJlZCA9IHggKiB4ICsgeSAqIHk7CiAgICAgICAgd2hlZWwuc2xpZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAoaW1wdWxzZVNxdWFyZWQgPiBtYXhpbXBTcXVhcmVkKSB7CiAgICAgICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlOwogICAgICAgICAgd2hlZWwuc2xpZGluZyA9IHRydWU7CiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhpbXAgLyBNYXRoLnNxcnQoaW1wdWxzZVNxdWFyZWQpOwogICAgICAgICAgd2hlZWwuc2tpZEluZm8gKj0gZmFjdG9yOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICh0aGlzLnNsaWRpbmcpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKCiAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICBpZiAod2hlZWwuc2tpZEluZm8gPCAxKSB7CiAgICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvOwogICAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gYXBwbHkgdGhlIGltcHVsc2VzCgoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICBjb25zdCByZWxfcG9zID0gbmV3IFZlYzMoKTsKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbF9wb3MpOyAvLyBjYW5ub25zIGFwcGx5aW1wdWxzZSBpcyB1c2luZyB3b3JsZCBjb29yZCBmb3IgdGhlIHBvc2l0aW9uCiAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICBpZiAod2hlZWwuZm9yd2FyZEltcHVsc2UgIT09IDApIHsKICAgICAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTsKICAgICAgICBmb3J3YXJkV1NbaV0uc2NhbGUod2hlZWwuZm9yd2FyZEltcHVsc2UsIGltcHVsc2UpOwogICAgICAgIGNoYXNzaXNCb2R5LmFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxfcG9zKTsKICAgICAgfQoKICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5OwogICAgICAgIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1Yihncm91bmRPYmplY3QucG9zaXRpb24sIHJlbF9wb3MyKTsgLy9yZWxfcG9zMi5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICAgIGNvbnN0IHNpZGVJbXAgPSBuZXcgVmVjMygpOwogICAgICAgIGF4bGVbaV0uc2NhbGUod2hlZWwuc2lkZUltcHVsc2UsIHNpZGVJbXApOyAvLyBTY2FsZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gaW4gdGhlIHVwIGRpcmVjdGlvbiB3aXRoIHJvbGxJbmZsdWVuY2UuCiAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS4KCiAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Mb2NhbEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpOwogICAgICAgIHJlbF9wb3NbJ3h5eidbdGhpcy5pbmRleFVwQXhpc11dICo9IHdoZWVsLnJvbGxJbmZsdWVuY2U7CiAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpOwogICAgICAgIGNoYXNzaXNCb2R5LmFwcGx5SW1wdWxzZShzaWRlSW1wLCByZWxfcG9zKTsgLy9hcHBseSBmcmljdGlvbiBpbXB1bHNlIG9uIHRoZSBncm91bmQKCiAgICAgICAgc2lkZUltcC5zY2FsZSgtMSwgc2lkZUltcCk7CiAgICAgICAgZ3JvdW5kT2JqZWN0LmFwcGx5SW1wdWxzZShzaWRlSW1wLCByZWxfcG9zMik7CiAgICAgIH0KICAgIH0KICB9Cgp9Cgpjb25zdCB0bXBWZWM0ID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjNSA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFZlYzYgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBSYXkgPSBuZXcgUmF5KCk7CmNvbnN0IGNhc3RSYXlfcmF5dmVjdG9yID0gbmV3IFZlYzMoKTsKY29uc3QgY2FzdFJheV90YXJnZXQgPSBuZXcgVmVjMygpOwpjb25zdCBkaXJlY3Rpb25zID0gW25ldyBWZWMzKDEsIDAsIDApLCBuZXcgVmVjMygwLCAxLCAwKSwgbmV3IFZlYzMoMCwgMCwgMSldOwpjb25zdCB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSBuZXcgVmVjMygpOwpjb25zdCB1cGRhdGVGcmljdGlvbl9heGxlID0gW107CmNvbnN0IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUyA9IFtdOwpjb25zdCBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyID0gMTsKY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxID0gbmV3IFZlYzMoKTsKY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyID0gbmV3IFZlYzMoKTsKY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwgPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gY2FsY1JvbGxpbmdGcmljdGlvbihib2R5MCwgYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQsIG1heEltcHVsc2UpIHsKICBsZXQgajEgPSAwOwogIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTsKICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CgogIGNvbnN0IHZlbDEgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDE7CiAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjsKICBjb25zdCB2ZWwgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDsgLy8gY29udGFjdFBvc1dvcmxkLnZzdWIoYm9keTAucG9zaXRpb24sIHJlbF9wb3MxKTsKICAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczIpOwoKICBib2R5MC5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChjb250YWN0UG9zV29ybGQsIHZlbDEpOwogIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMik7CiAgdmVsMS52c3ViKHZlbDIsIHZlbCk7CiAgY29uc3QgdnJlbCA9IGZyaWN0aW9uRGlyZWN0aW9uV29ybGQuZG90KHZlbCk7CiAgY29uc3QgZGVub20wID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MCwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7CiAgY29uc3QgZGVub20xID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7CiAgY29uc3QgcmVsYXhhdGlvbiA9IDE7CiAgY29uc3QgamFjRGlhZ0FCSW52ID0gcmVsYXhhdGlvbiAvIChkZW5vbTAgKyBkZW5vbTEpOyAvLyBjYWxjdWxhdGUgaiB0aGF0IG1vdmVzIHVzIHRvIHplcm8gcmVsYXRpdmUgdmVsb2NpdHkKCiAgajEgPSAtdnJlbCAqIGphY0RpYWdBQkludjsKCiAgaWYgKG1heEltcHVsc2UgPCBqMSkgewogICAgajEgPSBtYXhJbXB1bHNlOwogIH0KCiAgaWYgKGoxIDwgLW1heEltcHVsc2UpIHsKICAgIGoxID0gLW1heEltcHVsc2U7CiAgfQoKICByZXR1cm4gajE7Cn0KCmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfcjAgPSBuZXcgVmVjMygpOwpjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTsKY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl92ZWMgPSBuZXcgVmVjMygpOwpjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX20gPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5LCBwb3MsIG5vcm1hbCkgewogIGNvbnN0IHIwID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMDsKICBjb25zdCBjMCA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfYzA7CiAgY29uc3QgdmVjID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl92ZWM7CiAgY29uc3QgbSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbTsKICBwb3MudnN1Yihib2R5LnBvc2l0aW9uLCByMCk7CiAgcjAuY3Jvc3Mobm9ybWFsLCBjMCk7CiAgYm9keS5pbnZJbmVydGlhV29ybGQudm11bHQoYzAsIG0pOwogIG0uY3Jvc3MocjAsIHZlYyk7CiAgcmV0dXJuIGJvZHkuaW52TWFzcyArIG5vcm1hbC5kb3QodmVjKTsKfQoKY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxID0gbmV3IFZlYzMoKTsKY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTsKY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwgPSBuZXcgVmVjMygpOyAvL2JpbGF0ZXJhbCBjb25zdHJhaW50IGJldHdlZW4gdHdvIGR5bmFtaWMgb2JqZWN0cwoKZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChib2R5MSwgcG9zMSwgYm9keTIsIHBvczIsIG5vcm1hbCkgewogIGNvbnN0IG5vcm1hbExlblNxciA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7CgogIGlmIChub3JtYWxMZW5TcXIgPiAxLjEpIHsKICAgIHJldHVybiAwOyAvLyBubyBpbXB1bHNlCiAgfSAvLyBjb25zdCByZWxfcG9zMSA9IG5ldyBWZWMzKCk7CiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpOwogIC8vIHBvczEudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczEpOwogIC8vIHBvczIudnN1Yihib2R5Mi5wb3NpdGlvbiwgcmVsX3BvczIpOwoKCiAgY29uc3QgdmVsMSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMTsKICBjb25zdCB2ZWwyID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyOwogIGNvbnN0IHZlbCA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsOwogIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczEsIHZlbDEpOwogIGJvZHkyLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczIsIHZlbDIpOwogIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogIGNvbnN0IHJlbF92ZWwgPSBub3JtYWwuZG90KHZlbCk7CiAgY29uc3QgY29udGFjdERhbXBpbmcgPSAwLjI7CiAgY29uc3QgbWFzc1Rlcm0gPSAxIC8gKGJvZHkxLmludk1hc3MgKyBib2R5Mi5pbnZNYXNzKTsKICBjb25zdCBpbXB1bHNlID0gLWNvbnRhY3REYW1waW5nICogcmVsX3ZlbCAqIG1hc3NUZXJtOwogIHJldHVybiBpbXB1bHNlOwp9Ci8qKg0KICogU3BoZXJpY2FsIHNoYXBlDQogKiBAY2xhc3MgU3BoZXJlDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzIFRoZSByYWRpdXMgb2YgdGhlIHNwaGVyZSwgYSBub24tbmVnYXRpdmUgbnVtYmVyLg0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKi8KCgpjbGFzcyBTcGhlcmUgZXh0ZW5kcyBTaGFwZSB7CiAgY29uc3RydWN0b3IocmFkaXVzKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlNQSEVSRQogICAgfSk7CiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wOwoKICAgIGlmICh0aGlzLnJhZGl1cyA8IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3BoZXJlIHJhZGl1cyBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7CiAgICB9CgogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogIH0KCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IEkgPSAyLjAgKiBtYXNzICogdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cyAvIDUuMDsKICAgIHRhcmdldC54ID0gSTsKICAgIHRhcmdldC55ID0gSTsKICAgIHRhcmdldC56ID0gSTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIE1hdGgucG93KHRoaXMucmFkaXVzLCAzKSAvIDMuMDsKICB9CgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IHRoaXMucmFkaXVzOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIGNvbnN0IHIgPSB0aGlzLnJhZGl1czsKICAgIGNvbnN0IGF4ZXMgPSBbJ3gnLCAneScsICd6J107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGF4ID0gYXhlc1tpXTsKICAgICAgbWluW2F4XSA9IHBvc1theF0gLSByOwogICAgICBtYXhbYXhdID0gcG9zW2F4XSArIHI7CiAgICB9CiAgfQoKfQovKioNCiAqIEBjbGFzcyBDeWxpbmRlcg0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVG9wDQogKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQm90dG9tDQogKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0DQogKiBAcGFyYW0ge051bWJlcn0gbnVtU2VnbWVudHMgVGhlIG51bWJlciBvZiBzZWdtZW50cyB0byBidWlsZCB0aGUgY3lsaW5kZXIgb3V0IG9mDQogKi8KCmNsYXNzIEN5bGluZGVyIGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbiB7CiAgY29uc3RydWN0b3IocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMpIHsKICAgIGNvbnN0IE4gPSBudW1TZWdtZW50czsKICAgIGNvbnN0IHZlcnRpY2VzID0gW107CiAgICBjb25zdCBheGVzID0gW107CiAgICBjb25zdCBmYWNlcyA9IFtdOwogICAgY29uc3QgYm90dG9tZmFjZSA9IFtdOwogICAgY29uc3QgdG9wZmFjZSA9IFtdOwogICAgY29uc3QgY29zID0gTWF0aC5jb3M7CiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjsgLy8gRmlyc3QgYm90dG9tIHBvaW50CgogICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzQm90dG9tICogc2luKDApLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3MoMCkpKTsKICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50CgogICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKDApLCBoZWlnaHQgKiAwLjUsIHJhZGl1c1RvcCAqIGNvcygwKSkpOwogICAgdG9wZmFjZS5wdXNoKDEpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICAgIGNvbnN0IHRoZXRhID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAxKTsKICAgICAgY29uc3QgdGhldGFOID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAwLjUpOwoKICAgICAgaWYgKGkgPCBOIC0gMSkgewogICAgICAgIC8vIEJvdHRvbQogICAgICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbih0aGV0YSksIC1oZWlnaHQgKiAwLjUsIHJhZGl1c0JvdHRvbSAqIGNvcyh0aGV0YSkpKTsKICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wCgogICAgICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c1RvcCAqIHNpbih0aGV0YSksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKHRoZXRhKSkpOwogICAgICAgIHRvcGZhY2UucHVzaCgyICogaSArIDMpOyAvLyBGYWNlCgogICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDIgKiBpICsgMywgMiAqIGkgKyAyXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMSwgMF0pOyAvLyBDb25uZWN0CiAgICAgIH0gLy8gQXhpczogd2UgY2FuIGN1dCBvZmYgaGFsZiBvZiB0aGVtIGlmIHdlIGhhdmUgZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMKCgogICAgICBpZiAoTiAlIDIgPT09IDEgfHwgaSA8IE4gLyAyKSB7CiAgICAgICAgYXhlcy5wdXNoKG5ldyBWZWMzKC1zaW4odGhldGFOKSwgMCwgY29zKHRoZXRhTikpKTsKICAgICAgfQogICAgfQoKICAgIGZhY2VzLnB1c2goYm90dG9tZmFjZSk7CiAgICBheGVzLnB1c2gobmV3IFZlYzMoMCwgMSwgMCkpOyAvLyBSZW9yZGVyIHRvcCBmYWNlCgogICAgY29uc3QgdGVtcCA9IFtdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9wZmFjZS5sZW5ndGg7IGkrKykgewogICAgICB0ZW1wLnB1c2godG9wZmFjZVt0b3BmYWNlLmxlbmd0aCAtIGkgLSAxXSk7CiAgICB9CgogICAgZmFjZXMucHVzaCh0ZW1wKTsKICAgIHN1cGVyKHsKICAgICAgdmVydGljZXMsCiAgICAgIGZhY2VzLAogICAgICBheGVzCiAgICB9KTsKICB9Cgp9Ci8qKg0KICogUGFydGljbGUgc2hhcGUuDQogKiBAY2xhc3MgUGFydGljbGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQGV4dGVuZHMgU2hhcGUNCiAqLwoKCmNsYXNzIFBhcnRpY2xlIGV4dGVuZHMgU2hhcGUgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5QQVJUSUNMRQogICAgfSk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHRhcmdldC5zZXQoMCwgMCwgMCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCiAgdm9sdW1lKCkgewogICAgcmV0dXJuIDA7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICBtaW4uY29weShwb3MpOwogICAgbWF4LmNvcHkocG9zKTsKICB9Cgp9Ci8qKg0KICogQSBwbGFuZSwgZmFjaW5nIGluIHRoZSBaIGRpcmVjdGlvbi4gVGhlIHBsYW5lIGhhcyBpdHMgc3VyZmFjZSBhdCB6PTAgYW5kIGV2ZXJ5dGhpbmcgYmVsb3cgej0wIGlzIGFzc3VtZWQgdG8gYmUgc29saWQgcGxhbmUuIFRvIG1ha2UgdGhlIHBsYW5lIGZhY2UgaW4gc29tZSBvdGhlciBkaXJlY3Rpb24gdGhhbiB6LCB5b3UgbXVzdCBwdXQgaXQgaW5zaWRlIGEgQm9keSBhbmQgcm90YXRlIHRoYXQgYm9keS4gU2VlIHRoZSBkZW1vcy4NCiAqIEBjbGFzcyBQbGFuZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICovCgoKY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FCiAgICB9KTsgLy8gV29ybGQgb3JpZW50ZWQgbm9ybWFsCgogICAgdGhpcy53b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7CiAgfQoKICBjb21wdXRlV29ybGROb3JtYWwocXVhdCkgewogICAgY29uc3QgbiA9IHRoaXMud29ybGROb3JtYWw7CiAgICBuLnNldCgwLCAwLCAxKTsKICAgIHF1YXQudm11bHQobiwgbik7CiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSBmYWxzZTsKICB9CgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCiAgdm9sdW1lKCkgewogICAgcmV0dXJuICgvLyBUaGUgcGxhbmUgaXMgaW5maW5pdGUuLi4KICAgICAgTnVtYmVyLk1BWF9WQUxVRQogICAgKTsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvLyBUaGUgcGxhbmUgQUFCQiBpcyBpbmZpbml0ZSwgZXhjZXB0IGlmIHRoZSBub3JtYWwgaXMgcG9pbnRpbmcgYWxvbmcgYW55IGF4aXMKICAgIHRlbXBOb3JtYWwuc2V0KDAsIDAsIDEpOyAvLyBEZWZhdWx0IHBsYW5lIG5vcm1hbCBpcyB6CgogICAgcXVhdC52bXVsdCh0ZW1wTm9ybWFsLCB0ZW1wTm9ybWFsKTsKICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7CiAgICBtaW4uc2V0KC1tYXhWYWwsIC1tYXhWYWwsIC1tYXhWYWwpOwogICAgbWF4LnNldChtYXhWYWwsIG1heFZhbCwgbWF4VmFsKTsKCiAgICBpZiAodGVtcE5vcm1hbC54ID09PSAxKSB7CiAgICAgIG1heC54ID0gcG9zLng7CiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueCA9PT0gLTEpIHsKICAgICAgbWluLnggPSBwb3MueDsKICAgIH0KCiAgICBpZiAodGVtcE5vcm1hbC55ID09PSAxKSB7CiAgICAgIG1heC55ID0gcG9zLnk7CiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueSA9PT0gLTEpIHsKICAgICAgbWluLnkgPSBwb3MueTsKICAgIH0KCiAgICBpZiAodGVtcE5vcm1hbC56ID09PSAxKSB7CiAgICAgIG1heC56ID0gcG9zLno7CiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHsKICAgICAgbWluLnogPSBwb3MuejsKICAgIH0KICB9CgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7CiAgfQoKfQoKY29uc3QgdGVtcE5vcm1hbCA9IG5ldyBWZWMzKCk7Ci8qKg0KICogSGVpZ2h0ZmllbGQgc2hhcGUgY2xhc3MuIEhlaWdodCBkYXRhIGlzIGdpdmVuIGFzIGFuIGFycmF5LiBUaGVzZSBkYXRhIHBvaW50cyBhcmUgc3ByZWFkIG91dCBldmVubHkgd2l0aCBhIGdpdmVuIGRpc3RhbmNlLg0KICogQGNsYXNzIEhlaWdodGZpZWxkDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi4NCiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWluVmFsdWVdIE1pbmltdW0gdmFsdWUgb2YgdGhlIGRhdGEgcG9pbnRzIGluIHRoZSBkYXRhIGFycmF5LiBXaWxsIGJlIGNvbXB1dGVkIGF1dG9tYXRpY2FsbHkgaWYgbm90IGdpdmVuLg0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLg0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi4NCiAqIEB0b2RvIFNob3VsZCBiZSBwb3NzaWJsZSB0byB1c2UgYWxvbmcgYWxsIGF4ZXMsIG5vdCBqdXN0IHkNCiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlcw0KICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVkNCiAqDQogKiBAZXhhbXBsZQ0KICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS4NCiAqICAgICBjb25zdCBkYXRhID0gW107DQogKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7DQogKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTsNCiAqICAgICAgICAgZGF0YS5wdXNoKHkpOw0KICogICAgIH0NCiAqDQogKiAgICAgLy8gQ3JlYXRlIHRoZSBoZWlnaHRmaWVsZCBzaGFwZQ0KICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwgew0KICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnMNCiAqICAgICB9KTsNCiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpOw0KICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTsNCiAqICAgICB3b3JsZC5hZGRCb2R5KGhlaWdodGZpZWxkQm9keSk7DQogKi8KCmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUgewogIC8vIEFuIGFycmF5IG9mIG51bWJlcnMsIG9yIGhlaWdodCB2YWx1ZXMsIHRoYXQgYXJlIHNwcmVhZCBvdXQgYWxvbmcgdGhlIHggYXhpcy4KICAvLyBNYXggdmFsdWUgb2YgdGhlIGRhdGEuCiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLgogIC8vIFRoZSB3aWR0aCBvZiBlYWNoIGVsZW1lbnQuIFRvIGRvOiBlbGVtZW50U2l6ZVggYW5kIFkKICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zID0ge30pIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIG1heFZhbHVlOiBudWxsLAogICAgICBtaW5WYWx1ZTogbnVsbCwKICAgICAgZWxlbWVudFNpemU6IDEKICAgIH0pOwogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRAogICAgfSk7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7CiAgICB0aGlzLm1pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTsKICAgIHRoaXMuZWxlbWVudFNpemUgPSBvcHRpb25zLmVsZW1lbnRTaXplOwoKICAgIGlmIChvcHRpb25zLm1pblZhbHVlID09PSBudWxsKSB7CiAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5tYXhWYWx1ZSA9PT0gbnVsbCkgewogICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICB9CgogICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlOwogICAgdGhpcy5waWxsYXJDb252ZXggPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgdGhpcy5waWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyAiaV9qX2lzVXBwZXIiID0+IHsgY29udmV4OiAuLi4sIG9mZnNldDogLi4uIH0KICAgIC8vIGZvciBleGFtcGxlOgogICAgLy8gX2NhY2hlZFBpbGxhcnNbIjBfMl8xIl0KCiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307CiAgfQogIC8qKg0KICAgKiBDYWxsIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGRhdGEgYXJyYXkuDQogICAqIEBtZXRob2QgdXBkYXRlDQogICAqLwoKCiAgdXBkYXRlKCkgewogICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogIH0KICAvKioNCiAgICogVXBkYXRlIHRoZSAubWluVmFsdWUgcHJvcGVydHkNCiAgICogQG1ldGhvZCB1cGRhdGVNaW5WYWx1ZQ0KICAgKi8KCgogIHVwZGF0ZU1pblZhbHVlKCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkgewogICAgICAgICAgbWluVmFsdWUgPSB2OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgLm1heFZhbHVlIHByb3BlcnR5DQogICAqIEBtZXRob2QgdXBkYXRlTWF4VmFsdWUNCiAgICovCgoKICB1cGRhdGVNYXhWYWx1ZSgpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBsZXQgbWF4VmFsdWUgPSBkYXRhWzBdWzBdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07CgogICAgICAgIGlmICh2ID4gbWF4VmFsdWUpIHsKICAgICAgICAgIG1heFZhbHVlID0gdjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGhlaWdodCB2YWx1ZSBhdCBhbiBpbmRleC4gRG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBtYXhWYWx1ZSBhbmQgbWluVmFsdWUgYWZ0ZXIgeW91J3JlIGRvbmUuDQogICAqIEBtZXRob2Qgc2V0SGVpZ2h0VmFsdWVBdEluZGV4DQogICAqIEBwYXJhbSB7aW50ZWdlcn0geGkNCiAgICogQHBhcmFtIHtpbnRlZ2VyfSB5aQ0KICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUNCiAgICovCgoKICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlCgogICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZmFsc2UpOwoKICAgIGlmICh4aSA+IDApIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIHRydWUpOwogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSwgZmFsc2UpOwogICAgfQoKICAgIGlmICh5aSA+IDApIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpOwogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgZmFsc2UpOwogICAgfQoKICAgIGlmICh5aSA+IDAgJiYgeGkgPiAwKSB7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpIC0gMSwgdHJ1ZSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgbWF4L21pbiBpbiBhIHJlY3RhbmdsZSBpbiB0aGUgbWF0cml4IGRhdGENCiAgICogQG1ldGhvZCBnZXRSZWN0TWluTWF4DQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNaW5YDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNaW5ZDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhYDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhZDQogICAqIEBwYXJhbSAge2FycmF5fSBbcmVzdWx0XSBBbiBhcnJheSB0byBzdG9yZSB0aGUgcmVzdWx0cyBpbi4NCiAgICogQHJldHVybiB7YXJyYXl9IFRoZSByZXN1bHQgYXJyYXksIGlmIGl0IHdhcyBwYXNzZWQgaW4uIE1pbmltdW0gd2lsbCBiZSBhdCBwb3NpdGlvbiAwIGFuZCBtYXggYXQgMS4NCiAgICovCgoKICBnZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCByZXN1bHQgPSBbXSkgewogICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhCiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOyAvLyBTZXQgZmlyc3QgdmFsdWUKCiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTsKCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPD0gaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykgewogICAgICAgIGNvbnN0IGhlaWdodCA9IGRhdGFbaV1bal07CgogICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHsKICAgICAgICAgIG1heCA9IGhlaWdodDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlOwogICAgcmVzdWx0WzFdID0gbWF4OwogIH0KICAvKioNCiAgICogR2V0IHRoZSBpbmRleCBvZiBhIGxvY2FsIHBvc2l0aW9uIG9uIHRoZSBoZWlnaHRmaWVsZC4gVGhlIGluZGV4ZXMgaW5kaWNhdGUgdGhlIHJlY3RhbmdsZXMsIHNvIGlmIHlvdXIgdGVycmFpbiBpcyBtYWRlIG9mIE4geCBOIGhlaWdodCBkYXRhIHBvaW50cywgeW91IHdpbGwgaGF2ZSByZWN0YW5nbGUgaW5kZXhlcyByYW5naW5nIGZyb20gMCB0byBOLTEuDQogICAqIEBtZXRob2QgZ2V0SW5kZXhPZlBvc2l0aW9uDQogICAqIEBwYXJhbSAge251bWJlcn0geA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkNCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBUd28tZWxlbWVudCBhcnJheQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuDQogICAqIEByZXR1cm4ge2Jvb2xlYW59DQogICAqLwoKCiAgZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIHJlc3VsdCwgY2xhbXApIHsKICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAogICAgY29uc3QgdyA9IHRoaXMuZWxlbWVudFNpemU7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgbGV0IHhpID0gTWF0aC5mbG9vcih4IC8gdyk7CiAgICBsZXQgeWkgPSBNYXRoLmZsb29yKHkgLyB3KTsKICAgIHJlc3VsdFswXSA9IHhpOwogICAgcmVzdWx0WzFdID0geWk7CgogICAgaWYgKGNsYW1wKSB7CiAgICAgIC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCiAgICAgIGlmICh4aSA8IDApIHsKICAgICAgICB4aSA9IDA7CiAgICAgIH0KCiAgICAgIGlmICh5aSA8IDApIHsKICAgICAgICB5aSA9IDA7CiAgICAgIH0KCiAgICAgIGlmICh4aSA+PSBkYXRhLmxlbmd0aCAtIDEpIHsKICAgICAgICB4aSA9IGRhdGEubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkgewogICAgICAgIHlpID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgICB9CiAgICB9IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCgogICAgaWYgKHhpIDwgMCB8fCB5aSA8IDAgfHwgeGkgPj0gZGF0YS5sZW5ndGggLSAxIHx8IHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBnZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYykgewogICAgY29uc3QgaWR4ID0gZ2V0SGVpZ2h0QXRfaWR4OwogICAgdGhpcy5nZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgaWR4LCBlZGdlQ2xhbXApOwogICAgbGV0IHhpID0gaWR4WzBdOwogICAgbGV0IHlpID0gaWR4WzFdOwogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKCiAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpOwogICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTsKICAgIH0KCiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICBjb25zdCBsb3dlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtIHhpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtIHlpKSAqKiAyOwogICAgY29uc3QgdXBwZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSAoeGkgKyAxKSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSAoeWkgKyAxKSkgKiogMjsKICAgIGNvbnN0IHVwcGVyID0gbG93ZXJEaXN0MiA+IHVwcGVyRGlzdDI7CiAgICB0aGlzLmdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpOwogICAgcmV0dXJuIHVwcGVyOwogIH0KCiAgZ2V0Tm9ybWFsQXQoeCwgeSwgZWRnZUNsYW1wLCByZXN1bHQpIHsKICAgIGNvbnN0IGEgPSBnZXROb3JtYWxBdF9hOwogICAgY29uc3QgYiA9IGdldE5vcm1hbEF0X2I7CiAgICBjb25zdCBjID0gZ2V0Tm9ybWFsQXRfYzsKICAgIGNvbnN0IGUwID0gZ2V0Tm9ybWFsQXRfZTA7CiAgICBjb25zdCBlMSA9IGdldE5vcm1hbEF0X2UxOwogICAgdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICBiLnZzdWIoYSwgZTApOwogICAgYy52c3ViKGEsIGUxKTsKICAgIGUwLmNyb3NzKGUxLCByZXN1bHQpOwogICAgcmVzdWx0Lm5vcm1hbGl6ZSgpOwogIH0KICAvKioNCiAgICogR2V0IGFuIEFBQkIgb2YgYSBzcXVhcmUgaW4gdGhlIGhlaWdodGZpZWxkDQogICAqIEBwYXJhbSAge251bWJlcn0geGkNCiAgICogQHBhcmFtICB7bnVtYmVyfSB5aQ0KICAgKiBAcGFyYW0gIHtBQUJCfSByZXN1bHQNCiAgICovCgoKICBnZXRBYWJiQXRJbmRleCh4aSwgeWksIHsKICAgIGxvd2VyQm91bmQsCiAgICB1cHBlckJvdW5kCiAgfSkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgIGxvd2VyQm91bmQuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7CiAgICB1cHBlckJvdW5kLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvbg0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHgNCiAgICogQHBhcmFtICB7bnVtYmVyfSB5DQogICAqIEBwYXJhbSAge2Jvb2xlYW59IGVkZ2VDbGFtcA0KICAgKiBAcmV0dXJuIHtudW1iZXJ9DQogICAqLwoKCiAgZ2V0SGVpZ2h0QXQoeCwgeSwgZWRnZUNsYW1wKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgYSA9IGdldEhlaWdodEF0X2E7CiAgICBjb25zdCBiID0gZ2V0SGVpZ2h0QXRfYjsKICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jOwogICAgY29uc3QgaWR4ID0gZ2V0SGVpZ2h0QXRfaWR4OwogICAgdGhpcy5nZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgaWR4LCBlZGdlQ2xhbXApOwogICAgbGV0IHhpID0gaWR4WzBdOwogICAgbGV0IHlpID0gaWR4WzFdOwoKICAgIGlmIChlZGdlQ2xhbXApIHsKICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgIHlpID0gTWF0aC5taW4oZGF0YVswXS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB5aSkpOwogICAgfQoKICAgIGNvbnN0IHVwcGVyID0gdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyk7CiAgICBjb25zdCB3ID0gZ2V0SGVpZ2h0QXRfd2VpZ2h0czsKCiAgICBpZiAodXBwZXIpIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIHJldHVybiBkYXRhW3hpICsgMV1beWkgKyAxXSAqIHcueCArIGRhdGFbeGldW3lpICsgMV0gKiB3LnkgKyBkYXRhW3hpICsgMV1beWldICogdy56OwogICAgfSBlbHNlIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIHJldHVybiBkYXRhW3hpXVt5aV0gKiB3LnggKyBkYXRhW3hpICsgMV1beWldICogdy55ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcuejsKICAgIH0KICB9CgogIGdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICByZXR1cm4geGkgKyAiXyIgKyB5aSArICJfIiArIChnZXRVcHBlclRyaWFuZ2xlID8gMSA6IDApOwogIH0KCiAgZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgfQoKICBzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIGNvbnZleCwgb2Zmc2V0KSB7CiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXSA9IHsKICAgICAgY29udmV4LAogICAgICBvZmZzZXQKICAgIH07CiAgfQoKICBjbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgZGVsZXRlIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldOwogIH0KICAvKioNCiAgICogR2V0IGEgdHJpYW5nbGUgZnJvbSB0aGUgaGVpZ2h0ZmllbGQNCiAgICogQHBhcmFtICB7bnVtYmVyfSB4aQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IHVwcGVyDQogICAqIEBwYXJhbSAge1ZlYzN9IGENCiAgICogQHBhcmFtICB7VmVjM30gYg0KICAgKiBAcGFyYW0gIHtWZWMzfSBjDQogICAqLwoKCiAgZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYykgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKCiAgICBpZiAodXBwZXIpIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGEuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICAgICAgYi5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSk7CiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgfSBlbHNlIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7CiAgICAgIGIuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgICBjLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhIHRyaWFuZ2xlIGluIHRoZSB0ZXJyYWluIGluIHRoZSBmb3JtIG9mIGEgdHJpYW5ndWxhciBjb252ZXggc2hhcGUuDQogICAqIEBtZXRob2QgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXINCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaQ0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBqDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IGdldFVwcGVyVHJpYW5nbGUNCiAgICovCgoKICBnZXRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDsKICAgIGxldCBvZmZzZXRSZXN1bHQgPSB0aGlzLnBpbGxhck9mZnNldDsKCiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdGhpcy5waWxsYXJDb252ZXggPSBkYXRhLmNvbnZleDsKICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IGRhdGEub2Zmc2V0OwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAgICAgb2Zmc2V0UmVzdWx0ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5waWxsYXJDb252ZXggPSByZXN1bHQ7CiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0OwogICAgfQoKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICBjb25zdCBmYWNlcyA9IHJlc3VsdC5mYWNlczsgLy8gUmV1c2UgdmVydHMgaWYgcG9zc2libGUKCiAgICByZXN1bHQudmVydGljZXMubGVuZ3RoID0gNjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICBpZiAoIXJlc3VsdC52ZXJ0aWNlc1tpXSkgewogICAgICAgIHJlc3VsdC52ZXJ0aWNlc1tpXSA9IG5ldyBWZWMzKCk7CiAgICAgIH0KICAgIH0gLy8gUmV1c2UgZmFjZXMgaWYgcG9zc2libGUKCgogICAgZmFjZXMubGVuZ3RoID0gNTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICBpZiAoIWZhY2VzW2ldKSB7CiAgICAgICAgZmFjZXNbaV0gPSBbXTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzOwogICAgY29uc3QgaCA9IChNYXRoLm1pbihkYXRhW3hpXVt5aV0sIGRhdGFbeGkgKyAxXVt5aV0sIGRhdGFbeGldW3lpICsgMV0sIGRhdGFbeGkgKyAxXVt5aSArIDFdKSAtIHRoaXMubWluVmFsdWUpIC8gMiArIHRoaXMubWluVmFsdWU7CgogICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZQogICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuMjUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXIKICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7CiAgICAgIHZlcnRzWzFdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsKICAgICAgdmVydHNbMl0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHMKCiAgICAgIHZlcnRzWzNdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyB0b3AgdHJpYW5nbGUKCiAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgZmFjZXNbMF1bMV0gPSAxOwogICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZQoKICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICBmYWNlc1sxXVsxXSA9IDQ7CiAgICAgIGZhY2VzWzFdWzJdID0gMzsgLy8gLXggZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzJdWzBdID0gMDsKICAgICAgZmFjZXNbMl1bMV0gPSAyOwogICAgICBmYWNlc1syXVsyXSA9IDU7CiAgICAgIGZhY2VzWzJdWzNdID0gMzsgLy8gLXkgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzNdWzBdID0gMTsKICAgICAgZmFjZXNbM11bMV0gPSAwOwogICAgICBmYWNlc1szXVsyXSA9IDM7CiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1s0XVswXSA9IDQ7CiAgICAgIGZhY2VzWzRdWzFdID0gNTsKICAgICAgZmFjZXNbNF1bMl0gPSAyOwogICAgICBmYWNlc1s0XVszXSA9IDE7CiAgICB9IGVsc2UgewogICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgb2Zmc2V0UmVzdWx0LnNldCgoeGkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCAvLyBzb3J0IG9mIGNlbnRlciBvZiBhIHRyaWFuZ2xlCiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyCiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpOwogICAgICB2ZXJ0c1sxXS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7CiAgICAgIHZlcnRzWzJdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1szXS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzRdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzVdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIFRvcCB0cmlhbmdsZQoKICAgICAgZmFjZXNbMF1bMF0gPSAwOwogICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlCgogICAgICBmYWNlc1sxXVswXSA9IDU7CiAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAreCBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbMl1bMF0gPSAyOwogICAgICBmYWNlc1syXVsxXSA9IDU7CiAgICAgIGZhY2VzWzJdWzJdID0gMzsKICAgICAgZmFjZXNbMl1bM10gPSAwOyAvLyAreSBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbM11bMF0gPSAzOwogICAgICBmYWNlc1szXVsxXSA9IDQ7CiAgICAgIGZhY2VzWzNdWzJdID0gMTsKICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzRdWzBdID0gMTsKICAgICAgZmFjZXNbNF1bMV0gPSA0OwogICAgICBmYWNlc1s0XVsyXSA9IDU7CiAgICAgIGZhY2VzWzRdWzNdID0gMjsKICAgIH0KCiAgICByZXN1bHQuY29tcHV0ZU5vcm1hbHMoKTsKICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTsKICAgIHJlc3VsdC51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgdGhpcy5zZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIHJlc3VsdCwgb2Zmc2V0UmVzdWx0KTsKICB9CgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiAoLy8gVGhlIHRlcnJhaW4gaXMgaW5maW5pdGUKICAgICAgTnVtYmVyLk1BWF9WQUxVRQogICAgKTsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvLyBUT0RPOiBkbyBpdCBwcm9wZXJseQogICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTsKICAgIG1heC5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIC8vIFVzZSB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBtaW4vbWF4IHZhbHVlcwogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IHMgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IG5ldyBWZWMzKGRhdGEubGVuZ3RoICogcywgZGF0YVswXS5sZW5ndGggKiBzLCBNYXRoLm1heChNYXRoLmFicyh0aGlzLm1heFZhbHVlKSwgTWF0aC5hYnModGhpcy5taW5WYWx1ZSkpKS5sZW5ndGgoKTsKICB9CiAgLyoqDQogICAqIFNldHMgdGhlIGhlaWdodCB2YWx1ZXMgZnJvbSBhbiBpbWFnZS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIuDQogICAqIEBtZXRob2Qgc2V0SGVpZ2h0c0Zyb21JbWFnZQ0KICAgKiBAcGFyYW0ge0ltYWdlfSBpbWFnZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlDQogICAqLwoKCiAgc2V0SGVpZ2h0c0Zyb21JbWFnZShpbWFnZSwgc2NhbGUpIHsKICAgIGNvbnN0IHsKICAgICAgeCwKICAgICAgeiwKICAgICAgeQogICAgfSA9IHNjYWxlOwogICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDsKICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7CiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTsKICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZGF0YTsKICAgIG1hdHJpeC5sZW5ndGggPSAwOwogICAgdGhpcy5lbGVtZW50U2l6ZSA9IE1hdGguYWJzKHgpIC8gaW1hZ2VEYXRhLndpZHRoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmhlaWdodDsgaSsrKSB7CiAgICAgIGNvbnN0IHJvdyA9IFtdOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbWFnZURhdGEud2lkdGg7IGorKykgewogICAgICAgIGNvbnN0IGEgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDRdOwogICAgICAgIGNvbnN0IGIgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAxXTsKICAgICAgICBjb25zdCBjID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMl07CiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGEgKyBiICsgYykgLyA0IC8gMjU1ICogejsKCiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByb3cucHVzaChoZWlnaHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3cudW5zaGlmdChoZWlnaHQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHkgPCAwKSB7CiAgICAgICAgbWF0cml4LnVuc2hpZnQocm93KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYXRyaXgucHVzaChyb3cpOwogICAgICB9CiAgICB9CgogICAgdGhpcy51cGRhdGVNYXhWYWx1ZSgpOwogICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpOwogICAgdGhpcy51cGRhdGUoKTsKICB9Cgp9Cgpjb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTsKY29uc3QgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldEhlaWdodEF0X2EgPSBuZXcgVmVjMygpOwpjb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0SGVpZ2h0QXRfYyA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2EgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfYyA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2UwID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtCgpmdW5jdGlvbiBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcmVzdWx0KSB7CiAgcmVzdWx0LnggPSAoKGJ5IC0gY3kpICogKHggLSBjeCkgKyAoY3ggLSBieCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTsKICByZXN1bHQueSA9ICgoY3kgLSBheSkgKiAoeCAtIGN4KSArIChheCAtIGN4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpOwogIHJlc3VsdC56ID0gMSAtIHJlc3VsdC54IC0gcmVzdWx0Lnk7Cn0KLyoqDQogKiBAY2xhc3MgT2N0cmVlTm9kZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge09jdHJlZX0gW29wdGlvbnMucm9vdF0NCiAqIEBwYXJhbSB7QUFCQn0gW29wdGlvbnMuYWFiYl0NCiAqLwoKCmNsYXNzIE9jdHJlZU5vZGUgewogIC8vIFRoZSByb290IG5vZGUKICAvLyBCb3VuZGFyeSBvZiB0aGlzIG5vZGUKICAvLyBDb250YWluZWQgZGF0YSBhdCB0aGUgY3VycmVudCBub2RlIGxldmVsCiAgLy8gQ2hpbGRyZW4gdG8gdGhpcyBub2RlCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDsKICAgIHRoaXMuYWFiYiA9IG9wdGlvbnMuYWFiYiA/IG9wdGlvbnMuYWFiYi5jbG9uZSgpIDogbmV3IEFBQkIoKTsKICAgIHRoaXMuZGF0YSA9IFtdOwogICAgdGhpcy5jaGlsZHJlbiA9IFtdOwogIH0KCiAgcmVzZXQoKSB7CiAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGggPSAwOwogIH0KICAvKioNCiAgICogSW5zZXJ0IGRhdGEgaW50byB0aGlzIG5vZGUNCiAgICogQG1ldGhvZCBpbnNlcnQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0gIHtvYmplY3R9IGVsZW1lbnREYXRhDQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIGZhbHNlDQogICAqLwoKCiAgaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCA9IDApIHsKICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBJZ25vcmUgb2JqZWN0cyB0aGF0IGRvIG5vdCBiZWxvbmcgaW4gdGhpcyBub2RlCgogICAgaWYgKCF0aGlzLmFhYmIuY29udGFpbnMoYWFiYikpIHsKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvYmplY3QgY2Fubm90IGJlIGFkZGVkCiAgICB9CgogICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOwogICAgY29uc3QgbWF4RGVwdGggPSB0aGlzLm1heERlcHRoIHx8IHRoaXMucm9vdC5tYXhEZXB0aDsKCiAgICBpZiAobGV2ZWwgPCBtYXhEZXB0aCkgewogICAgICAvLyBTdWJkaXZpZGUgaWYgdGhlcmUgYXJlIG5vIGNoaWxkcmVuIHlldAogICAgICBsZXQgc3ViZGl2aWRlZCA9IGZhbHNlOwoKICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLnN1YmRpdmlkZSgpOwogICAgICAgIHN1YmRpdmlkZWQgPSB0cnVlOwogICAgICB9IC8vIGFkZCB0byB3aGljaGV2ZXIgbm9kZSB3aWxsIGFjY2VwdCBpdAoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgICBpZiAoY2hpbGRyZW5baV0uaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCArIDEpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzdWJkaXZpZGVkKSB7CiAgICAgICAgLy8gTm8gY2hpbGRyZW4gYWNjZXB0ZWQhIE1pZ2h0IGFzIHdlbGwganVzdCByZW1vdmUgZW0gc2luY2UgdGhleSBjb250YWluIG5vbmUKICAgICAgICBjaGlsZHJlbi5sZW5ndGggPSAwOwogICAgICB9CiAgICB9IC8vIFRvbyBkZWVwLCBvciBjaGlsZHJlbiBkaWRudCB3YW50IGl0LiBhZGQgaXQgaW4gY3VycmVudCBub2RlCgoKICAgIG5vZGVEYXRhLnB1c2goZWxlbWVudERhdGEpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKg0KICAgKiBDcmVhdGUgOCBlcXVhbGx5IHNpemVkIGNoaWxkcmVuIG5vZGVzIGFuZCBwdXQgdGhlbSBpbiB0aGUgLmNoaWxkcmVuIGFycmF5Lg0KICAgKiBAbWV0aG9kIHN1YmRpdmlkZQ0KICAgKi8KCgogIHN1YmRpdmlkZSgpIHsKICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICBjb25zdCBsID0gYWFiYi5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDsKICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgIGNoaWxkcmVuLnB1c2gobmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMCkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAwLCAwKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDApCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMSkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAxLCAxKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMSkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAxLCAwKQogICAgICB9KQogICAgfSkpOwogICAgdS52c3ViKGwsIGhhbGZEaWFnb25hbCk7CiAgICBoYWxmRGlhZ29uYWwuc2NhbGUoMC41LCBoYWxmRGlhZ29uYWwpOwogICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdCB8fCB0aGlzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTsgLy8gU2V0IGN1cnJlbnQgbm9kZSBhcyByb290CgogICAgICBjaGlsZC5yb290ID0gcm9vdDsgLy8gQ29tcHV0ZSBib3VuZHMKCiAgICAgIGNvbnN0IGxvd2VyQm91bmQgPSBjaGlsZC5hYWJiLmxvd2VyQm91bmQ7CiAgICAgIGxvd2VyQm91bmQueCAqPSBoYWxmRGlhZ29uYWwueDsKICAgICAgbG93ZXJCb3VuZC55ICo9IGhhbGZEaWFnb25hbC55OwogICAgICBsb3dlckJvdW5kLnogKj0gaGFsZkRpYWdvbmFsLno7CiAgICAgIGxvd2VyQm91bmQudmFkZChsLCBsb3dlckJvdW5kKTsgLy8gVXBwZXIgYm91bmQgaXMgYWx3YXlzIGxvd2VyIGJvdW5kICsgaGFsZkRpYWdvbmFsCgogICAgICBsb3dlckJvdW5kLnZhZGQoaGFsZkRpYWdvbmFsLCBjaGlsZC5hYWJiLnVwcGVyQm91bmQpOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSB3aXRoaW4gYW4gQUFCQg0KICAgKiBAbWV0aG9kIGFhYmJRdWVyeQ0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQNCiAgICogQHJldHVybiB7YXJyYXl9IFRoZSAicmVzdWx0IiBvYmplY3QNCiAgICovCgoKICBhYWJiUXVlcnkoYWFiYiwgcmVzdWx0KSB7CiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gYWJvcnQgaWYgdGhlIHJhbmdlIGRvZXMgbm90IGludGVyc2VjdCB0aGlzIG5vZGUKICAgIC8vIGlmICghdGhpcy5hYWJiLm92ZXJsYXBzKGFhYmIpKXsKICAgIC8vICAgICByZXR1cm4gcmVzdWx0OwogICAgLy8gfQogICAgLy8gQWRkIG9iamVjdHMgYXQgdGhpcyBsZXZlbAogICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlRGF0YSk7CiAgICAvLyBBZGQgY2hpbGQgZGF0YQogICAgLy8gQHRvZG8gdW53cmFwIHJlY3Vyc2lvbiBpbnRvIGEgcXVldWUgLyBsb29wLCB0aGF0J3MgZmFzdGVyIGluIEpTCgogICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOyAvLyBmb3IgKGxldCBpID0gMCwgTiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgIC8vICAgICBjaGlsZHJlbltpXS5hYWJiUXVlcnkoYWFiYiwgcmVzdWx0KTsKICAgIC8vIH0KCiAgICBjb25zdCBxdWV1ZSA9IFt0aGlzXTsKCiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7CiAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5wb3AoKTsKCiAgICAgIGlmIChub2RlLmFhYmIub3ZlcmxhcHMoYWFiYikpIHsKICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGUuZGF0YSk7CiAgICAgIH0KCiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHF1ZXVlLCBub2RlLmNoaWxkcmVuKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSBpbnRlcnNlY3RlZCBieSBhIHJheS4NCiAgICogQG1ldGhvZCByYXlRdWVyeQ0KICAgKiBAcGFyYW0gIHtSYXl9IHJheQ0KICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IHRyZWVUcmFuc2Zvcm0NCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdA0KICAgKi8KCgogIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7CiAgICAvLyBVc2UgYWFiYiBxdWVyeSBmb3Igbm93LgogICAgLy8gQHRvZG8gaW1wbGVtZW50IHJlYWwgcmF5IHF1ZXJ5IHdoaWNoIG5lZWRzIGxlc3MgbG9va3VwcwogICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTsKICAgIHRtcEFBQkIkMS50b0xvY2FsRnJhbWUodHJlZVRyYW5zZm9ybSwgdG1wQUFCQiQxKTsKICAgIHRoaXMuYWFiYlF1ZXJ5KHRtcEFBQkIkMSwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHJlbW92ZUVtcHR5Tm9kZXMNCiAgICovCgoKICByZW1vdmVFbXB0eU5vZGVzKCkgewogICAgZm9yIChsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVFbXB0eU5vZGVzKCk7CgogICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoICYmICF0aGlzLmNoaWxkcmVuW2ldLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7CiAgICAgIH0KICAgIH0KICB9Cgp9Ci8qKg0KICogQGNsYXNzIE9jdHJlZQ0KICogQHBhcmFtIHtBQUJCfSBhYWJiIFRoZSB0b3RhbCBBQUJCIG9mIHRoZSB0cmVlDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RGVwdGg9OF0gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aA0KICogQGV4dGVuZHMgT2N0cmVlTm9kZQ0KICovCgoKY2xhc3MgT2N0cmVlIGV4dGVuZHMgT2N0cmVlTm9kZSB7CiAgLy8gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aAogIGNvbnN0cnVjdG9yKGFhYmIsIG9wdGlvbnMgPSB7fSkgewogICAgc3VwZXIoewogICAgICByb290OiBudWxsLAogICAgICBhYWJiCiAgICB9KTsKICAgIHRoaXMubWF4RGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5tYXhEZXB0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heERlcHRoIDogODsKICB9Cgp9Cgpjb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBBQUJCJDEgPSBuZXcgQUFCQigpOwovKioNCiAqIEBjbGFzcyBUcmltZXNoDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7YXJyYXl9IHZlcnRpY2VzDQogKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQGV4YW1wbGUNCiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZQ0KICogICAgIGNvbnN0IHZlcnRpY2VzID0gWw0KICogICAgICAgICAwLCAwLCAwLCAvLyB2ZXJ0ZXggMA0KICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMQ0KICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMg0KICogICAgIF07DQogKiAgICAgY29uc3QgaW5kaWNlcyA9IFsNCiAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMA0KICogICAgIF07DQogKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpOw0KICovCgpjbGFzcyBUcmltZXNoIGV4dGVuZHMgU2hhcGUgewogIC8vIEFycmF5IG9mIGludGVnZXJzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggdHJpYW5nbGUgY29uc2lzdHMgb2YuIFRoZSBsZW5ndGggb2YgdGhpcyBhcnJheSBpcyB0aHVzIDMgdGltZXMgdGhlIG51bWJlciBvZiB0cmlhbmdsZXMuCiAgLy8gVGhlIG5vcm1hbHMgZGF0YS4KICAvLyBUaGUgbG9jYWwgQUFCQiBvZiB0aGUgbWVzaC4KICAvLyBSZWZlcmVuY2VzIHRvIHZlcnRleCBwYWlycywgbWFraW5nIHVwIGFsbCB1bmlxdWUgZWRnZXMgaW4gdGhlIHRyaW1lc2guCiAgLy8gTG9jYWwgc2NhbGluZyBvZiB0aGUgbWVzaC4gVXNlIC5zZXRTY2FsZSgpIHRvIHNldCBpdC4KICAvLyBUaGUgaW5kZXhlZCB0cmlhbmdsZXMuIFVzZSAudXBkYXRlVHJlZSgpIHRvIHVwZGF0ZSBpdC4KICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykgewogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5UUklNRVNICiAgICB9KTsKICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKTsKICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBJbnQxNkFycmF5KGluZGljZXMpOwogICAgdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShpbmRpY2VzLmxlbmd0aCk7CiAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpOwogICAgdGhpcy5lZGdlcyA9IG51bGw7CiAgICB0aGlzLnNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7CiAgICB0aGlzLnRyZWUgPSBuZXcgT2N0cmVlKCk7CiAgICB0aGlzLnVwZGF0ZUVkZ2VzKCk7CiAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTsKICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgdGhpcy51cGRhdGVUcmVlKCk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHVwZGF0ZVRyZWUNCiAgICovCgoKICB1cGRhdGVUcmVlKCkgewogICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZTsKICAgIHRyZWUucmVzZXQoKTsKICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7CiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7IC8vIFRoZSBsb2NhbCBtZXNoIEFBQkIgaXMgc2NhbGVkLCBidXQgdGhlIG9jdHJlZSBBQUJCIHNob3VsZCBiZSB1bnNjYWxlZAoKICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7CiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueiAqPSAxIC8gc2NhbGUuejsKICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7CiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueiAqPSAxIC8gc2NhbGUuejsgLy8gSW5zZXJ0IGFsbCB0cmlhbmdsZXMKCiAgICBjb25zdCB0cmlhbmdsZUFBQkIgPSBuZXcgQUFCQigpOwogICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGMgPSBuZXcgVmVjMygpOwogICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAvL3RoaXMuZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKTsKICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CgogICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDJdLCBjKTsKCiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7CiAgICAgIHRyZWUuaW5zZXJ0KHRyaWFuZ2xlQUFCQiwgaSk7CiAgICB9CgogICAgdHJlZS5yZW1vdmVFbXB0eU5vZGVzKCk7CiAgfQogIC8qKg0KICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLg0KICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlc0luQUFCQg0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy4NCiAgICovCgoKICBnZXRUcmlhbmdsZXNJbkFBQkIoYWFiYiwgcmVzdWx0KSB7CiAgICB1bnNjYWxlZEFBQkIuY29weShhYWJiKTsgLy8gU2NhbGUgaXQgdG8gbG9jYWwKCiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICBjb25zdCBpc3ggPSBzY2FsZS54OwogICAgY29uc3QgaXN5ID0gc2NhbGUueTsKICAgIGNvbnN0IGlzeiA9IHNjYWxlLno7CiAgICBjb25zdCBsID0gdW5zY2FsZWRBQUJCLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdW5zY2FsZWRBQUJCLnVwcGVyQm91bmQ7CiAgICBsLnggLz0gaXN4OwogICAgbC55IC89IGlzeTsKICAgIGwueiAvPSBpc3o7CiAgICB1LnggLz0gaXN4OwogICAgdS55IC89IGlzeTsKICAgIHUueiAvPSBpc3o7CiAgICByZXR1cm4gdGhpcy50cmVlLmFhYmJRdWVyeSh1bnNjYWxlZEFBQkIsIHJlc3VsdCk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldFNjYWxlDQogICAqIEBwYXJhbSB7VmVjM30gc2NhbGUNCiAgICovCgoKICBzZXRTY2FsZShzY2FsZSkgewogICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56OwogICAgY29uc3QgaXNVbmlmb3JtID0gc2NhbGUueCA9PT0gc2NhbGUueSAmJiBzY2FsZS55ID09PSBzY2FsZS56OwoKICAgIGlmICghKHdhc1VuaWZvcm0gJiYgaXNVbmlmb3JtKSkgewogICAgICAvLyBOb24tdW5pZm9ybSBzY2FsaW5nLiBOZWVkIHRvIHVwZGF0ZSBub3JtYWxzLgogICAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTsKICAgIH0KCiAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpOwogICAgdGhpcy51cGRhdGVBQUJCKCk7CiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS4NCiAgICogQG1ldGhvZCB1cGRhdGVOb3JtYWxzDQogICAqLwoKCiAgdXBkYXRlTm9ybWFscygpIHsKICAgIGNvbnN0IG4gPSBjb21wdXRlTm9ybWFsc19uOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgY29uc3Qgbm9ybWFscyA9IHRoaXMubm9ybWFsczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107CiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTsKICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICB0aGlzLmdldFZlcnRleChhLCB2YSk7CiAgICAgIHRoaXMuZ2V0VmVydGV4KGIsIHZiKTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpOwogICAgICBUcmltZXNoLmNvbXB1dGVOb3JtYWwodmIsIHZhLCB2Yywgbik7CiAgICAgIG5vcm1hbHNbaTNdID0gbi54OwogICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7CiAgICAgIG5vcm1hbHNbaTMgKyAyXSA9IG4uejsKICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgLmVkZ2VzIHByb3BlcnR5DQogICAqIEBtZXRob2QgdXBkYXRlRWRnZXMNCiAgICovCgoKICB1cGRhdGVFZGdlcygpIHsKICAgIGNvbnN0IGVkZ2VzID0ge307CgogICAgY29uc3QgYWRkID0gKGEsIGIpID0+IHsKICAgICAgY29uc3Qga2V5ID0gYSA8IGIgPyBhICsgIl8iICsgYiA6IGIgKyAiXyIgKyBhOwogICAgICBlZGdlc1trZXldID0gdHJ1ZTsKICAgIH07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdOwogICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTsKICAgICAgYWRkKGEsIGIpOwogICAgICBhZGQoYiwgYyk7CiAgICAgIGFkZChjLCBhKTsKICAgIH0KCiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZWRnZXMpOwogICAgdGhpcy5lZGdlcyA9IG5ldyBJbnQxNkFycmF5KGtleXMubGVuZ3RoICogMik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGluZGljZXMgPSBrZXlzW2ldLnNwbGl0KCdfJyk7CiAgICAgIHRoaXMuZWRnZXNbMiAqIGldID0gcGFyc2VJbnQoaW5kaWNlc1swXSwgMTApOwogICAgICB0aGlzLmVkZ2VzWzIgKiBpICsgMV0gPSBwYXJzZUludChpbmRpY2VzWzFdLCAxMCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWRnZSB2ZXJ0ZXgNCiAgICogQG1ldGhvZCBnZXRFZGdlVmVydGV4DQogICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4DQogICAqIEBwYXJhbSAge251bWJlcn0gZmlyc3RPclNlY29uZCAwIG9yIDEsIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgb2YgdGhlIHZlcnRpY2VzIHlvdSBuZWVkLg0KICAgKiBAcGFyYW0gIHtWZWMzfSB2ZXJ0ZXhTdG9yZSBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0DQogICAqLwoKCiAgZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIGZpcnN0T3JTZWNvbmQsIHZlcnRleFN0b3JlKSB7CiAgICBjb25zdCB2ZXJ0ZXhJbmRleCA9IHRoaXMuZWRnZXNbZWRnZUluZGV4ICogMiArIChmaXJzdE9yU2Vjb25kID8gMSA6IDApXTsKICAgIHRoaXMuZ2V0VmVydGV4KHZlcnRleEluZGV4LCB2ZXJ0ZXhTdG9yZSk7CiAgfQogIC8qKg0KICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS4NCiAgICogQG1ldGhvZCBnZXRFZGdlVmVjdG9yDQogICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4DQogICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlDQogICAqLwoKCiAgZ2V0RWRnZVZlY3RvcihlZGdlSW5kZXgsIHZlY3RvclN0b3JlKSB7CiAgICBjb25zdCB2YSA9IGdldEVkZ2VWZWN0b3JfdmE7CiAgICBjb25zdCB2YiA9IGdldEVkZ2VWZWN0b3JfdmI7CiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAwLCB2YSk7CiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAxLCB2Yik7CiAgICB2Yi52c3ViKHZhLCB2ZWN0b3JTdG9yZSk7CiAgfQogIC8qKg0KICAgKiBHZXQgdmVydGV4IGkuDQogICAqIEBtZXRob2QgZ2V0VmVydGV4DQogICAqIEBwYXJhbSAge251bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQNCiAgICogQHJldHVybiB7VmVjM30gVGhlICJvdXQiIHZlY3RvciBvYmplY3QNCiAgICovCgoKICBnZXRWZXJ0ZXgoaSwgb3V0KSB7CiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7CgogICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KTsKCiAgICBvdXQueCAqPSBzY2FsZS54OwogICAgb3V0LnkgKj0gc2NhbGUueTsKICAgIG91dC56ICo9IHNjYWxlLno7CiAgICByZXR1cm4gb3V0OwogIH0KICAvKioNCiAgICogR2V0IHJhdyB2ZXJ0ZXggaQ0KICAgKiBAcHJpdmF0ZQ0KICAgKiBAbWV0aG9kIF9nZXRVbnNjYWxlZFZlcnRleA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkNCiAgICogQHBhcmFtICB7VmVjM30gb3V0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0DQogICAqLwoKCiAgX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCkgewogICAgY29uc3QgaTMgPSBpICogMzsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIHJldHVybiBvdXQuc2V0KHZlcnRpY2VzW2kzXSwgdmVydGljZXNbaTMgKyAxXSwgdmVydGljZXNbaTMgKyAyXSk7CiAgfQogIC8qKg0KICAgKiBHZXQgYSB2ZXJ0ZXggZnJvbSB0aGUgdHJpbWVzaCx0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHF1YXRlcm5pb24uDQogICAqIEBtZXRob2QgZ2V0V29ybGRWZXJ0ZXgNCiAgICogQHBhcmFtICB7bnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IHBvcw0KICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0DQogICAqIEBwYXJhbSAge1ZlYzN9IG91dA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdA0KICAgKi8KCgogIGdldFdvcmxkVmVydGV4KGksIHBvcywgcXVhdCwgb3V0KSB7CiAgICB0aGlzLmdldFZlcnRleChpLCBvdXQpOwogICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvcywgcXVhdCwgb3V0LCBvdXQpOwogICAgcmV0dXJuIG91dDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgdGhyZWUgdmVydGljZXMgZm9yIHRyaWFuZ2xlIGkuDQogICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVWZXJ0aWNlcw0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkNCiAgICogQHBhcmFtICB7VmVjM30gYQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBiDQogICAqIEBwYXJhbSAge1ZlYzN9IGMNCiAgICovCgoKICBnZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpIHsKICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTsKICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDJdLCBjKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0cmlhbmdsZSBpLg0KICAgKiBAbWV0aG9kIGdldE5vcm1hbA0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGkNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAidGFyZ2V0IiB2ZWN0b3Igb2JqZWN0DQogICAqLwoKCiAgZ2V0Tm9ybWFsKGksIHRhcmdldCkgewogICAgY29uc3QgaTMgPSBpICogMzsKICAgIHJldHVybiB0YXJnZXQuc2V0KHRoaXMubm9ybWFsc1tpM10sIHRoaXMubm9ybWFsc1tpMyArIDFdLCB0aGlzLm5vcm1hbHNbaTMgKyAyXSk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAidGFyZ2V0IiB2ZWN0b3Igb2JqZWN0DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYQogICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0CiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoY2xpX2FhYmIpOwogICAgY29uc3QgeCA9IGNsaV9hYWJiLnVwcGVyQm91bmQueCAtIGNsaV9hYWJiLmxvd2VyQm91bmQueDsKICAgIGNvbnN0IHkgPSBjbGlfYWFiYi51cHBlckJvdW5kLnkgLSBjbGlfYWFiYi5sb3dlckJvdW5kLnk7CiAgICBjb25zdCB6ID0gY2xpX2FhYmIudXBwZXJCb3VuZC56IC0gY2xpX2FhYmIubG93ZXJCb3VuZC56OwogICAgcmV0dXJuIHRhcmdldC5zZXQoMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeCAqIDIgKiB4ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KSk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaA0KICAgKiBAbWV0aG9kIGNvbXB1dGVMb2NhbEFBQkINCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKi8KCgogIGNvbXB1dGVMb2NhbEFBQkIoYWFiYikgewogICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCB2ID0gY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQ7CiAgICB0aGlzLmdldFZlcnRleCgwLCB2KTsKICAgIGwuY29weSh2KTsKICAgIHUuY29weSh2KTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpOwoKICAgICAgaWYgKHYueCA8IGwueCkgewogICAgICAgIGwueCA9IHYueDsKICAgICAgfSBlbHNlIGlmICh2LnggPiB1LngpIHsKICAgICAgICB1LnggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmICh2LnkgPCBsLnkpIHsKICAgICAgICBsLnkgPSB2Lnk7CiAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7CiAgICAgICAgdS55ID0gdi55OwogICAgICB9CgogICAgICBpZiAodi56IDwgbC56KSB7CiAgICAgICAgbC56ID0gdi56OwogICAgICB9IGVsc2UgaWYgKHYueiA+IHUueikgewogICAgICAgIHUueiA9IHYuejsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlIHRoZSAuYWFiYiBwcm9wZXJ0eQ0KICAgKiBAbWV0aG9kIHVwZGF0ZUFBQkINCiAgICovCgoKICB1cGRhdGVBQUJCKCkgewogICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7CiAgfQogIC8qKg0KICAgKiBXaWxsIHVwZGF0ZSB0aGUgLmJvdW5kaW5nU3BoZXJlUmFkaXVzIHByb3BlcnR5DQogICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMNCiAgICovCgoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXIKICAgIGxldCBtYXgyID0gMDsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gdmVydGljZXMubGVuZ3RoIC8gMzsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpOwogICAgICBjb25zdCBub3JtMiA9IHYubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgIG1heDIgPSBub3JtMjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQg0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3MNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdA0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW4NCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4DQogICAqLwoKCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIC8qDQogICAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDMsDQogICAgICAgICAgICB2ZXJ0cyA9IHRoaXMudmVydGljZXM7DQogICAgICAgIGNvbnN0IG1pbngsbWlueSxtaW56LG1heHgsbWF4eSxtYXh6Ow0KICAgICAgICAgIGNvbnN0IHYgPSB0ZW1wV29ybGRWZXJ0ZXg7DQogICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7DQogICAgICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsNCiAgICAgICAgICAgIHF1YXQudm11bHQodiwgdik7DQogICAgICAgICAgICBwb3MudmFkZCh2LCB2KTsNCiAgICAgICAgICAgIGlmICh2LnggPCBtaW54IHx8IG1pbng9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1pbnggPSB2Lng7DQogICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtYXh4ID0gdi54Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZiAodi55IDwgbWlueSB8fCBtaW55PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtaW55ID0gdi55Ow0KICAgICAgICAgICAgfSBlbHNlIGlmKHYueSA+IG1heHkgfHwgbWF4eT09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWF4eSA9IHYueTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgaWYgKHYueiA8IG1pbnogfHwgbWluej09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWlueiA9IHYuejsNCiAgICAgICAgICAgIH0gZWxzZSBpZih2LnogPiBtYXh6IHx8IG1heHo9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1heHogPSB2Lno7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbWluLnNldChtaW54LG1pbnksbWlueik7DQogICAgICAgIG1heC5zZXQobWF4eCxtYXh5LG1heHopOw0KICAgICAgICAqLwogICAgLy8gRmFzdGVyIGFwcHJveGltYXRpb24gdXNpbmcgbG9jYWwgQUFCQgogICAgY29uc3QgZnJhbWUgPSBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWU7CiAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYjsKICAgIGZyYW1lLnBvc2l0aW9uID0gcG9zOwogICAgZnJhbWUucXVhdGVybmlvbiA9IHF1YXQ7CiAgICB0aGlzLmFhYmIudG9Xb3JsZEZyYW1lKGZyYW1lLCByZXN1bHQpOwogICAgbWluLmNvcHkocmVzdWx0Lmxvd2VyQm91bmQpOwogICAgbWF4LmNvcHkocmVzdWx0LnVwcGVyQm91bmQpOwogIH0KICAvKioNCiAgICogR2V0IGFwcHJveGltYXRlIHZvbHVtZQ0KICAgKiBAbWV0aG9kIHZvbHVtZQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgdm9sdW1lKCkgewogICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wOwogIH0KCn0KCmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpOwpjb25zdCB1bnNjYWxlZEFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBnZXRFZGdlVmVjdG9yX3ZhID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXMNCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbA0KICogQHBhcmFtIHtWZWMzfSB2YQ0KICogQHBhcmFtIHtWZWMzfSB2Yg0KICogQHBhcmFtIHtWZWMzfSB2Yw0KICogQHBhcmFtIHtWZWMzfSB0YXJnZXQNCiAqLwoKY29uc3QgY2IgPSBuZXcgVmVjMygpOwpjb25zdCBhYiA9IG5ldyBWZWMzKCk7CgpUcmltZXNoLmNvbXB1dGVOb3JtYWwgPSAodmEsIHZiLCB2YywgdGFyZ2V0KSA9PiB7CiAgdmIudnN1Yih2YSwgYWIpOwogIHZjLnZzdWIodmIsIGNiKTsKICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTsKCiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgIHRhcmdldC5ub3JtYWxpemUoKTsKICB9Cn07Cgpjb25zdCB2YSA9IG5ldyBWZWMzKCk7CmNvbnN0IHZiID0gbmV3IFZlYzMoKTsKY29uc3QgdmMgPSBuZXcgVmVjMygpOwpjb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7CmNvbnN0IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0ID0gbmV3IFZlYzMoKTsKY29uc3QgY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lID0gbmV3IFRyYW5zZm9ybSgpOwpjb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7Ci8qKg0KICogQ3JlYXRlIGEgVHJpbWVzaCBpbnN0YW5jZSwgc2hhcGVkIGFzIGEgdG9ydXMuDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGNyZWF0ZVRvcnVzDQogKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpdXM9MV0NCiAqIEBwYXJhbSAge251bWJlcn0gW3R1YmU9MC41XQ0KICogQHBhcmFtICB7bnVtYmVyfSBbcmFkaWFsU2VnbWVudHM9OF0NCiAqIEBwYXJhbSAge251bWJlcn0gW3R1YnVsYXJTZWdtZW50cz02XQ0KICogQHBhcmFtICB7bnVtYmVyfSBbYXJjPTYuMjgzMTg1MzA3MTc5NTg2XQ0KICogQHJldHVybiB7VHJpbWVzaH0gQSB0b3J1cw0KICovCgpUcmltZXNoLmNyZWF0ZVRvcnVzID0gKHJhZGl1cyA9IDEsIHR1YmUgPSAwLjUsIHJhZGlhbFNlZ21lbnRzID0gOCwgdHVidWxhclNlZ21lbnRzID0gNiwgYXJjID0gTWF0aC5QSSAqIDIpID0+IHsKICBjb25zdCB2ZXJ0aWNlcyA9IFtdOwogIGNvbnN0IGluZGljZXMgPSBbXTsKCiAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHsKICAgICAgY29uc3QgdSA9IGkgLyB0dWJ1bGFyU2VnbWVudHMgKiBhcmM7CiAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjsKICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7CiAgICAgIGNvbnN0IHkgPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguc2luKHUpOwogICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpOwogICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopOwogICAgfQogIH0KCiAgZm9yIChsZXQgaiA9IDE7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHsKICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTsKICAgICAgY29uc3QgYiA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpIC0gMTsKICAgICAgY29uc3QgYyA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpOwogICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7CiAgICAgIGluZGljZXMucHVzaChhLCBiLCBkKTsKICAgICAgaW5kaWNlcy5wdXNoKGIsIGMsIGQpOwogICAgfQogIH0KCiAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTsKfTsKLyoqDQogKiBDb25zdHJhaW50IGVxdWF0aW9uIHNvbHZlciBiYXNlIGNsYXNzLg0KICogQGNsYXNzIFNvbHZlcg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKi8KCgpjbGFzcyBTb2x2ZXIgewogIC8vIEFsbCBlcXVhdGlvbnMgdG8gYmUgc29sdmVkCiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogIH0KICAvKioNCiAgICogU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzZXMhDQogICAqIEBtZXRob2Qgc29sdmUNCiAgICogQHBhcmFtICB7TnVtYmVyfSBkdA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQNCiAgICovCgoKICBzb2x2ZShkdCwgd29ybGQpIHsKICAgIHJldHVybiAoLy8gU2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgZG9uZSEKICAgICAgMAogICAgKTsKICB9CiAgLyoqDQogICAqIEFkZCBhbiBlcXVhdGlvbg0KICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uDQogICAqIEBwYXJhbSB7RXF1YXRpb259IGVxDQogICAqLwoKCiAgYWRkRXF1YXRpb24oZXEpIHsKICAgIGlmIChlcS5lbmFibGVkKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOwogICAgfQogIH0KICAvKioNCiAgICogUmVtb3ZlIGFuIGVxdWF0aW9uDQogICAqIEBtZXRob2QgcmVtb3ZlRXF1YXRpb24NCiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXENCiAgICovCgoKICByZW1vdmVFcXVhdGlvbihlcSkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CiAgICBjb25zdCBpID0gZXFzLmluZGV4T2YoZXEpOwoKICAgIGlmIChpICE9PSAtMSkgewogICAgICBlcXMuc3BsaWNlKGksIDEpOwogICAgfQogIH0KICAvKioNCiAgICogQWRkIGFsbCBlcXVhdGlvbnMNCiAgICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnMNCiAgICovCgoKICByZW1vdmVBbGxFcXVhdGlvbnMoKSB7CiAgICB0aGlzLmVxdWF0aW9ucy5sZW5ndGggPSAwOwogIH0KCn0KLyoqDQogKiBDb25zdHJhaW50IGVxdWF0aW9uIEdhdXNzLVNlaWRlbCBzb2x2ZXIuDQogKiBAY2xhc3MgR1NTb2x2ZXINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHRvZG8gVGhlIHNwb29rIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgZWFjaCBjb25zdHJhaW50LCBub3QgZ2xvYmFsbHkuDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKiBAc2VlIGh0dHBzOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyLzVEVjA1OC9WVDA5L2xlY3R1cmVzL3Nwb29rbm90ZXMucGRmDQogKiBAZXh0ZW5kcyBTb2x2ZXINCiAqLwoKCmNsYXNzIEdTU29sdmVyIGV4dGVuZHMgU29sdmVyIHsKICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLgogIC8vIFdoZW4gdG9sZXJhbmNlIGlzIHJlYWNoZWQsIHRoZSBzeXN0ZW0gaXMgYXNzdW1lZCB0byBiZSBjb252ZXJnZWQuCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5pdGVyYXRpb25zID0gMTA7CiAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7CiAgfQogIC8qKg0KICAgKiBTb2x2ZQ0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSAge051bWJlcn0gZHQNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkDQogICAqLwoKCiAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICBsZXQgaXRlciA9IDA7CiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zOwogICAgY29uc3QgdG9sU3F1YXJlZCA9IHRoaXMudG9sZXJhbmNlICogdGhpcy50b2xlcmFuY2U7CiAgICBjb25zdCBlcXVhdGlvbnMgPSB0aGlzLmVxdWF0aW9uczsKICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7CiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICBjb25zdCBOYm9kaWVzID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGggPSBkdDsKICAgIGxldCBCOwogICAgbGV0IGludkM7CiAgICBsZXQgZGVsdGFsYW1iZGE7CiAgICBsZXQgZGVsdGFsYW1iZGFUb3Q7CiAgICBsZXQgR1dsYW1iZGE7CiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3MKCiAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICBib2RpZXNbaV0udXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpOwogICAgICB9CiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlCgoKICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7CiAgICBjb25zdCBCcyA9IEdTU29sdmVyX3NvbHZlX0JzOwogICAgY29uc3QgbGFtYmRhID0gR1NTb2x2ZXJfc29sdmVfbGFtYmRhOwogICAgaW52Q3MubGVuZ3RoID0gTmVxOwogICAgQnMubGVuZ3RoID0gTmVxOwogICAgbGFtYmRhLmxlbmd0aCA9IE5lcTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxOyBpKyspIHsKICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tpXTsKICAgICAgbGFtYmRhW2ldID0gMC4wOwogICAgICBCc1tpXSA9IGMuY29tcHV0ZUIoaCk7CiAgICAgIGludkNzW2ldID0gMS4wIC8gYy5jb21wdXRlQygpOwogICAgfQoKICAgIGlmIChOZXEgIT09IDApIHsKICAgICAgLy8gUmVzZXQgdmxhbWJkYQogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhOwogICAgICAgIGNvbnN0IHdsYW1iZGEgPSBiLndsYW1iZGE7CiAgICAgICAgdmxhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgIH0gLy8gSXRlcmF0ZSBvdmVyIGVxdWF0aW9ucwoKCiAgICAgIGZvciAoaXRlciA9IDA7IGl0ZXIgIT09IG1heEl0ZXI7IGl0ZXIrKykgewogICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi4KICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgICAgICAgIEIgPSBCc1tqXTsKICAgICAgICAgIGludkMgPSBpbnZDc1tqXTsKICAgICAgICAgIGxhbWJkYWogPSBsYW1iZGFbal07CiAgICAgICAgICBHV2xhbWJkYSA9IGMuY29tcHV0ZUdXbGFtYmRhKCk7CiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWwKCiAgICAgICAgICBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhIDwgYy5taW5Gb3JjZSkgewogICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqOwogICAgICAgICAgfSBlbHNlIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPiBjLm1heEZvcmNlKSB7CiAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5tYXhGb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICB9CgogICAgICAgICAgbGFtYmRhW2pdICs9IGRlbHRhbGFtYmRhOwogICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKQoKICAgICAgICAgIGMuYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKTsKICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGUKCgogICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHkKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCB2ID0gYi52ZWxvY2l0eTsKICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7CiAgICAgICAgYi52bGFtYmRhLnZtdWwoYi5saW5lYXJGYWN0b3IsIGIudmxhbWJkYSk7CiAgICAgICAgdi52YWRkKGIudmxhbWJkYSwgdik7CiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpOwogICAgICAgIHcudmFkZChiLndsYW1iZGEsIHcpOwogICAgICB9IC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvbgoKCiAgICAgIGxldCBsID0gZXF1YXRpb25zLmxlbmd0aDsKICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDsKCiAgICAgIHdoaWxlIChsLS0pIHsKICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0OwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZXI7CiAgfQoKfQoKY29uc3QgR1NTb2x2ZXJfc29sdmVfbGFtYmRhID0gW107IC8vIEp1c3QgdGVtcG9yYXJ5IG51bWJlciBob2xkZXJzIHRoYXQgd2Ugd2FudCB0byByZXVzZSBlYWNoIHNvbHZlLgoKY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTsKY29uc3QgR1NTb2x2ZXJfc29sdmVfQnMgPSBbXTsKLyoqDQogKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC4NCiAqIEBjbGFzcyBQb29sDQogKiBAY29uc3RydWN0b3INCiAqLwoKCmNsYXNzIFBvb2wgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5vYmplY3RzID0gW107CiAgICB0aGlzLnR5cGUgPSBPYmplY3Q7CiAgfQogIC8qKg0KICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2UNCiAgICogQG1ldGhvZCByZWxlYXNlDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoNCiAgICovCgoKICByZWxlYXNlKC4uLmFyZ3MpIHsKICAgIGNvbnN0IE5hcmdzID0gYXJncy5sZW5ndGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHsKICAgICAgdGhpcy5vYmplY3RzLnB1c2goYXJnc1tpXSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gb2JqZWN0DQogICAqIEBtZXRob2QgZ2V0DQogICAqIEByZXR1cm4ge21peGVkfQ0KICAgKi8KCgogIGdldCgpIHsKICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdE9iamVjdCgpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvbnN0cnVjdCBhbiBvYmplY3QuIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzLg0KICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdA0KICAgKiBAcmV0dXJuIHttaXhlZH0NCiAgICovCgoKICBjb25zdHJ1Y3RPYmplY3QoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZXNpemUNCiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUNCiAgICogQHJldHVybiB7UG9vbH0gU2VsZiwgZm9yIGNoYWluaW5nDQogICAqLwoKCiAgcmVzaXplKHNpemUpIHsKICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLm9iamVjdHM7CgogICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoID4gc2l6ZSkgewogICAgICBvYmplY3RzLnBvcCgpOwogICAgfQoKICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHsKICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCn0KLyoqDQogKiBAY2xhc3MgVmVjM1Bvb2wNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgUG9vbA0KICovCgoKY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnR5cGUgPSBWZWMzOwogIH0KICAvKioNCiAgICogQ29uc3RydWN0IGEgdmVjdG9yDQogICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgY29uc3RydWN0T2JqZWN0KCkgewogICAgcmV0dXJuIG5ldyBWZWMzKCk7CiAgfQoKfQoKY29uc3QgQ09MTElTSU9OX1RZUEVTID0gewogIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLAogIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSwKICBib3hCb3g6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkJPWCwKICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCwKICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsCiAgY29udmV4Q29udmV4OiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIGJveENvbnZleDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogIGNvbnZleEhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLAogIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsCiAgYm94UGFydGljbGU6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLlBBUlRJQ0xFLAogIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgc3BoZXJlVHJpbWVzaDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuVFJJTUVTSCwKICBwbGFuZVRyaW1lc2g6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuVFJJTUVTSAp9OwovKioNCiAqIEhlbHBlciBjbGFzcyBmb3IgdGhlIFdvcmxkLiBHZW5lcmF0ZXMgQ29udGFjdEVxdWF0aW9ucy4NCiAqIEBjbGFzcyBOYXJyb3dwaGFzZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAdG9kbyBTcGhlcmUtQ29udmV4UG9seWhlZHJvbiBjb250YWN0cw0KICogQHRvZG8gQ29udGFjdCByZWR1Y3Rpb24NCiAqIEB0b2RvIHNob3VsZCBtb3ZlIG1ldGhvZHMgdG8gcHJvdG90eXBlDQogKi8KCmNsYXNzIE5hcnJvd3BoYXNlIHsKICAvLyBJbnRlcm5hbCBzdG9yYWdlIG9mIHBvb2xlZCBjb250YWN0IHBvaW50cy4KICAvLyBQb29sZWQgdmVjdG9ycy4KICBjb25zdHJ1Y3Rvcih3b3JsZCkgewogICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gW107CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107CiAgICB0aGlzLnJlc3VsdCA9IFtdOwogICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IFtdOwogICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTsKICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBNYWtlIGEgY29udGFjdCBvYmplY3QsIGJ5IHVzaW5nIHRoZSBpbnRlcm5hbCBwb29sIG9yIGNyZWF0aW5nIGEgbmV3IG9uZS4NCiAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb24NCiAgICogQHBhcmFtIHtCb2R5fSBiaQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJqDQogICAqIEBwYXJhbSB7U2hhcGV9IHNpDQogICAqIEBwYXJhbSB7U2hhcGV9IHNqDQogICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVBDQogICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCDQogICAqIEByZXR1cm4ge0NvbnRhY3RFcXVhdGlvbn0NCiAgICovCgoKICBjcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIG92ZXJyaWRlU2hhcGVBLCBvdmVycmlkZVNoYXBlQikgewogICAgbGV0IGM7CgogICAgaWYgKHRoaXMuY29udGFjdFBvaW50UG9vbC5sZW5ndGgpIHsKICAgICAgYyA9IHRoaXMuY29udGFjdFBvaW50UG9vbC5wb3AoKTsKICAgICAgYy5iaSA9IGJpOwogICAgICBjLmJqID0gYmo7CiAgICB9IGVsc2UgewogICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopOwogICAgfQoKICAgIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7CiAgICBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247CiAgICBjLnNldFNwb29rUGFyYW1zKGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwgdGhpcy53b3JsZC5kdCk7CiAgICBjb25zdCBtYXRBID0gc2kubWF0ZXJpYWwgfHwgYmkubWF0ZXJpYWw7CiAgICBjb25zdCBtYXRCID0gc2oubWF0ZXJpYWwgfHwgYmoubWF0ZXJpYWw7CgogICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLnJlc3RpdHV0aW9uID49IDAgJiYgbWF0Qi5yZXN0aXR1dGlvbiA+PSAwKSB7CiAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjsKICAgIH0KCiAgICBjLnNpID0gb3ZlcnJpZGVTaGFwZUEgfHwgc2k7CiAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7CiAgICByZXR1cm4gYzsKICB9CgogIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoY29udGFjdEVxdWF0aW9uLCBvdXRBcnJheSkgewogICAgY29uc3QgYm9keUEgPSBjb250YWN0RXF1YXRpb24uYmk7CiAgICBjb25zdCBib2R5QiA9IGNvbnRhY3RFcXVhdGlvbi5iajsKICAgIGNvbnN0IHNoYXBlQSA9IGNvbnRhY3RFcXVhdGlvbi5zaTsKICAgIGNvbnN0IHNoYXBlQiA9IGNvbnRhY3RFcXVhdGlvbi5zajsKICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZDsKICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOyAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgbGV0IGZyaWN0aW9uID0gY20uZnJpY3Rpb247CiAgICBjb25zdCBtYXRBID0gc2hhcGVBLm1hdGVyaWFsIHx8IGJvZHlBLm1hdGVyaWFsOwogICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDsKCiAgICBpZiAobWF0QSAmJiBtYXRCICYmIG1hdEEuZnJpY3Rpb24gPj0gMCAmJiBtYXRCLmZyaWN0aW9uID49IDApIHsKICAgICAgZnJpY3Rpb24gPSBtYXRBLmZyaWN0aW9uICogbWF0Qi5mcmljdGlvbjsKICAgIH0KCiAgICBpZiAoZnJpY3Rpb24gPiAwKSB7CiAgICAgIC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zCiAgICAgIGNvbnN0IG11ZyA9IGZyaWN0aW9uICogd29ybGQuZ3Jhdml0eS5sZW5ndGgoKTsKICAgICAgbGV0IHJlZHVjZWRNYXNzID0gYm9keUEuaW52TWFzcyArIGJvZHlCLmludk1hc3M7CgogICAgICBpZiAocmVkdWNlZE1hc3MgPiAwKSB7CiAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7CiAgICAgIH0KCiAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICBjb25zdCBjMiA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICBjMS5iaSA9IGMyLmJpID0gYm9keUE7CiAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjsKICAgICAgYzEubWluRm9yY2UgPSBjMi5taW5Gb3JjZSA9IC1tdWcgKiByZWR1Y2VkTWFzczsKICAgICAgYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZyAqIHJlZHVjZWRNYXNzOyAvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnMKCiAgICAgIGMxLnJpLmNvcHkoY29udGFjdEVxdWF0aW9uLnJpKTsKICAgICAgYzEucmouY29weShjb250YWN0RXF1YXRpb24ucmopOwogICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7CiAgICAgIGMyLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsgLy8gQ29uc3RydWN0IHRhbmdlbnRzCgogICAgICBjb250YWN0RXF1YXRpb24ubmkudGFuZ2VudHMoYzEudCwgYzIudCk7IC8vIFNldCBzcG9vayBwYXJhbXMKCiAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gY29udGFjdEVxdWF0aW9uLmVuYWJsZWQ7CiAgICAgIG91dEFycmF5LnB1c2goYzEsIGMyKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0gLy8gVGFrZSB0aGUgYXZlcmFnZSBOIGxhdGVzdCBjb250YWN0IHBvaW50IG9uIHRoZSBwbGFuZS4KCgogIGNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpIHsKICAgIC8vIFRoZSBsYXN0IGNvbnRhY3RFcXVhdGlvbgogICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byAiYXZlcmFnZSIgZnJpY3Rpb24gZXF1YXRpb25zCgogICAgaWYgKCF0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoYywgdGhpcy5mcmljdGlvblJlc3VsdCkgfHwgbnVtQ29udGFjdHMgPT09IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGYxID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDJdOwogICAgY29uc3QgZjIgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMV07CiAgICBhdmVyYWdlTm9ybWFsLnNldFplcm8oKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNldFplcm8oKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNldFplcm8oKTsKICAgIGNvbnN0IGJvZHlBID0gYy5iaTsKICAgIGNvbnN0IGJvZHlCID0gYy5iajsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbnVtQ29udGFjdHM7IGkrKykgewogICAgICBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMSAtIGldOwoKICAgICAgaWYgKGMuYmkgIT09IGJvZHlBKSB7CiAgICAgICAgYXZlcmFnZU5vcm1hbC52YWRkKGMubmksIGF2ZXJhZ2VOb3JtYWwpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEEpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICB9IGVsc2UgewogICAgICAgIGF2ZXJhZ2VOb3JtYWwudnN1YihjLm5pLCBhdmVyYWdlTm9ybWFsKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzOwogICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJpKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7CiAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lCgogICAgZjIucmouY29weShmMS5yaik7CiAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgYXZlcmFnZU5vcm1hbC50YW5nZW50cyhmMS50LCBmMi50KTsgLy8gcmV0dXJuIGVxOwogIH0KICAvKioNCiAgICogR2VuZXJhdGUgYWxsIGNvbnRhY3RzIGJldHdlZW4gYSBsaXN0IG9mIGJvZHkgcGFpcnMNCiAgICogQG1ldGhvZCBnZXRDb250YWN0cw0KICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXMNCiAgICogQHBhcmFtIHthcnJheX0gcDIgQXJyYXkgb2YgYm9keSBpbmRpY2VzDQogICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHMNCiAgICogQHBhcmFtIHthcnJheX0gb2xkY29udGFjdHMgT3B0aW9uYWwuIEFycmF5IG9mIHJldXNhYmxlIGNvbnRhY3Qgb2JqZWN0cw0KICAgKi8KCgogIGdldENvbnRhY3RzKHAxLCBwMiwgd29ybGQsIHJlc3VsdCwgb2xkY29udGFjdHMsIGZyaWN0aW9uUmVzdWx0LCBmcmljdGlvblBvb2wpIHsKICAgIC8vIFNhdmUgb2xkIGNvbnRhY3Qgb2JqZWN0cwogICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gZnJpY3Rpb25Qb29sOwogICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7CiAgICBjb25zdCBxaSA9IHRtcFF1YXQxOwogICAgY29uc3QgcWogPSB0bXBRdWF0MjsKICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyOwogICAgY29uc3QgeGogPSB0bXBWZWMyJDI7CgogICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykgewogICAgICAvLyBHZXQgY3VycmVudCBjb2xsaXNpb24gYm9kaWVzCiAgICAgIGNvbnN0IGJpID0gcDFba107CiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsCgogICAgICBsZXQgYm9keUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgfQoKICAgICAgY29uc3QganVzdFRlc3QgPSBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuU1RBVElDIHx8IGJpLnR5cGUgJiBCb2R5LlNUQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUMgfHwgYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQzsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmkuc2hhcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYmkucXVhdGVybmlvbi5tdWx0KGJpLnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7CiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTsKICAgICAgICB4aS52YWRkKGJpLnBvc2l0aW9uLCB4aSk7CiAgICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbaV07CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmouc2hhcGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXMKICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopOwogICAgICAgICAgYmoucXVhdGVybmlvbi52bXVsdChiai5zaGFwZU9mZnNldHNbal0sIHhqKTsKICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTsKICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdOwoKICAgICAgICAgIGlmICghKHNpLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzai5jb2xsaXNpb25GaWx0ZXJHcm91cCAmJiBzai5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2kuY29sbGlzaW9uRmlsdGVyR3JvdXApKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9IC8vIEdldCBjb2xsaXNpb24gbWF0ZXJpYWwKCgogICAgICAgICAgbGV0IHNoYXBlQ29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgICAgICBpZiAoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpIHsKICAgICAgICAgICAgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoc2kubWF0ZXJpYWwsIHNqLm1hdGVyaWFsKSB8fCBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzCgogICAgICAgICAgY29uc3QgcmVzb2x2ZXJJbmRleCA9IHNpLnR5cGUgfCBzai50eXBlOwogICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzW3Jlc29sdmVySW5kZXhdOwoKICAgICAgICAgIGlmIChyZXNvbHZlcikgewogICAgICAgICAgICBsZXQgcmV0dmFsID0gZmFsc2U7IC8vIFRPIERPOiBpbnZlc3RpZ2F0ZSB3aHkgc3BoZXJlUGFydGljbGUgYW5kIGNvbnZleFBhcnRpY2xlCiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyCiAgICAgICAgICAgIC8vIChpLmUuIGxhcmdlciBpbnRlZ2VyIHZhbHVlIHR5cGUgZmlyc3QgaW5zdGVhZCBvZiBzbWFsbGVyIGZpcnN0KQoKICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7CiAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkgewogICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIG92ZXJsYXAKICAgICAgICAgICAgICB3b3JsZC5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7CiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVNwaGVyZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgIHJldHVybiB4aS5kaXN0YW5jZVNxdWFyZWQoeGopIDwgKHNpLnJhZGl1cyArIHNqLnJhZGl1cykgKiogMjsKICAgIH0gLy8gV2Ugd2lsbCBoYXZlIG9ubHkgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlCgoKICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgIHhqLnZzdWIoeGksIHIubmkpOwogICAgci5uaS5ub3JtYWxpemUoKTsgLy8gQ29udGFjdCBwb2ludCBsb2NhdGlvbnMKCiAgICByLnJpLmNvcHkoci5uaSk7CiAgICByLnJqLmNvcHkoci5uaSk7CiAgICByLnJpLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7CiAgICByLnJqLnNjYWxlKC1zai5yYWRpdXMsIHIucmopOwogICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgfQoKICBzcGhlcmVQbGFuZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgLy8gV2Ugd2lsbCBoYXZlIG9uZSBjb250YWN0IGluIHRoaXMgY2FzZQogICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgci5uaS5zZXQoMCwgMCwgMSk7CiAgICBxai52bXVsdChyLm5pLCByLm5pKTsKICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBib2R5IGkgaXMgdGhlIHNwaGVyZSwgZmxpcCBub3JtYWwKCiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/CiAgICAvLyBWZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3QgcG9pbnQKCiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmUKCiAgICB4aS52c3ViKHhqLCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpOwogICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pOwogICAgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLnZzdWIocGxhbmVfdG9fc3BoZXJlX29ydGhvLCByLnJqKTsgLy8gVGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gcGxhbmUKCiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCgogICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9CiAgfQoKICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2oubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIHNwaGVyZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7IC8vIHdlIHJlZmVyIHRvIHRoZSBib3ggYXMgYm9keSBqCgogICAgY29uc3Qgc2lkZXMgPSBzcGhlcmVCb3hfc2lkZXM7CiAgICB4aS52c3ViKHhqLCBib3hfdG9fc3BoZXJlKTsKICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7CiAgICBjb25zdCBSID0gc2kucmFkaXVzOwogICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIFN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBwZW5ldHJhdGlvbiBpbmZvCgogICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zOwogICAgY29uc3Qgc2lkZV9uczEgPSBzcGhlcmVCb3hfc2lkZV9uczE7CiAgICBjb25zdCBzaWRlX25zMiA9IHNwaGVyZUJveF9zaWRlX25zMjsKICAgIGxldCBzaWRlX2ggPSBudWxsOwogICAgbGV0IHNpZGVfcGVuZXRyYXRpb25zID0gMDsKICAgIGxldCBzaWRlX2RvdDEgPSAwOwogICAgbGV0IHNpZGVfZG90MiA9IDA7CiAgICBsZXQgc2lkZV9kaXN0YW5jZSA9IG51bGw7CgogICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7CiAgICAgIC8vIEdldCB0aGUgcGxhbmUgc2lkZSBub3JtYWwgKG5zKQogICAgICBjb25zdCBucyA9IHNwaGVyZUJveF9uczsKICAgICAgbnMuY29weShzaWRlc1tpZHhdKTsKICAgICAgY29uc3QgaCA9IG5zLmxlbmd0aCgpOwogICAgICBucy5ub3JtYWxpemUoKTsgLy8gVGhlIG5vcm1hbC9kaXN0YW5jZSBkb3QgcHJvZHVjdCB0ZWxscyB3aGljaCBzaWRlIG9mIHRoZSBwbGFuZSB3ZSBhcmUKCiAgICAgIGNvbnN0IGRvdCA9IGJveF90b19zcGhlcmUuZG90KG5zKTsKCiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7CiAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIHRoZSBvdGhlciB0d28gZGltZW5zaW9ucwogICAgICAgIGNvbnN0IG5zMSA9IHNwaGVyZUJveF9uczE7CiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjsKICAgICAgICBuczEuY29weShzaWRlc1soaWR4ICsgMSkgJSAzXSk7CiAgICAgICAgbnMyLmNvcHkoc2lkZXNbKGlkeCArIDIpICUgM10pOwogICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpOwogICAgICAgIGNvbnN0IGgyID0gbnMyLmxlbmd0aCgpOwogICAgICAgIG5zMS5ub3JtYWxpemUoKTsKICAgICAgICBuczIubm9ybWFsaXplKCk7CiAgICAgICAgY29uc3QgZG90MSA9IGJveF90b19zcGhlcmUuZG90KG5zMSk7CiAgICAgICAgY29uc3QgZG90MiA9IGJveF90b19zcGhlcmUuZG90KG5zMik7CgogICAgICAgIGlmIChkb3QxIDwgaDEgJiYgZG90MSA+IC1oMSAmJiBkb3QyIDwgaDIgJiYgZG90MiA+IC1oMikgewogICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKGRvdCAtIGggLSBSKTsKCiAgICAgICAgICBpZiAoc2lkZV9kaXN0YW5jZSA9PT0gbnVsbCB8fCBkaXN0IDwgc2lkZV9kaXN0YW5jZSkgewogICAgICAgICAgICBzaWRlX2Rpc3RhbmNlID0gZGlzdDsKICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTsKICAgICAgICAgICAgc2lkZV9kb3QyID0gZG90MjsKICAgICAgICAgICAgc2lkZV9oID0gaDsKICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTsKICAgICAgICAgICAgc2lkZV9uczEuY29weShuczEpOwogICAgICAgICAgICBzaWRlX25zMi5jb3B5KG5zMik7CiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7CgogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChzaWRlX3BlbmV0cmF0aW9ucykgewogICAgICBmb3VuZCA9IHRydWU7CiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICBzaWRlX25zLnNjYWxlKC1SLCByLnJpKTsgLy8gU3BoZXJlIHIKCiAgICAgIHIubmkuY29weShzaWRlX25zKTsKICAgICAgci5uaS5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBzaG91bGQgYmUgb3V0IG9mIHNwaGVyZQoKICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpOwogICAgICBzaWRlX25zMS5zY2FsZShzaWRlX2RvdDEsIHNpZGVfbnMxKTsKICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMxLCBzaWRlX25zKTsKICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7CiAgICAgIHNpZGVfbnMudmFkZChzaWRlX25zMiwgci5yaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9IC8vIENoZWNrIGNvcm5lcnMKCgogICAgbGV0IHJqID0gdjNwb29sLmdldCgpOwogICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyOwoKICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7CiAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSAyICYmICFmb3VuZDsgaysrKSB7CiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgIT09IDIgJiYgIWZvdW5kOyBsKyspIHsKICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTsKCiAgICAgICAgICBpZiAoaikgewogICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByai52c3ViKHNpZGVzWzBdLCByaik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGspIHsKICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmoudnN1YihzaWRlc1sxXSwgcmopOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChsKSB7CiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgoKICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgICAgc3BoZXJlX3RvX2Nvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgci5yaS5jb3B5KHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgICAgICByLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICAgIHIucmkuc2NhbGUoUiwgci5yaSk7CiAgICAgICAgICAgIHIucmouY29weShyaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdjNwb29sLnJlbGVhc2UocmopOwogICAgcmogPSBudWxsOyAvLyBDaGVjayBlZGdlcwoKICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpOwogICAgY29uc3QgZWRnZUNlbnRlciA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IHIgPSB2M3Bvb2wuZ2V0KCk7IC8vIHIgPSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyCgogICAgY29uc3Qgb3J0aG9nb25hbCA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IGRpc3QgPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7CgogICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5zaWRlcyAmJiAhZm91bmQ7IGorKykgewogICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7CiAgICAgICAgaWYgKGogJSAzICE9PSBrICUgMykgewogICAgICAgICAgLy8gR2V0IGVkZ2UgdGFuZ2VudAogICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTsKICAgICAgICAgIGVkZ2VUYW5nZW50Lm5vcm1hbGl6ZSgpOwogICAgICAgICAgc2lkZXNbal0udmFkZChzaWRlc1trXSwgZWRnZUNlbnRlcik7CiAgICAgICAgICByLmNvcHkoeGkpOwogICAgICAgICAgci52c3ViKGVkZ2VDZW50ZXIsIHIpOwogICAgICAgICAgci52c3ViKHhqLCByKTsKICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgoKICAgICAgICAgIGVkZ2VUYW5nZW50LnNjYWxlKG9ydGhvbm9ybSwgb3J0aG9nb25hbCk7IC8vIFZlY3RvciBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uCiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmUKCiAgICAgICAgICBsZXQgbCA9IDA7CgogICAgICAgICAgd2hpbGUgKGwgPT09IGogJSAzIHx8IGwgPT09IGsgJSAzKSB7CiAgICAgICAgICAgIGwrKzsKICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50CgoKICAgICAgICAgIGRpc3QuY29weSh4aSk7CiAgICAgICAgICBkaXN0LnZzdWIob3J0aG9nb25hbCwgZGlzdCk7CiAgICAgICAgICBkaXN0LnZzdWIoZWRnZUNlbnRlciwgZGlzdCk7CiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0CgogICAgICAgICAgY29uc3QgdGRpc3QgPSBNYXRoLmFicyhvcnRob25vcm0pOwogICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpOwoKICAgICAgICAgIGlmICh0ZGlzdCA8IHNpZGVzW2xdLmxlbmd0aCgpICYmIG5kaXN0IDwgUikgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqCgogICAgICAgICAgICByZXMucmouY29weShyZXMucmopOwogICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpOwogICAgICAgICAgICByZXMubmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHJlcy5yaS5jb3B5KHJlcy5yaik7CiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpOwogICAgICAgICAgICByZXMucmkudnN1Yih4aSwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhpLCByZXMucmkpOwogICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJqLnZhZGQoeGosIHJlcy5yaik7CiAgICAgICAgICAgIHJlcy5yai52c3ViKGJqLnBvc2l0aW9uLCByZXMucmopOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyZXMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHYzcG9vbC5yZWxlYXNlKGVkZ2VUYW5nZW50LCBlZGdlQ2VudGVyLCByLCBvcnRob2dvbmFsLCBkaXN0KTsKICB9CgogIHBsYW5lQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmlkID0gc2ouaWQ7CiAgICByZXR1cm4gdGhpcy5wbGFuZUNvbnZleChzaSwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIGNvbnZleENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHsKICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKCiAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7CiAgICAgIGNvbnN0IHJlcyA9IFtdOwogICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7CiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTsKICAgICAgbGV0IG51bUNvbnRhY3RzID0gMDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICBzZXBBeGlzLm5lZ2F0ZShyLm5pKTsKICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTsKICAgICAgICBxLnNjYWxlKHJlc1tqXS5kZXB0aCwgcSk7CiAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZQoKICAgICAgICByaS52c3ViKHhpLCByaSk7CiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICBudW1Db250YWN0cysrOwoKICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgICAgfQogICAgfQogIH0KCiAgc3BoZXJlQ29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsKICAgIHhpLnZzdWIoeGosIGNvbnZleF90b19zcGhlcmUpOwogICAgY29uc3Qgbm9ybWFscyA9IHNqLmZhY2VOb3JtYWxzOwogICAgY29uc3QgZmFjZXMgPSBzai5mYWNlczsKICAgIGNvbnN0IHZlcnRzID0gc2oudmVydGljZXM7CiAgICBjb25zdCBSID0gc2kucmFkaXVzOyAvLyAgICAgcmV0dXJuOwogICAgLy8gfQoKICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBDaGVjayBjb3JuZXJzCgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgogICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjsKICAgICAgcWoudm11bHQodiwgd29ybGRDb3JuZXIpOwogICAgICB4ai52YWRkKHdvcmxkQ29ybmVyLCB3b3JsZENvcm5lcik7CiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7CiAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGksIHNwaGVyZV90b19jb3JuZXIpOwoKICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICByLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgIHIubmkuY29weShyLnJpKTsKICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpOwogICAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGosIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IC8vIENoZWNrIHNpZGUgKHBsYW5lKSBpbnRlcnNlY3Rpb25zCgoKICAgIGZvciAobGV0IGkgPSAwLCBuZmFjZXMgPSBmYWNlcy5sZW5ndGg7IGkgIT09IG5mYWNlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGkrKykgewogICAgICBjb25zdCBub3JtYWwgPSBub3JtYWxzW2ldOwogICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2UKCiAgICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsOwogICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2UKCiAgICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBzcGhlcmVDb252ZXhfd29ybGRQb2ludDsKICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpOwogICAgICB3b3JsZFBvaW50LnZhZGQoeGosIHdvcmxkUG9pbnQpOyAvLyBHZXQgYSBwb2ludCBvbiB0aGUgc3BoZXJlLCBjbG9zZXN0IHRvIHRoZSBmYWNlIG5vcm1hbAoKICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTsKICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7CiAgICAgIHhpLnZhZGQod29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOyAvLyBWZWN0b3IgZnJvbSBhIGZhY2UgcG9pbnQgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNwaGVyZQoKICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBzcGhlcmVDb252ZXhfcGVuZXRyYXRpb25WZWM7CiAgICAgIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZS52c3ViKHdvcmxkUG9pbnQsIHBlbmV0cmF0aW9uVmVjKTsgLy8gVGhlIHBlbmV0cmF0aW9uLiBOZWdhdGl2ZSB2YWx1ZSBtZWFucyBvdmVybGFwLgoKICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvblZlYy5kb3Qod29ybGROb3JtYWwpOwogICAgICBjb25zdCB3b3JsZFBvaW50VG9TcGhlcmUgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50OwogICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7CgogICAgICBpZiAocGVuZXRyYXRpb24gPCAwICYmIHdvcmxkUG9pbnRUb1NwaGVyZS5kb3Qod29ybGROb3JtYWwpID4gMCkgewogICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uCiAgICAgICAgY29uc3QgZmFjZVZlcnRzID0gW107IC8vIEZhY2UgdmVydGljZXMsIGluIHdvcmxkIGNvb3JkcwoKICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7CiAgICAgICAgICBjb25zdCB3b3JsZFZlcnRleCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2Vbal1dLCB3b3JsZFZlcnRleCk7CiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgICBmYWNlVmVydHMucHVzaCh3b3JsZFZlcnRleCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocG9pbnRJblBvbHlnb24oZmFjZVZlcnRzLCB3b3JsZE5vcm1hbCwgeGkpKSB7CiAgICAgICAgICAvLyBJcyB0aGUgc3BoZXJlIGNlbnRlciBpbiB0aGUgZmFjZSBwb2x5Z29uPwogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3QKCiAgICAgICAgICB3b3JsZE5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBwb2ludGluZyBvdXQgb2Ygc3BoZXJlCgogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLXBlbmV0cmF0aW9uLCBwZW5ldHJhdGlvblZlYzIpOwogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCBwZW5ldHJhdGlvblNwaGVyZVBvaW50KTsgLy94aS52c3ViKHhqKS52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpLnZhZGQocGVuZXRyYXRpb25WZWMyICwgci5yaik7CgogICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25TcGhlcmVQb2ludCwgci5yaik7CiAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25WZWMyLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpOwogICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25TcGhlcmVQb2ludCk7CiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgogICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBFZGdlPwogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgLy8gR2V0IHR3byB3b3JsZCB0cmFuc2Zvcm1lZCB2ZXJ0aWNlcwogICAgICAgICAgICBjb25zdCB2MSA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAxKSAlIGZhY2UubGVuZ3RoXV0sIHYxKTsKICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDIpICUgZmFjZS5sZW5ndGhdXSwgdjIpOwogICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7CiAgICAgICAgICAgIHhqLnZhZGQodjIsIHYyKTsgLy8gQ29uc3RydWN0IGVkZ2UgdmVjdG9yCgogICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7CiAgICAgICAgICAgIHYyLnZzdWIodjEsIGVkZ2UpOyAvLyBDb25zdHJ1Y3QgdGhlIHNhbWUgdmVjdG9yLCBidXQgbm9ybWFsaXplZAoKICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7CiAgICAgICAgICAgIGVkZ2UudW5pdChlZGdlVW5pdCk7IC8vIHAgaXMgeGkgcHJvamVjdGVkIG9udG8gdGhlIGVkZ2UKCiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIGNvbnN0IHYxX3RvX3hpID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICB4aS52c3ViKHYxLCB2MV90b194aSk7CiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7CiAgICAgICAgICAgIGVkZ2VVbml0LnNjYWxlKGRvdCwgcCk7CiAgICAgICAgICAgIHAudmFkZCh2MSwgcCk7IC8vIENvbXB1dGUgYSB2ZWN0b3IgZnJvbSBwIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNwaGVyZQoKICAgICAgICAgICAgY29uc3QgeGlfdG9fcCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgcC52c3ViKHhpLCB4aV90b19wKTsgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MgoKICAgICAgICAgICAgaWYgKGRvdCA+IDAgJiYgZG90ICogZG90IDwgZWRnZS5sZW5ndGhTcXVhcmVkKCkgJiYgeGlfdG9fcC5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXMKICAgICAgICAgICAgICAvLyBFZGdlIGNvbnRhY3QhCiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICAgIHAudnN1Yih4aiwgci5yaik7CiAgICAgICAgICAgICAgcC52c3ViKHhpLCByLm5pKTsKICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHIubmkuc2NhbGUoUiwgci5yaSk7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHApOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKCiAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7CiAgICAvLyBTaW1wbHkgcmV0dXJuIHRoZSBwb2ludHMgYmVoaW5kIHRoZSBwbGFuZS4KICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gcGxhbmVDb252ZXhfdjsKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsOwogICAgd29ybGROb3JtYWwuc2V0KDAsIDAsIDEpOwogICAgcGxhbmVRdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgIGxldCBudW1Db250YWN0cyA9IDA7CiAgICBjb25zdCByZWxwb3MgPSBwbGFuZUNvbnZleF9yZWxwb3M7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIEdldCB3b3JsZCBjb252ZXggdmVydGV4CiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pOwogICAgICBjb252ZXhRdWF0LnZtdWx0KHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgIGNvbnZleFBvc2l0aW9uLnZhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTsKICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpOwogICAgICBjb25zdCBkb3QgPSB3b3JsZE5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIGNvbnZleEJvZHksIHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBzaSwgc2opOyAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZUNvbnZleF9wcm9qZWN0ZWQ7CiAgICAgICAgd29ybGROb3JtYWwuc2NhbGUod29ybGROb3JtYWwuZG90KHJlbHBvcyksIHByb2plY3RlZCk7CiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7CiAgICAgICAgcHJvamVjdGVkLnZzdWIocGxhbmVQb3NpdGlvbiwgci5yaSk7IC8vIEZyb20gcGxhbmUgdG8gdmVydGV4IHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lCiAgICAgICAgLy8gcmogaXMgbm93IGp1c3QgdGhlIHZlY3RvciBmcm9tIHRoZSBjb252ZXggY2VudGVyIHRvIHRoZSB2ZXJ0ZXgKCiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCiAgICAgICAgci5yaS52YWRkKHBsYW5lUG9zaXRpb24sIHIucmkpOwogICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgIHIucmoudmFkZChjb252ZXhQb3NpdGlvbiwgci5yaik7CiAgICAgICAgci5yai52c3ViKGNvbnZleEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgbnVtQ29udGFjdHMrKzsKCiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgIH0KICB9CgogIGJveENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIHNwaGVyZUhlaWdodGZpZWxkKHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBzcGhlcmVQb3MsIGhmUG9zLCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhOwogICAgY29uc3QgcmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzOwogICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7CiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhCgogICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVIZWlnaHRmaWVsZF90bXAxOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7CiAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCiAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwoKCiAgICBpZiAoaU1pblggPCAwKSB7CiAgICAgIGlNaW5YID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFggPCAwKSB7CiAgICAgIGlNYXhYID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblkgPCAwKSB7CiAgICAgIGlNaW5ZID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFkgPCAwKSB7CiAgICAgIGlNYXhZID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7CiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICB9CgogICAgY29uc3QgbWluTWF4ID0gW107CiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICBjb25zdCBtaW4gPSBtaW5NYXhbMF07CiAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlIGNhbid0IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94CgogICAgaWYgKGxvY2FsU3BoZXJlUG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxTcGhlcmVQb3MueiArIHJhZGl1cyA8IG1pbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoOwogICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGUKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IG51bUNvbnRhY3RzID0gcmVzdWx0Lmxlbmd0aCAtIG51bUNvbnRhY3RzQmVmb3JlOwoKICAgICAgICBpZiAobnVtQ29udGFjdHMgPiAyKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8qDQogICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDENCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bUNvbnRhY3RzIC0gMTsgaysrKSB7DQogICAgICAgICAgICAgIHJlc3VsdC5wb3AoKTsNCiAgICAgICAgICB9DQogICAgICAgICovCgogICAgICB9CiAgICB9CiAgfQoKICBib3hIZWlnaHRmaWVsZChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IHJhZGl1cyA9IGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzOwogICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyOwogICAgY29uc3QgZmFjZUxpc3QgPSBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdDsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICBjb25zdCBsb2NhbENvbnZleFBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDE7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgY29udmV4UG9zLCBsb2NhbENvbnZleFBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhYID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy54ICsgcmFkaXVzKSAvIHcpICsgMTsKICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnkgLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgIGlmIChpTWluWCA8IDApIHsKICAgICAgaU1pblggPSAwOwogICAgfQoKICAgIGlmIChpTWF4WCA8IDApIHsKICAgICAgaU1heFggPSAwOwogICAgfQoKICAgIGlmIChpTWluWSA8IDApIHsKICAgICAgaU1pblkgPSAwOwogICAgfQoKICAgIGlmIChpTWF4WSA8IDApIHsKICAgICAgaU1heFkgPSAwOwogICAgfQoKICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkgewogICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBjb25zdCBtaW5NYXggPSBbXTsKICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTsKICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UncmUgY2FudCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveAoKICAgIGlmIChsb2NhbENvbnZleFBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsQ29udmV4UG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGUKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAvLyBUaGUgbm9ybWFsIGlzIHRoZSB1bml0IHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gcGFydGljbGUgY2VudGVyCiAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVNwaGVyZV9ub3JtYWw7CiAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgeGkudnN1Yih4aiwgbm9ybWFsKTsKICAgIGNvbnN0IGxlbmd0aFNxdWFyZWQgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICAgIGlmIChsZW5ndGhTcXVhcmVkIDw9IHNqLnJhZGl1cyAqIHNqLnJhZGl1cykgewogICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgci5yai5jb3B5KG5vcm1hbCk7CiAgICAgIHIucmouc2NhbGUoc2oucmFkaXVzLCByLnJqKTsKICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQoKICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQogIH0KCiAgcGxhbmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVQbGFuZV9ub3JtYWw7CiAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgYmoucXVhdGVybmlvbi52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgIGNvbnN0IHJlbHBvcyA9IHBhcnRpY2xlUGxhbmVfcmVscG9zOwogICAgeGkudnN1Yihiai5wb3NpdGlvbiwgcmVscG9zKTsKICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTsKCiAgICBpZiAoZG90IDw9IDAuMCkgewogICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsCgogICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQogICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZDsKICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpOwogICAgICB4aS52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy9wcm9qZWN0ZWQudmFkZChiai5wb3NpdGlvbixwcm9qZWN0ZWQpOwogICAgICAvLyByaiBpcyBub3cgdGhlIHByb2plY3RlZCB3b3JsZCBwb3NpdGlvbiBtaW51cyBwbGFuZSBwb3NpdGlvbgoKICAgICAgci5yai5jb3B5KHByb2plY3RlZCk7CiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgIH0KICB9CgogIGJveFBhcnRpY2xlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBjb252ZXhQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgbGV0IHBlbmV0cmF0ZWRGYWNlSW5kZXggPSAtMTsKICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7CiAgICBjb25zdCB3b3JsZFBlbmV0cmF0aW9uVmVjID0gY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYzsKICAgIGxldCBtaW5QZW5ldHJhdGlvbiA9IG51bGw7CiAgICBjb25zdCBsb2NhbCA9IGNvbnZleFBhcnRpY2xlX2xvY2FsOwogICAgbG9jYWwuY29weSh4aSk7CiAgICBsb2NhbC52c3ViKHhqLCBsb2NhbCk7IC8vIENvbnZlcnQgcG9zaXRpb24gdG8gcmVsYXRpdmUgdGhlIGNvbnZleCBvcmlnaW4KCiAgICBxai5jb25qdWdhdGUoY3FqKTsKICAgIGNxai52bXVsdChsb2NhbCwgbG9jYWwpOwoKICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkgewogICAgICBpZiAoc2oud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlKSB7CiAgICAgICAgc2ouY29tcHV0ZVdvcmxkVmVydGljZXMoeGosIHFqKTsKICAgICAgfQoKICAgICAgaWYgKHNqLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSkgewogICAgICAgIHNqLmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHFqKTsKICAgICAgfSAvLyBGb3IgZWFjaCB3b3JsZCBwb2x5Z29uIGluIHRoZSBwb2x5aGVkcmEKCgogICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gc2ouZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXM7IGkrKykgewogICAgICAgIC8vIENvbnN0cnVjdCB3b3JsZCBmYWNlIHZlcnRpY2VzCiAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dOwogICAgICAgIGNvbnN0IG5vcm1hbCA9IHNqLndvcmxkRmFjZU5vcm1hbHNbaV07IC8vIENoZWNrIGhvdyBtdWNoIHRoZSBwYXJ0aWNsZSBwZW5ldHJhdGVzIHRoZSBwb2x5Z29uIHBsYW5lLgoKICAgICAgICB4aS52c3ViKHZlcnRzWzBdLCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTsKICAgICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IC1ub3JtYWwuZG90KGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwoKICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbWluUGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvbjsKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpOwogICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuY29weShub3JtYWwpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHBlbmV0cmF0ZWRGYWNlSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8gU2V0dXAgY29udGFjdAogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLnNjYWxlKG1pblBlbmV0cmF0aW9uLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy8gcmogaXMgdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZmFjZQoKICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZhZGQoeGksIHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudnN1Yih4aiwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgLy9wcm9qZWN0ZWRUb0ZhY2UuY29weShyLnJqKTsKICAgICAgICAvL3FqLnZtdWx0KHIucmosci5yaik7CgogICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQoKICAgICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgZWRnZVZlcnRleEEgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBOwogICAgY29uc3QgZWRnZVZlcnRleEIgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCOwogICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjsKICAgIGNvbnN0IGVkZ2VWZWN0b3JVbml0ID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdDsKICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvczsKICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wOwogICAgY29uc3QgbG9jYWxTcGhlcmVBQUJCID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkI7CiAgICBjb25zdCB2MiA9IHNwaGVyZVRyaW1lc2hfdjI7CiAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvczsKICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzOyAvLyBDb252ZXJ0IHNwaGVyZSBwb3NpdGlvbiB0byBsb2NhbCBpbiB0aGUgdHJpbWVzaAoKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgYWFiYiBvZiB0aGUgc3BoZXJlIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2gKCiAgICBjb25zdCBzcGhlcmVSYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICBsb2NhbFNwaGVyZUFBQkIubG93ZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiAtIHNwaGVyZVJhZGl1cyk7CiAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7CiAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVzSW5BQUJCKGxvY2FsU3BoZXJlQUFCQiwgdHJpYW5nbGVzKTsgLy9mb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgdHJpYW5nbGVzLnB1c2goaSk7IC8vIEFsbAogICAgLy8gVmVydGljZXMKCiAgICBjb25zdCB2ID0gc3BoZXJlVHJpbWVzaF92OwogICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1czsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlCgogICAgICAgIHYudnN1Yihsb2NhbFNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgaWYgKHJlbHBvcy5sZW5ndGhTcXVhcmVkKCkgPD0gcmFkaXVzU3F1YXJlZCkgewogICAgICAgICAgLy8gU2FmZSB1cAogICAgICAgICAgdjIuY29weSh2KTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOwogICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7CiAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyByaSBpcyB0aGUgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byB0aGUgc3BoZXJlIHN1cmZhY2UKCiAgICAgICAgICByLnJpLmNvcHkoci5uaSk7CiAgICAgICAgICByLnJpLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmouY29weSh2KTsKICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIENoZWNrIGFsbCBlZGdlcwoKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCBlZGdlVmVydGV4QSk7CiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7CiAgICAgICAgZWRnZVZlcnRleEIudnN1YihlZGdlVmVydGV4QSwgZWRnZVZlY3Rvcik7IC8vIFByb2plY3Qgc3BoZXJlIHBvc2l0aW9uIHRvIHRoZSBlZGdlCgogICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEIsIHRtcCk7CiAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApOwogICAgICAgIGxldCBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3IpOwoKICAgICAgICBpZiAocG9zaXRpb25BbG9uZ0VkZ2VBID4gMCAmJiBwb3NpdGlvbkFsb25nRWRnZUIgPCAwKSB7CiAgICAgICAgICAvLyBOb3cgY2hlY2sgdGhlIG9ydGhvZ29uYWwgZGlzdGFuY2UgZnJvbSBlZGdlIHRvIHNwaGVyZSBjZW50ZXIKICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5jb3B5KGVkZ2VWZWN0b3IpOwogICAgICAgICAgZWRnZVZlY3RvclVuaXQubm9ybWFsaXplKCk7CiAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTsKICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LnNjYWxlKHBvc2l0aW9uQWxvbmdFZGdlQSwgdG1wKTsKICAgICAgICAgIHRtcC52YWRkKGVkZ2VWZXJ0ZXhBLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgY2VudGVyIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZWRnZSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSB0cmltZXNoIGZyYW1lCgogICAgICAgICAgY29uc3QgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTsKCiAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTsKICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gVHJpYW5nbGUgZmFjZXMKCgogICAgY29uc3QgdmEgPSBzcGhlcmVUcmltZXNoX3ZhOwogICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiOwogICAgY29uc3QgdmMgPSBzcGhlcmVUcmltZXNoX3ZjOwogICAgY29uc3Qgbm9ybWFsID0gc3BoZXJlVHJpbWVzaF9ub3JtYWw7CgogICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlVmVydGljZXModHJpYW5nbGVzW2ldLCB2YSwgdmIsIHZjKTsKICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7CiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodmEsIHRtcCk7CiAgICAgIGxldCBkaXN0ID0gdG1wLmRvdChub3JtYWwpOwogICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTsKICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih0bXAsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIHRyaWFuZ2xlIHBsYW5lCgogICAgICBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpOwoKICAgICAgaWYgKFJheS5wb2ludEluVHJpYW5nbGUodG1wLCB2YSwgdmIsIHZjKSAmJiBkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7CiAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgfQogICAgfQoKICAgIHRyaWFuZ2xlcy5sZW5ndGggPSAwOwogIH0KCiAgcGxhbmVUcmltZXNoKHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcGxhbmVQb3MsIHRyaW1lc2hQb3MsIHBsYW5lUXVhdCwgdHJpbWVzaFF1YXQsIHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgLy8gTWFrZSBjb250YWN0cyEKICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgbm9ybWFsID0gcGxhbmVUcmltZXNoX25vcm1hbDsKICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS52ZXJ0aWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2gKICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleChpLCB2KTsgLy8gU2FmZSB1cAoKICAgICAgY29uc3QgdjIgPSBuZXcgVmVjMygpOwogICAgICB2Mi5jb3B5KHYpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZQoKICAgICAgY29uc3QgcmVscG9zID0gcGxhbmVUcmltZXNoX3JlbHBvczsKICAgICAgdi52c3ViKHBsYW5lUG9zLCByZWxwb3MpOwogICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7CgogICAgICBpZiAoZG90IDw9IDAuMCkgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKICAgICAgICAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZVRyaW1lc2hfcHJvamVjdGVkOwogICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7CiAgICAgICAgdi52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy8gcmkgaXMgdGhlIHByb2plY3RlZCB3b3JsZCBwb3NpdGlvbiBtaW51cyBwbGFuZSBwb3NpdGlvbgoKICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTsKICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJqLmNvcHkodik7CiAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0CgogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9CiAgICB9CiAgfSAvLyBjb252ZXhUcmltZXNoKAogIC8vICAgc2k6IENvbnZleFBvbHloZWRyb24sIHNqOiBUcmltZXNoLCB4aTogVmVjMywgeGo6IFZlYzMsIHFpOiBRdWF0ZXJuaW9uLCBxajogUXVhdGVybmlvbiwKICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsCiAgLy8gICBmYWNlTGlzdEE/OiBudW1iZXJbXSB8IG51bGwsIGZhY2VMaXN0Qj86IG51bWJlcltdIHwgbnVsbCwKICAvLyApIHsKICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKICAvLyAgIGlmKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cyl7CiAgLy8gICAgICAgcmV0dXJuOwogIC8vICAgfQogIC8vICAgLy8gQ29uc3RydWN0IGEgdGVtcCBodWxsIGZvciBlYWNoIHRyaWFuZ2xlCiAgLy8gICBjb25zdCBodWxsQiA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTsKICAvLyAgIGNvbnN0IHZhID0gbmV3IFZlYzMoKTsKICAvLyAgIGNvbnN0IHZiID0gbmV3IFZlYzMoKTsKICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICAvLyAgIGh1bGxCLnZlcnRpY2VzID0gWwogIC8vICAgICAgIHZhLAogIC8vICAgICAgIHZiLAogIC8vICAgICAgIHZjCiAgLy8gICBdOwogIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogIC8vICAgICAgIGNvbnN0IHRyaWFuZ2xlTm9ybWFsID0gbmV3IFZlYzMoKTsKICAvLyAgICAgICBzai5nZXROb3JtYWwoaSwgdHJpYW5nbGVOb3JtYWwpOwogIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTsKICAvLyAgICAgICBzai5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIHZhLCB2YiwgdmMpOwogIC8vICAgICAgIGxldCBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgLy8gICAgICAgaWYoIWQpewogIC8vICAgICAgICAgICB0cmlhbmdsZU5vcm1hbC5zY2FsZSgtMSwgdHJpYW5nbGVOb3JtYWwpOwogIC8vICAgICAgICAgICBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgLy8gICAgICAgICAgIGlmKCFkKXsKICAvLyAgICAgICAgICAgICAgIGNvbnRpbnVlOwogIC8vICAgICAgICAgICB9CiAgLy8gICAgICAgfQogIC8vICAgICAgIGNvbnN0IHJlczogQ29udmV4UG9seWhlZHJvbkNvbnRhY3RQb2ludFtdID0gW107CiAgLy8gICAgICAgY29uc3QgcSA9IGNvbnZleENvbnZleF9xOwogIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpOwogIC8vICAgICAgIGZvcihsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKyl7CiAgLy8gICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSxiaixzaSxzaixyc2kscnNqKSwKICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSwKICAvLyAgICAgICAgICAgICAgIHJqID0gci5yajsKICAvLyAgICAgICAgICAgci5uaS5jb3B5KHRyaWFuZ2xlTm9ybWFsKTsKICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgLy8gICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpOwogIC8vICAgICAgICAgICBxLm11bHQocmVzW2pdLmRlcHRoLCBxKTsKICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogIC8vICAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7CiAgLy8gICAgICAgICAgIC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7CiAgLy8gICAgICAgICAgIHJqLnZzdWIoeGoscmopOwogIC8vICAgICAgICAgICAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwogIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgLy8gICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAvLyAgICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgLy8gICAgICAgICAgIHJlc3VsdC5wdXNoKHIpOwogIC8vICAgICAgIH0KICAvLyAgIH0KICAvLyB9CgoKfQoKY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRBID0gbmV3IFZlYzMoKTsKY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyJDIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBRdWF0MSA9IG5ldyBRdWF0ZXJuaW9uKCk7CmNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEJveDsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveENvbnZleDsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlU3BoZXJlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVTcGhlcmU7CmNvbnN0IHBsYW5lVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZVRyaW1lc2g7CmNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3YgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdmIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlcyA9IFtdOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7CmNvbnN0IHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lX3RvX3NwaGVyZV9vcnRobyA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbAoKY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gcG9pbnRJblBvbHlnb24odmVydHMsIG5vcm1hbCwgcCkgewogIGxldCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7CiAgY29uc3QgTiA9IHZlcnRzLmxlbmd0aDsKCiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgY29uc3QgdiA9IHZlcnRzW2ldOyAvLyBHZXQgZWRnZSB0byB0aGUgbmV4dCB2ZXJ0ZXgKCiAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTsKICAgIHZlcnRzWyhpICsgMSkgJSBOXS52c3ViKHYsIGVkZ2UpOyAvLyBHZXQgY3Jvc3MgcHJvZHVjdCBiZXR3ZWVuIHBvbHlnb24gbm9ybWFsIGFuZCB0aGUgZWRnZQoKICAgIGNvbnN0IGVkZ2VfeF9ub3JtYWwgPSBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsOyAvL2NvbnN0IGVkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpOwoKICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleAoKICAgIGNvbnN0IHZlcnRleF90b19wID0gcG9pbnRJblBvbHlnb25fdnRwOwogICAgcC52c3ViKHYsIHZlcnRleF90b19wKTsgLy8gVGhpcyBkb3QgcHJvZHVjdCBkZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgdGhlIGVkZ2UgdGhlIHBvaW50IGlzCgogICAgY29uc3QgciA9IGVkZ2VfeF9ub3JtYWwuZG90KHZlcnRleF90b19wKTsgLy8gSWYgYWxsIHN1Y2ggZG90IHByb2R1Y3RzIGhhdmUgc2FtZSBzaWduLCB3ZSBhcmUgaW5zaWRlIHRoZSBwb2x5Z29uLgoKICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCB8fCByID4gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gdHJ1ZSB8fCByIDw9IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCkgewogICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7CiAgICAgIH0KCiAgICAgIGNvbnRpbnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBFbmNvdW50ZXJlZCBzb21lIG90aGVyIHNpZ24uIEV4aXQuCiAgICB9CiAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICByZXR1cm4gdHJ1ZTsKfQoKY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9ucyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9uczEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwpjb25zdCBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lciA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMxID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMyID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDsKY29uc3QgY29udmV4X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVDb252ZXg7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94Owpjb25zdCBwbGFuZUNvbnZleF92ID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDb252ZXg7CmNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4Q29udmV4X3EgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OyAvLyBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFRyaW1lc2gKCmNvbnN0IHBhcnRpY2xlUGxhbmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcGFydGljbGVQbGFuZV9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVQYXJ0aWNsZTsKY29uc3QgcGFydGljbGVTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGFydGljbGU7IC8vIFdJUAoKY29uc3QgY3FqID0gbmV3IFF1YXRlcm5pb24oKTsKY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV9wZW5ldHJhdGVkRmFjZU5vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4UGFydGljbGU7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94SGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEhlaWdodGZpZWxkOwpjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0ID0gWzBdOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDsKY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDsKLyoqDQogKiBAY2xhc3MgT3ZlcmxhcEtlZXBlcg0KICogQGNvbnN0cnVjdG9yDQogKi8KCmNsYXNzIE92ZXJsYXBLZWVwZXIgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5jdXJyZW50ID0gW107CiAgICB0aGlzLnByZXZpb3VzID0gW107CiAgfQoKICBnZXRLZXkoaSwgaikgewogICAgaWYgKGogPCBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgcmV0dXJuIGkgPDwgMTYgfCBqOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGoNCiAgICovCgoKICBzZXQoaSwgaikgewogICAgLy8gSW5zZXJ0aW9uIHNvcnQuIFRoaXMgd2F5IHRoZSBkaWZmIHdpbGwgaGF2ZSBsaW5lYXIgY29tcGxleGl0eS4KICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KGksIGopOwogICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDsKICAgIGxldCBpbmRleCA9IDA7CgogICAgd2hpbGUgKGtleSA+IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgIGluZGV4Kys7CiAgICB9CgogICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHsKICAgICAgcmV0dXJuOyAvLyBQYWlyIHdhcyBhbHJlYWR5IGFkZGVkCiAgICB9CgogICAgZm9yIChsZXQgaiA9IGN1cnJlbnQubGVuZ3RoIC0gMTsgaiA+PSBpbmRleDsgai0tKSB7CiAgICAgIGN1cnJlbnRbaiArIDFdID0gY3VycmVudFtqXTsKICAgIH0KCiAgICBjdXJyZW50W2luZGV4XSA9IGtleTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgdGljaw0KICAgKi8KCgogIHRpY2soKSB7CiAgICBjb25zdCB0bXAgPSB0aGlzLmN1cnJlbnQ7CiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnByZXZpb3VzOwogICAgdGhpcy5wcmV2aW91cyA9IHRtcDsKICAgIHRoaXMuY3VycmVudC5sZW5ndGggPSAwOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXREaWZmDQogICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnMNCiAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzDQogICAqLwoKCiAgZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKSB7CiAgICBjb25zdCBhID0gdGhpcy5jdXJyZW50OwogICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7CiAgICBjb25zdCBhbCA9IGEubGVuZ3RoOwogICAgY29uc3QgYmwgPSBiLmxlbmd0aDsKICAgIGxldCBqID0gMDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsOyBpKyspIHsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgIGNvbnN0IGtleUEgPSBhW2ldOwoKICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7CiAgICAgICAgaisrOwogICAgICB9CgogICAgICBmb3VuZCA9IGtleUEgPT09IGJbal07CgogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgdW5wYWNrQW5kUHVzaChhZGRpdGlvbnMsIGtleUEpOwogICAgICB9CiAgICB9CgogICAgaiA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibDsgaSsrKSB7CiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICBjb25zdCBrZXlCID0gYltpXTsKCiAgICAgIHdoaWxlIChrZXlCID4gYVtqXSkgewogICAgICAgIGorKzsKICAgICAgfQoKICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCOwoKICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpOwogICAgICB9CiAgICB9CiAgfQoKfQoKZnVuY3Rpb24gdW5wYWNrQW5kUHVzaChhcnJheSwga2V5KSB7CiAgYXJyYXkucHVzaCgoa2V5ICYgMHhmZmZmMDAwMCkgPj4gMTYsIGtleSAmIDB4MDAwMGZmZmYpOwp9Ci8qKg0KICogQGNsYXNzIFR1cGxlRGljdGlvbmFyeQ0KICogQGNvbnN0cnVjdG9yDQogKi8KCgpjbGFzcyBUdXBsZURpY3Rpb25hcnkgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5kYXRhID0gewogICAgICBrZXlzOiBbXQogICAgfTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0DQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGoNCiAgICogQHJldHVybiB7T2JqZWN0fQ0KICAgKi8KCgogIGdldChpLCBqKSB7CiAgICBpZiAoaSA+IGopIHsKICAgICAgLy8gc3dhcAogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiB0aGlzLmRhdGFbaSArICItIiArIGpdOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge051bWJlcn0gag0KICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUNCiAgICovCgoKICBzZXQoaSwgaiwgdmFsdWUpIHsKICAgIGlmIChpID4gaikgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIGNvbnN0IGtleSA9IGkgKyAiLSIgKyBqOyAvLyBDaGVjayBpZiBrZXkgYWxyZWFkeSBleGlzdHMKCiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7CiAgICAgIHRoaXMuZGF0YS5rZXlzLnB1c2goa2V5KTsKICAgIH0KCiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZXNldA0KICAgKi8KCgogIHJlc2V0KCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7CgogICAgd2hpbGUgKGtleXMubGVuZ3RoID4gMCkgewogICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpOwogICAgICBkZWxldGUgZGF0YVtrZXldOwogICAgfQogIH0KCn0KLyoqDQogKiBUaGUgcGh5c2ljcyB3b3JsZA0KICogQGNsYXNzIFdvcmxkDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0DQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmdyYXZpdHldDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXBdDQogKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdDQogKiBAcGFyYW0ge1NvbHZlcn0gW29wdGlvbnMuc29sdmVyXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF0NCiAqLwoKCmNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRUYXJnZXQgewogIC8vIEN1cnJlbnRseSAvIGxhc3QgdXNlZCB0aW1lc3RlcC4gSXMgc2V0IHRvIC0xIGlmIG5vdCBhdmFpbGFibGUuIFRoaXMgdmFsdWUgaXMgdXBkYXRlZCBiZWZvcmUgZWFjaCBpbnRlcm5hbCBzdGVwLCB3aGljaCBtZWFucyB0aGF0IGl0IGlzICJmcmVzaCIgaW5zaWRlIGV2ZW50IGNhbGxiYWNrcy4KICAvLyBNYWtlcyBib2RpZXMgZ28gdG8gc2xlZXAgd2hlbiB0aGV5J3ZlIGJlZW4gaW5hY3RpdmUuCiAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuCiAgLy8gSG93IG9mdGVuIHRvIG5vcm1hbGl6ZSBxdWF0ZXJuaW9ucy4gU2V0IHRvIDAgZm9yIGV2ZXJ5IHN0ZXAsIDEgZm9yIGV2ZXJ5IHNlY29uZCBldGMuLiBBIGxhcmdlciB2YWx1ZSBpbmNyZWFzZXMgcGVyZm9ybWFuY2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBhIHNtYWxsZXIgdmFsdWUgKHplcm8gdG8gYmUgc3VyZSBub3RoaW5nIGNhbiBnbyB3cm9uZykuCiAgLy8gU2V0IHRvIHRydWUgdG8gdXNlIGZhc3QgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBJdCBpcyBvZnRlbiBlbm91Z2ggYWNjdXJhdGUgdG8gdXNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gZmFsc2UuCiAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LgogIC8vIE51bWJlciBvZiB0aW1lc3RlcHMgdGFrZW4gc2luY2Ugc3RhcnQuCiAgLy8gRGVmYXVsdCBhbmQgbGFzdCB0aW1lc3RlcCBzaXplcy4KICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS4KICAvLyBBbGwgYm9kaWVzIGluIHRoaXMgd29ybGQKICAvLyBUcnVlIGlmIGFueSBib2RpZXMgYXJlIG5vdCBzbGVlcGluZywgZmFsc2UgaWYgZXZlcnkgYm9keSBpcyBzbGVlcGluZy4KICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuCiAgLy8gQ29sbGlzaW9uTWF0cml4IGZyb20gdGhlIHByZXZpb3VzIHN0ZXAuCiAgLy8gQWxsIGFkZGVkIG1hdGVyaWFscy4KICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC4KICAvLyBUaGlzIGNvbnRhY3QgbWF0ZXJpYWwgaXMgdXNlZCBpZiBubyBzdWl0YWJsZSBjb250YWN0bWF0ZXJpYWwgaXMgZm91bmQgZm9yIGEgY29udGFjdC4KICAvLyBUaW1lIGFjY3VtdWxhdG9yIGZvciBpbnRlcnBvbGF0aW9uLiBTZWUgaHR0cDovL2dhZmZlcm9uZ2FtZXMuY29tL2dhbWUtcGh5c2ljcy9maXgteW91ci10aW1lc3RlcC8KICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuCiAgLy8gRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSB3b3JsZC4KICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLmR0ID0gLTE7CiAgICB0aGlzLmFsbG93U2xlZXAgPSAhIW9wdGlvbnMuYWxsb3dTbGVlcDsKICAgIHRoaXMuY29udGFjdHMgPSBbXTsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMgPSBbXTsKICAgIHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgPSBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwIDogMDsKICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7CiAgICB0aGlzLnRpbWUgPSAwLjA7CiAgICB0aGlzLnN0ZXBudW1iZXIgPSAwOwogICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwOwogICAgdGhpcy5uZXh0SWQgPSAwOwogICAgdGhpcy5ncmF2aXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5ncmF2aXR5KSB7CiAgICAgIHRoaXMuZ3Jhdml0eS5jb3B5KG9wdGlvbnMuZ3Jhdml0eSk7CiAgICB9CgogICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICB0aGlzLmJvZGllcyA9IFtdOwogICAgdGhpcy5oYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTsKICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7CiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107CiAgICB0aGlzLm5hcnJvd3BoYXNlID0gbmV3IE5hcnJvd3BoYXNlKHRoaXMpOwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgdGhpcy5tYXRlcmlhbHMgPSBbXTsKICAgIHRoaXMuY29udGFjdG1hdGVyaWFscyA9IFtdOwogICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTsKICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCdkZWZhdWx0Jyk7CiAgICB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgPSBuZXcgQ29udGFjdE1hdGVyaWFsKHRoaXMuZGVmYXVsdE1hdGVyaWFsLCB0aGlzLmRlZmF1bHRNYXRlcmlhbCwgewogICAgICBmcmljdGlvbjogMC4zLAogICAgICByZXN0aXR1dGlvbjogMC4wCiAgICB9KTsKICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTsKICAgIHRoaXMucHJvZmlsZSA9IHsKICAgICAgc29sdmU6IDAsCiAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsCiAgICAgIGJyb2FkcGhhc2U6IDAsCiAgICAgIGludGVncmF0ZTogMCwKICAgICAgbmFycm93cGhhc2U6IDAKICAgIH07CiAgICB0aGlzLmFjY3VtdWxhdG9yID0gMDsKICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdOwogICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7CiAgICAgIHR5cGU6ICdhZGRCb2R5JywKICAgICAgYm9keTogbnVsbAogICAgfTsKICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50ID0gewogICAgICB0eXBlOiAncmVtb3ZlQm9keScsCiAgICAgIGJvZHk6IG51bGwKICAgIH07CiAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307CiAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGNvbnRhY3QgbWF0ZXJpYWwgYmV0d2VlbiBtYXRlcmlhbHMgbTEgYW5kIG0yDQogICAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsDQogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xDQogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0yDQogICAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWYgaXQgd2FzIGZvdW5kLg0KICAgKi8KCgogIGdldENvbnRhY3RNYXRlcmlhbChtMSwgbTIpIHsKICAgIHJldHVybiB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmdldChtMS5pZCwgbTIuaWQpOwogIH0KICAvKioNCiAgICogR2V0IG51bWJlciBvZiBvYmplY3RzIGluIHRoZSB3b3JsZC4NCiAgICogQG1ldGhvZCBudW1PYmplY3RzDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICogQGRlcHJlY2F0ZWQNCiAgICovCgoKICBudW1PYmplY3RzKCkgewogICAgcmV0dXJuIHRoaXMuYm9kaWVzLmxlbmd0aDsKICB9CiAgLyoqDQogICAqIFN0b3JlIG9sZCBjb2xsaXNpb24gc3RhdGUgaW5mbw0KICAgKiBAbWV0aG9kIGNvbGxpc2lvbk1hdHJpeFRpY2sNCiAgICovCgoKICBjb2xsaXNpb25NYXRyaXhUaWNrKCkgewogICAgY29uc3QgdGVtcCA9IHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXM7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IHRlbXA7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5yZXNldCgpOwogICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgfQogIC8qKg0KICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBzaW11bGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnQNCiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjDQogICAqLwoKCiAgYWRkQ29uc3RyYWludChjKSB7CiAgICB0aGlzLmNvbnN0cmFpbnRzLnB1c2goYyk7CiAgfQogIC8qKg0KICAgKiBSZW1vdmVzIGEgY29uc3RyYWludA0KICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnQNCiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjDQogICAqLwoKCiAgcmVtb3ZlQ29uc3RyYWludChjKSB7CiAgICBjb25zdCBpZHggPSB0aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YoYyk7CgogICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgdGhpcy5jb25zdHJhaW50cy5zcGxpY2UoaWR4LCAxKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFJheWNhc3QgdGVzdA0KICAgKiBAbWV0aG9kIHJheVRlc3QNCiAgICogQHBhcmFtIHtWZWMzfSBmcm9tDQogICAqIEBwYXJhbSB7VmVjM30gdG8NCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQGRlcHJlY2F0ZWQgVXNlIC5yYXljYXN0QWxsLCAucmF5Y2FzdENsb3Nlc3Qgb3IgLnJheWNhc3RBbnkgaW5zdGVhZC4NCiAgICovCgoKICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHsKICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSYXljYXN0UmVzdWx0KSB7CiAgICAgIC8vIERvIHJheWNhc3RDbG9zZXN0CiAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHsKICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlCiAgICAgIH0sIHJlc3VsdCk7CiAgICB9IGVsc2UgewogICAgICAvLyBEbyByYXljYXN0QWxsCiAgICAgIHRoaXMucmF5Y2FzdEFsbChmcm9tLCB0bywgewogICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgfSwgcmVzdWx0KTsKICAgIH0KICB9CiAgLyoqDQogICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC4NCiAgICogQG1ldGhvZCByYXljYXN0QWxsDQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RBbGwoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgY2FsbGJhY2spIHsKICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7CiAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgb3B0aW9ucy50byA9IHRvOwogICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogIH0KICAvKioNCiAgICogUmF5IGNhc3QsIGFuZCBzdG9wIGF0IHRoZSBmaXJzdCByZXN1bHQuIE5vdGUgdGhhdCB0aGUgb3JkZXIgaXMgcmFuZG9tIC0gYnV0IHRoZSBtZXRob2QgaXMgZmFzdC4NCiAgICogQG1ldGhvZCByYXljYXN0QW55DQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RBbnkoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgcmVzdWx0KSB7CiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZOwogICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgIG9wdGlvbnMudG8gPSB0bzsKICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0OwogICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogIH0KICAvKioNCiAgICogUmF5IGNhc3QsIGFuZCByZXR1cm4gaW5mb3JtYXRpb24gb2YgdGhlIGNsb3Nlc3QgaGl0Lg0KICAgKiBAbWV0aG9kIHJheWNhc3RDbG9zZXN0DQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkgewogICAgb3B0aW9ucy5tb2RlID0gUmF5LkNMT1NFU1Q7CiAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgb3B0aW9ucy50byA9IHRvOwogICAgb3B0aW9ucy5yZXN1bHQgPSByZXN1bHQ7CiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgfQogIC8qKg0KICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZA0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLg0KICAgKiBAdG9kbyBBZGRpbmcgYW4gYXJyYXkgb2YgYm9kaWVzIHNob3VsZCBiZSBwb3NzaWJsZS4gVGhpcyB3b3VsZCBzYXZlIHNvbWUgbG9vcHMgdG9vDQogICAqLwoKCiAgYWRkQm9keShib2R5KSB7CiAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7CiAgICB0aGlzLmJvZGllcy5wdXNoKGJvZHkpOwogICAgYm9keS53b3JsZCA9IHRoaXM7CiAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pOwogICAgYm9keS5pbml0VmVsb2NpdHkuY29weShib2R5LnZlbG9jaXR5KTsKICAgIGJvZHkudGltZUxhc3RTbGVlcHkgPSB0aGlzLnRpbWU7CgogICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCb2R5KSB7CiAgICAgIGJvZHkuaW5pdEFuZ3VsYXJWZWxvY2l0eS5jb3B5KGJvZHkuYW5ndWxhclZlbG9jaXR5KTsKICAgICAgYm9keS5pbml0UXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbik7CiAgICB9CgogICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyh0aGlzLmJvZGllcy5sZW5ndGgpOwogICAgdGhpcy5hZGRCb2R5RXZlbnQuYm9keSA9IGJvZHk7CiAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmFkZEJvZHlFdmVudCk7CiAgfQogIC8qKg0KICAgKiBSZW1vdmUgYSByaWdpZCBib2R5IGZyb20gdGhlIHNpbXVsYXRpb24uDQogICAqIEBtZXRob2QgcmVtb3ZlDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keQ0KICAgKi8KCgogIHJlbW92ZUJvZHkoYm9keSkgewogICAgYm9keS53b3JsZCA9IG51bGw7CiAgICBjb25zdCBuID0gdGhpcy5ib2RpZXMubGVuZ3RoIC0gMTsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgY29uc3QgaWR4ID0gYm9kaWVzLmluZGV4T2YoYm9keSk7CgogICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZAogICAgICAvLyBSZWNvbXB1dGUgaW5kZXgKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpOwogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKG4pOwogICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgICAgZGVsZXRlIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF07CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7CiAgICB9CiAgfQoKICBnZXRCb2R5QnlJZChpZCkgewogICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdOwogIH0gLy8gVE9ETyBNYWtlIGEgZmFzdGVyIG1hcAoKCiAgZ2V0U2hhcGVCeUlkKGlkKSB7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKCiAgICBmb3IgKGxldCBpID0gMCwgYmwgPSBib2RpZXMubGVuZ3RoOyBpIDwgYmw7IGkrKykgewogICAgICBjb25zdCBzaGFwZXMgPSBib2RpZXNbaV0uc2hhcGVzOwoKICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHsKICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tqXTsKCiAgICAgICAgaWYgKHNoYXBlLmlkID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIHNoYXBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQWRkcyBhIG1hdGVyaWFsIHRvIHRoZSBXb3JsZC4NCiAgICogQG1ldGhvZCBhZGRNYXRlcmlhbA0KICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtDQogICAqIEB0b2RvIE5lY2Vzc2FyeT8NCiAgICovCgoKICBhZGRNYXRlcmlhbChtKSB7CiAgICB0aGlzLm1hdGVyaWFscy5wdXNoKG0pOwogIH0KICAvKioNCiAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkDQogICAqIEBtZXRob2QgYWRkQ29udGFjdE1hdGVyaWFsDQogICAqIEBwYXJhbSB7Q29udGFjdE1hdGVyaWFsfSBjbWF0DQogICAqLwoKCiAgYWRkQ29udGFjdE1hdGVyaWFsKGNtYXQpIHsKICAgIC8vIEFkZCBjb250YWN0IG1hdGVyaWFsCiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMucHVzaChjbWF0KTsgLy8gQWRkIGN1cnJlbnQgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgbWF0ZXJpYWwgdGFibGUKCiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLnNldChjbWF0Lm1hdGVyaWFsc1swXS5pZCwgY21hdC5tYXRlcmlhbHNbMV0uaWQsIGNtYXQpOwogIH0KICAvKioNCiAgICogU3RlcCB0aGUgcGh5c2ljcyB3b3JsZCBmb3J3YXJkIGluIHRpbWUuDQogICAqDQogICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLg0KICAgKg0KICAgKiBAbWV0aG9kIHN0ZXANCiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLg0KICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVTaW5jZUxhc3RDYWxsZWRdICAgIFRoZSB0aW1lIGVsYXBzZWQgc2luY2UgdGhlIGZ1bmN0aW9uIHdhcyBsYXN0IGNhbGxlZC4NCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhTdWJTdGVwcz0xMF0gICAgICAgICBNYXhpbXVtIG51bWJlciBvZiBmaXhlZCBzdGVwcyB0byB0YWtlIHBlciBmdW5jdGlvbiBjYWxsLg0KICAgKg0KICAgKiBAZXhhbXBsZQ0KICAgKiAgICAgLy8gZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbg0KICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTsNCiAgICoNCiAgICogQHNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5vcmcvbWVkaWF3aWtpLTEuNS44L2luZGV4LnBocC9TdGVwcGluZ19UaGVfV29ybGQNCiAgICovCgoKICBzdGVwKGR0LCB0aW1lU2luY2VMYXN0Q2FsbGVkLCBtYXhTdWJTdGVwcyA9IDEwKSB7CiAgICBpZiAodGltZVNpbmNlTGFzdENhbGxlZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vIEZpeGVkLCBzaW1wbGUgc3RlcHBpbmcKICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpOyAvLyBJbmNyZW1lbnQgdGltZQoKICAgICAgdGhpcy50aW1lICs9IGR0OwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5hY2N1bXVsYXRvciArPSB0aW1lU2luY2VMYXN0Q2FsbGVkOwogICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgc3Vic3RlcHMgPSAwOwoKICAgICAgd2hpbGUgKHRoaXMuYWNjdW11bGF0b3IgPj0gZHQgJiYgc3Vic3RlcHMgPCBtYXhTdWJTdGVwcykgewogICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwCiAgICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpOwogICAgICAgIHRoaXMuYWNjdW11bGF0b3IgLT0gZHQ7CiAgICAgICAgc3Vic3RlcHMrKzsKCiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpIC0gdDAgPiBkdCAqIDIgKiAxMDAwKSB7CiAgICAgICAgICAvLyBUaGUgZnJhbWVyYXRlIGlzIG5vdCBpbnRlcmFjdGl2ZSBhbnltb3JlLgogICAgICAgICAgLy8gV2UgYXJlIGF0IGhhbGYgb2YgdGhlIHRhcmdldCBmcmFtZXJhdGUuCiAgICAgICAgICAvLyBCZXR0ZXIgYmFpbCBvdXQuCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gLy8gUmVtb3ZlIHRoZSBleGNlc3MgYWNjdW11bGF0b3IsIHNpbmNlIHdlIG1heSBub3QKICAgICAgLy8gaGF2ZSBoYWQgZW5vdWdoIHN1YnN0ZXBzIGF2YWlsYWJsZSB0byBjYXRjaCB1cAoKCiAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSB0aGlzLmFjY3VtdWxhdG9yICUgZHQ7CiAgICAgIGNvbnN0IHQgPSB0aGlzLmFjY3VtdWxhdG9yIC8gZHQ7CgogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBjb25zdCBiID0gdGhpcy5ib2RpZXNbal07CiAgICAgICAgYi5wcmV2aW91c1Bvc2l0aW9uLmxlcnAoYi5wb3NpdGlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRQb3NpdGlvbik7CiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pOwogICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLm5vcm1hbGl6ZSgpOwogICAgICB9CgogICAgICB0aGlzLnRpbWUgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgIH0KICB9CgogIGludGVybmFsU3RlcChkdCkgewogICAgdGhpcy5kdCA9IGR0OwogICAgY29uc3QgY29udGFjdHMgPSB0aGlzLmNvbnRhY3RzOwogICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxOwogICAgY29uc3QgcDIgPSBXb3JsZF9zdGVwX3AyOwogICAgY29uc3QgTiA9IHRoaXMubnVtT2JqZWN0cygpOwogICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICBjb25zdCBzb2x2ZXIgPSB0aGlzLnNvbHZlcjsKICAgIGNvbnN0IGdyYXZpdHkgPSB0aGlzLmdyYXZpdHk7CiAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7CiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlOwogICAgY29uc3QgRFlOQU1JQyA9IEJvZHkuRFlOQU1JQzsKICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTsKICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50czsKICAgIGNvbnN0IGZyaWN0aW9uRXF1YXRpb25Qb29sID0gV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgIGNvbnN0IGdub3JtID0gZ3Jhdml0eS5sZW5ndGgoKTsKICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54OwogICAgY29uc3QgZ3kgPSBncmF2aXR5Lnk7CiAgICBjb25zdCBneiA9IGdyYXZpdHkuejsKICAgIGxldCBpID0gMDsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gQWRkIGdyYXZpdHkgdG8gYWxsIG9iamVjdHMKCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLnR5cGUgPT09IERZTkFNSUMpIHsKICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllcwogICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTsKICAgICAgICBjb25zdCBtID0gYmkubWFzczsKICAgICAgICBmLnggKz0gbSAqIGd4OwogICAgICAgIGYueSArPSBtICogZ3k7CiAgICAgICAgZi56ICs9IG0gKiBnejsKICAgICAgfQogICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtcwoKCiAgICBmb3IgKGxldCBpID0gMCwgTnN1YnN5c3RlbXMgPSB0aGlzLnN1YnN5c3RlbXMubGVuZ3RoOyBpICE9PSBOc3Vic3lzdGVtczsgaSsrKSB7CiAgICAgIHRoaXMuc3Vic3lzdGVtc1tpXS51cGRhdGUoKTsKICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvbgoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0KCiAgICBwMS5sZW5ndGggPSAwOyAvLyBDbGVhbiB1cCBwYWlyIGFycmF5cyBmcm9tIGxhc3Qgc3RlcAoKICAgIHAyLmxlbmd0aCA9IDA7CiAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlzaW9uUGFpcnModGhpcywgcDEsIHAyKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgIH0gLy8gUmVtb3ZlIGNvbnN0cmFpbmVkIHBhaXJzIHdpdGggY29sbGlkZUNvbm5lY3RlZCA9PSBmYWxzZQoKCiAgICBsZXQgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKCiAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IHAxLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7CiAgICAgICAgICBpZiAoYy5ib2R5QSA9PT0gcDFbal0gJiYgYy5ib2R5QiA9PT0gcDJbal0gfHwgYy5ib2R5QiA9PT0gcDFbal0gJiYgYy5ib2R5QSA9PT0gcDJbal0pIHsKICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpOwogICAgICAgICAgICBwMi5zcGxpY2UoaiwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCk7IC8vIEdlbmVyYXRlIGNvbnRhY3RzCgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9CgogICAgY29uc3Qgb2xkY29udGFjdHMgPSBXb3JsZF9zdGVwX29sZENvbnRhY3RzOwogICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRDb250YWN0czsgaSsrKSB7CiAgICAgIG9sZGNvbnRhY3RzLnB1c2goY29udGFjdHNbaV0pOwogICAgfQoKICAgIGNvbnRhY3RzLmxlbmd0aCA9IDA7IC8vIFRyYW5zZmVyIEZyaWN0aW9uRXF1YXRpb24gZnJvbSBjdXJyZW50IGxpc3QgdG8gdGhlIHBvb2wgZm9yIHJldXNlCgogICAgY29uc3QgTm9sZEZyaWN0aW9uRXF1YXRpb25zID0gdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHsKICAgICAgZnJpY3Rpb25FcXVhdGlvblBvb2wucHVzaCh0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTsKICAgIH0KCiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICB0aGlzLm5hcnJvd3BoYXNlLmdldENvbnRhY3RzKHAxLCBwMiwgdGhpcywgY29udGFjdHMsIG9sZGNvbnRhY3RzLCAvLyBUbyBiZSByZXVzZWQKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMsIGZyaWN0aW9uRXF1YXRpb25Qb29sKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5uYXJyb3dwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIExvb3Agb3ZlciBhbGwgY29sbGlzaW9ucwoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gQWRkIGFsbCBmcmljdGlvbiBlcXMKCgogICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgfQoKICAgIGNvbnN0IG5jb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHsKICAgICAgLy8gQ3VycmVudCBjb250YWN0CiAgICAgIGNvbnN0IGMgPSBjb250YWN0c1trXTsgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGluZGVjZXMKCiAgICAgIGNvbnN0IGJpID0gYy5iaTsKICAgICAgY29uc3QgYmogPSBjLmJqOwogICAgICBjb25zdCBzaSA9IGMuc2k7CiAgICAgIGNvbnN0IHNqID0gYy5zajsgLy8gR2V0IGNvbGxpc2lvbiBwcm9wZXJ0aWVzCgogICAgICBsZXQgY207CgogICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB9IGVsc2UgewogICAgICAgIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwoKCiAgICAgIGxldCBtdSA9IGNtLmZyaWN0aW9uOyAvLyBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247CiAgICAgIC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW0KCiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgIGlmIChiaS5tYXRlcmlhbC5mcmljdGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLmZyaWN0aW9uID49IDApIHsKICAgICAgICAgIG11ID0gYmkubWF0ZXJpYWwuZnJpY3Rpb24gKiBiai5tYXRlcmlhbC5mcmljdGlvbjsKICAgICAgICB9CgogICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHsKICAgICAgICAgIGMucmVzdGl0dXRpb24gPSBiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiAqIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uOwogICAgICAgIH0KICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKAogICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLAogICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwKICAgICAgLy8gICAgICAgICAgIGR0CiAgICAgIC8vICAgICAgICk7CgoKICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGMpOyAvLyAvLyBBZGQgZnJpY3Rpb24gY29uc3RyYWludCBlcXVhdGlvbgogICAgICAvLyBpZihtdSA+IDApewogICAgICAvLyAJLy8gQ3JlYXRlIDIgdGFuZ2VudCBlcXVhdGlvbnMKICAgICAgLy8gCWNvbnN0IG11ZyA9IG11ICogZ25vcm07CiAgICAgIC8vIAljb25zdCByZWR1Y2VkTWFzcyA9IChiaS5pbnZNYXNzICsgYmouaW52TWFzcyk7CiAgICAgIC8vIAlpZihyZWR1Y2VkTWFzcyA+IDApewogICAgICAvLyAJCXJlZHVjZWRNYXNzID0gMS9yZWR1Y2VkTWFzczsKICAgICAgLy8gCX0KICAgICAgLy8gCWNvbnN0IHBvb2wgPSBmcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgLy8gCWNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgLy8gCWNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgLy8gCXRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaChjMSwgYzIpOwogICAgICAvLyAJYzEuYmkgPSBjMi5iaSA9IGJpOwogICAgICAvLyAJYzEuYmogPSBjMi5iaiA9IGJqOwogICAgICAvLyAJYzEubWluRm9yY2UgPSBjMi5taW5Gb3JjZSA9IC1tdWcqcmVkdWNlZE1hc3M7CiAgICAgIC8vIAljMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnKnJlZHVjZWRNYXNzOwogICAgICAvLyAJLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCiAgICAgIC8vIAljMS5yaS5jb3B5KGMucmkpOwogICAgICAvLyAJYzEucmouY29weShjLnJqKTsKICAgICAgLy8gCWMyLnJpLmNvcHkoYy5yaSk7CiAgICAgIC8vIAljMi5yai5jb3B5KGMucmopOwogICAgICAvLyAJLy8gQ29uc3RydWN0IHRhbmdlbnRzCiAgICAgIC8vIAljLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOwogICAgICAvLyAgICAgICAgICAgLy8gU2V0IHNwb29rIHBhcmFtcwogICAgICAvLyAgICAgICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTsKICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgIC8vICAgICAgICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGMuZW5hYmxlZDsKICAgICAgLy8gCS8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyCiAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzEpOwogICAgICAvLyAJc29sdmVyLmFkZEVxdWF0aW9uKGMyKTsKICAgICAgLy8gfQoKICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEIgPSBiai52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiai5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpOwogICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQiA9IGJqLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQiA+PSBzcGVlZExpbWl0U3F1YXJlZEIgKiAyKSB7CiAgICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChiai5hbGxvd1NsZWVwICYmIGJqLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmkudHlwZSAhPT0gQm9keS5TVEFUSUMpIHsKICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRBID0gYmkudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmkuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEEgPj0gc3BlZWRMaW1pdFNxdWFyZWRBICogMikgewogICAgICAgICAgYmoud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9IC8vIE5vdyB3ZSBrbm93IHRoYXQgaSBhbmQgaiBhcmUgaW4gY29udGFjdC4gU2V0IGNvbGxpc2lvbiBtYXRyaXggc3RhdGUKCgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXQoYmksIGJqLCB0cnVlKTsKCiAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkgewogICAgICAgIC8vIEZpcnN0IGNvbnRhY3QhCiAgICAgICAgLy8gV2UgcmV1c2UgdGhlIGNvbGxpZGVFdmVudCBvYmplY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGVuZCB1cCBjcmVhdGluZyBuZXcgb2JqZWN0cyBmb3IgZWFjaCBuZXcgY29udGFjdCwgZXZlbiBpZiB0aGVyZSdzIG5vIGV2ZW50IGxpc3RlbmVyIGF0dGFjaGVkLgogICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajsKICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5jb250YWN0ID0gYzsKICAgICAgICBiaS5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7CiAgICAgICAgYmouZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7CiAgICAgIH0KCiAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgfQoKICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5tYWtlQ29udGFjdENvbnN0cmFpbnRzID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gV2FrZSB1cCBib2RpZXMKCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UpIHsKICAgICAgICBiaS53YWtlVXAoKTsKICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICAgIH0KICAgIH0gLy8gQWRkIHVzZXItYWRkZWQgY29uc3RyYWludHMKCgogICAgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKICAgICAgYy51cGRhdGUoKTsKCiAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgY29uc3QgZXEgPSBjLmVxdWF0aW9uc1tqXTsKICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb24oZXEpOwogICAgICB9CiAgICB9IC8vIFNvbHZlIHRoZSBjb25zdHJhaW5lZCBzeXN0ZW0KCgogICAgc29sdmVyLnNvbHZlKGR0LCB0aGlzKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5zb2x2ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIFJlbW92ZSBhbGwgY29udGFjdHMgZnJvbSBzb2x2ZXIKCgogICAgc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpOyAvLyBBcHBseSBkYW1waW5nLCBzZWUgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2J1bGxldC9pc3N1ZXMvZGV0YWlsP2lkPTc0IGZvciBkZXRhaWxzCgogICAgY29uc3QgcG93ID0gTWF0aC5wb3c7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLnR5cGUgJiBEWU5BTUlDKSB7CiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICBjb25zdCBsZCA9IHBvdygxLjAgLSBiaS5saW5lYXJEYW1waW5nLCBkdCk7CiAgICAgICAgY29uc3QgdiA9IGJpLnZlbG9jaXR5OwogICAgICAgIHYuc2NhbGUobGQsIHYpOwogICAgICAgIGNvbnN0IGF2ID0gYmkuYW5ndWxhclZlbG9jaXR5OwoKICAgICAgICBpZiAoYXYpIHsKICAgICAgICAgIGNvbnN0IGFkID0gcG93KDEuMCAtIGJpLmFuZ3VsYXJEYW1waW5nLCBkdCk7CiAgICAgICAgICBhdi5zY2FsZShhZCwgYXYpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCk7IC8vIEludm9rZSBwcmUtc3RlcCBjYWxsYmFja3MKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBpZiAoYmkucHJlU3RlcCkgewogICAgICAgIGJpLnByZVN0ZXAuY2FsbChiaSk7CiAgICAgIH0KICAgIH0gLy8gTGVhcCBmcm9nCiAgICAvLyB2bmV3ID0gdiArIGgqZi9tCiAgICAvLyB4bmV3ID0geCArIGgqdm5ldwoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0KCiAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyOwogICAgY29uc3QgcXVhdE5vcm1hbGl6ZSA9IHN0ZXBudW1iZXIgJSAodGhpcy5xdWF0Tm9ybWFsaXplU2tpcCArIDEpID09PSAwOwogICAgY29uc3QgcXVhdE5vcm1hbGl6ZUZhc3QgPSB0aGlzLnF1YXROb3JtYWxpemVGYXN0OwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBib2RpZXNbaV0uaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCk7CiAgICB9CgogICAgdGhpcy5jbGVhckZvcmNlcygpOwogICAgdGhpcy5icm9hZHBoYXNlLmRpcnR5ID0gdHJ1ZTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgfSAvLyBVcGRhdGUgd29ybGQgdGltZQoKCiAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICB0aGlzLnN0ZXBudW1iZXIgKz0gMTsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQpOyAvLyBJbnZva2UgcG9zdC1zdGVwIGNhbGxiYWNrcwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKICAgICAgY29uc3QgcG9zdFN0ZXAgPSBiaS5wb3N0U3RlcDsKCiAgICAgIGlmIChwb3N0U3RlcCkgewogICAgICAgIHBvc3RTdGVwLmNhbGwoYmkpOwogICAgICB9CiAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZQoKCiAgICBsZXQgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKCiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CiAgICAgICAgYmkuc2xlZXBUaWNrKHRoaXMudGltZSk7CgogICAgICAgIGlmIChiaS5zbGVlcFN0YXRlICE9PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgICBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzOwogIH0KICAvKioNCiAgICogU2V0cyBhbGwgYm9keSBmb3JjZXMgaW4gdGhlIHdvcmxkIHRvIHplcm8uDQogICAqIEBtZXRob2QgY2xlYXJGb3JjZXMNCiAgICovCgoKICBjbGVhckZvcmNlcygpIHsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICBjb25zdCBmb3JjZSA9IGIuZm9yY2U7CiAgICAgIGNvbnN0IHRhdSA9IGIudG9ycXVlOwogICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTsKICAgICAgYi50b3JxdWUuc2V0KDAsIDAsIDApOwogICAgfQogIH0KCn0gLy8gVGVtcCBzdHVmZgoKCmNvbnN0IHRtcEFBQkIxID0gbmV3IEFBQkIoKTsKY29uc3QgdG1wUmF5JDEgPSBuZXcgUmF5KCk7IC8vIHBlcmZvcm1hbmNlLm5vdygpIGZhbGxiYWNrIG9uIERhdGUubm93KCkKCmNvbnN0IHBlcmZvcm1hbmNlID0gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSB8fCB7fTsKCmlmICghcGVyZm9ybWFuY2Uubm93KSB7CiAgbGV0IG5vd09mZnNldCA9IERhdGUubm93KCk7CgogIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkgewogICAgbm93T2Zmc2V0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDsKICB9CgogIHBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7Cn0gLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS4KCgpjb25zdCBXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQgPSB7CiAgdHlwZTogJ3Bvc3RTdGVwJwp9OyAvLyBEaXNwYXRjaGVkIGJlZm9yZSB0aGUgd29ybGQgc3RlcHMgZm9yd2FyZCBpbiB0aW1lLgoKY29uc3QgV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQgPSB7CiAgdHlwZTogJ3ByZVN0ZXAnCn07CmNvbnN0IFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50ID0gewogIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLAogIGJvZHk6IG51bGwsCiAgY29udGFjdDogbnVsbAp9OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHMKCmNvbnN0IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHMgPSBbXTsKY29uc3QgV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOyAvLyBSZXVzYWJsZSBhcnJheXMgZm9yIGNvbGxpc2lvbiBwYWlycwoKY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdOwpjb25zdCBXb3JsZF9zdGVwX3AyID0gW107CgpXb3JsZC5wcm90b3R5cGUuZW1pdENvbnRhY3RFdmVudHMgPSAoKCkgPT4gewogIGNvbnN0IGFkZGl0aW9ucyA9IFtdOwogIGNvbnN0IHJlbW92YWxzID0gW107CiAgY29uc3QgYmVnaW5Db250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5Db250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGVuZENvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdlbmRDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5TaGFwZUNvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbCwKICAgIHNoYXBlQTogbnVsbCwKICAgIHNoYXBlQjogbnVsbAogIH07CiAgY29uc3QgZW5kU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnZW5kU2hhcGVDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwsCiAgICBzaGFwZUE6IG51bGwsCiAgICBzaGFwZUI6IG51bGwKICB9OwogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpOwogICAgY29uc3QgaGFzRW5kQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kQ29udGFjdCcpOwoKICAgIGlmIChoYXNCZWdpbkNvbnRhY3QgfHwgaGFzRW5kQ29udGFjdCkgewogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICB9CgogICAgaWYgKGhhc0JlZ2luQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luQ29udGFjdEV2ZW50KTsKICAgICAgfQoKICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUEgPSBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7CiAgICB9CgogICAgaWYgKGhhc0VuZENvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2kgKyAxXSk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZENvbnRhY3RFdmVudCk7CiAgICAgIH0KCiAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7CiAgICB9CgogICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7CiAgICBjb25zdCBoYXNCZWdpblNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5TaGFwZUNvbnRhY3QnKTsKICAgIGNvbnN0IGhhc0VuZFNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kU2hhcGVDb250YWN0Jyk7CgogICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0IHx8IGhhc0VuZFNoYXBlQ29udGFjdCkgewogICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpOwogICAgfQoKICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaV0pOwogICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTsKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luU2hhcGVDb250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgfQoKICAgIGlmIChoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpXSk7CiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCOwogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kU2hhcGVDb250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDsKICAgIH0KICB9Owp9KSgpOwoKbGV0IGJvZGllcyA9IHt9Owpjb25zdCB2ZWhpY2xlcyA9IHt9Owpjb25zdCBzcHJpbmdzID0ge307CmNvbnN0IHJheXMgPSB7fTsKY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKTsKY29uc3QgY29uZmlnID0gewogIHN0ZXA6IDEgLyA2MAp9Owpjb25zdCBzdWJzY3JpcHRpb25zID0ge307CmNvbnN0IHRlbXBWZWN0b3IgPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykgewogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnQm94JzoKICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncy5tYXAodiA9PiB2IC8gMikpKTsKICAgIC8vIGV4dGVudHMgPT4gaGFsZkV4dGVudHMKCiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzoKICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnczsKICAgICAgcmV0dXJuIG5ldyBDb252ZXhQb2x5aGVkcm9uKHsKICAgICAgICB2ZXJ0aWNlczogdi5tYXAoKFt4LCB5LCB6XSkgPT4gbmV3IFZlYzMoeCwgeSwgeikpLAogICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLAogICAgICAgIGZhY2VzOiBmCiAgICAgIH0pOwoKICAgIGNhc2UgJ0N5bGluZGVyJzoKICAgICAgcmV0dXJuIG5ldyBDeWxpbmRlciguLi5hcmdzKTsKICAgIC8vIFsgcmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMgXSA9IGFyZ3MKCiAgICBjYXNlICdIZWlnaHRmaWVsZCc6CiAgICAgIHJldHVybiBuZXcgSGVpZ2h0ZmllbGQoLi4uYXJncyk7CiAgICAvLyBbIEFycmF5IGRhdGEsIG9wdGlvbnM6IHttaW5WYWx1ZSwgbWF4VmFsdWUsIGVsZW1lbnRTaXplfSAgXSA9IGFyZ3MKCiAgICBjYXNlICdQYXJ0aWNsZSc6CiAgICAgIHJldHVybiBuZXcgUGFydGljbGUoKTsKICAgIC8vIG5vIGFyZ3MKCiAgICBjYXNlICdQbGFuZSc6CiAgICAgIHJldHVybiBuZXcgUGxhbmUoKTsKICAgIC8vIG5vIGFyZ3MsIGluZmluaXRlIHggYW5kIHkKCiAgICBjYXNlICdTcGhlcmUnOgogICAgICByZXR1cm4gbmV3IFNwaGVyZSguLi5hcmdzKTsKICAgIC8vIFtyYWRpdXNdID0gYXJncwoKICAgIGNhc2UgJ1RyaW1lc2gnOgogICAgICByZXR1cm4gbmV3IFRyaW1lc2goLi4uYXJncyk7CiAgICAvLyBbdmVydGljZXMsIGluZGljZXNdID0gYXJncwogIH0KfQoKZnVuY3Rpb24gc3luY0JvZGllcygpIHsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIG9wOiAnc3luYycsCiAgICBib2RpZXM6IHdvcmxkLmJvZGllcy5tYXAoYm9keSA9PiBib2R5LnV1aWQpCiAgfSk7CiAgYm9kaWVzID0gd29ybGQuYm9kaWVzLnJlZHVjZSgoYWNjLCBib2R5KSA9PiAoeyAuLi5hY2MsCiAgICBbYm9keS51dWlkXTogYm9keQogIH0pLCB7fSk7Cn0KCnNlbGYub25tZXNzYWdlID0gZSA9PiB7CiAgY29uc3QgewogICAgb3AsCiAgICB1dWlkLAogICAgdHlwZSwKICAgIHBvc2l0aW9ucywKICAgIHF1YXRlcm5pb25zLAogICAgcHJvcHMKICB9ID0gZS5kYXRhOwoKICBzd2l0Y2ggKG9wKSB7CiAgICBjYXNlICdpbml0JzoKICAgICAgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGdyYXZpdHksCiAgICAgICAgICB0b2xlcmFuY2UsCiAgICAgICAgICBzdGVwLAogICAgICAgICAgaXRlcmF0aW9ucywKICAgICAgICAgIGFsbG93U2xlZXAsCiAgICAgICAgICBicm9hZHBoYXNlLAogICAgICAgICAgYXhpc0luZGV4LAogICAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbAogICAgICAgIH0gPSBwcm9wczsKICAgICAgICBjb25zdCBicm9hZHBoYXNlcyA9IHsKICAgICAgICAgIE5haXZlQnJvYWRwaGFzZSwKICAgICAgICAgIFNBUEJyb2FkcGhhc2UKICAgICAgICB9OwogICAgICAgIHdvcmxkLmFsbG93U2xlZXAgPSBhbGxvd1NsZWVwOwogICAgICAgIHdvcmxkLmdyYXZpdHkuc2V0KGdyYXZpdHlbMF0sIGdyYXZpdHlbMV0sIGdyYXZpdHlbMl0pOwogICAgICAgIHdvcmxkLnNvbHZlci50b2xlcmFuY2UgPSB0b2xlcmFuY2U7CiAgICAgICAgd29ybGQuc29sdmVyLml0ZXJhdGlvbnMgPSBpdGVyYXRpb25zOwogICAgICAgIHdvcmxkLmJyb2FkcGhhc2UgPSBuZXcgKGJyb2FkcGhhc2VzW2Jyb2FkcGhhc2UgKyAnQnJvYWRwaGFzZSddIHx8IE5haXZlQnJvYWRwaGFzZSkod29ybGQpOwogICAgICAgIHdvcmxkLmJyb2FkcGhhc2UuYXhpc0luZGV4ID0gYXhpc0luZGV4ICE9IG51bGwgPyBheGlzSW5kZXggOiAwOwogICAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCk7CiAgICAgICAgY29uZmlnLnN0ZXAgPSBzdGVwOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc3RlcCc6CiAgICAgIHsKICAgICAgICB3b3JsZC5zdGVwKGNvbmZpZy5zdGVwKTsKICAgICAgICBjb25zdCBudW1iZXJPZkJvZGllcyA9IHdvcmxkLmJvZGllcy5sZW5ndGg7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZCb2RpZXM7IGkrKykgewogICAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sCiAgICAgICAgICAgICAgcCA9IGIucG9zaXRpb24sCiAgICAgICAgICAgICAgcSA9IGIucXVhdGVybmlvbjsKICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDBdID0gcC54OwogICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMV0gPSBwLnk7CiAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAyXSA9IHAuejsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMF0gPSBxLng7CiAgICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDFdID0gcS55OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAyXSA9IHEuejsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgM10gPSBxLnc7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBvYnNlcnZhdGlvbnMgPSBbXTsKCiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkgewogICAgICAgICAgY29uc3QgW3V1aWQsIHR5cGVdID0gc3Vic2NyaXB0aW9uc1tpZF07CiAgICAgICAgICBsZXQgdmFsdWUgPSBib2RpZXNbdXVpZF1bdHlwZV07CiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWZWMzKSB2YWx1ZSA9IHZhbHVlLnRvQXJyYXkoKTtlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHsKICAgICAgICAgICAgdmFsdWUudG9FdWxlcih0ZW1wVmVjdG9yKTsKICAgICAgICAgICAgdmFsdWUgPSB0ZW1wVmVjdG9yLnRvQXJyYXkoKTsKICAgICAgICAgIH0KICAgICAgICAgIG9ic2VydmF0aW9ucy5wdXNoKFtpZCwgdmFsdWVdKTsKICAgICAgICB9CgogICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgb3A6ICdmcmFtZScsCiAgICAgICAgICBwb3NpdGlvbnMsCiAgICAgICAgICBxdWF0ZXJuaW9ucywKICAgICAgICAgIG9ic2VydmF0aW9ucywKICAgICAgICAgIGFjdGl2ZTogd29ybGQuaGFzQWN0aXZlQm9kaWVzCiAgICAgICAgfSwgW3Bvc2l0aW9ucy5idWZmZXIsIHF1YXRlcm5pb25zLmJ1ZmZlcl0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnYWRkQm9kaWVzJzoKICAgICAgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBhcmdzID0gW10sCiAgICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLAogICAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgc2NhbGUgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLAogICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgICAgICAgIGxpbmVhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgdHlwZTogYm9keVR5cGUsCiAgICAgICAgICAgIG1hc3MsCiAgICAgICAgICAgIG1hdGVyaWFsLAogICAgICAgICAgICBzaGFwZXMsCiAgICAgICAgICAgIG9uQ29sbGlkZSwKICAgICAgICAgICAgLi4uZXh0cmEKICAgICAgICAgIH0gPSBwcm9wc1tpXTsKICAgICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7IC4uLmV4dHJhLAogICAgICAgICAgICBtYXNzOiBib2R5VHlwZSA9PT0gJ1N0YXRpYycgPyAwIDogbWFzcywKICAgICAgICAgICAgdHlwZTogYm9keVR5cGUgPyBCb2R5W2JvZHlUeXBlLnRvVXBwZXJDYXNlKCldIDogdW5kZWZpbmVkLAogICAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwgPyBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkCiAgICAgICAgICB9KTsKICAgICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV07CgogICAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHsKICAgICAgICAgICAgc2hhcGVzLmZvckVhY2goKHsKICAgICAgICAgICAgICB0eXBlLAogICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgcG9zaXRpb24sCiAgICAgICAgICAgICAgcm90YXRpb24sCiAgICAgICAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgICAgICAgLi4uZXh0cmEKICAgICAgICAgICAgfSkgPT4gewogICAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncyksIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLCByb3RhdGlvbiA/IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbUV1bGVyKC4uLnJvdGF0aW9uKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsKSBzaGFwZUJvZHkubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpOwogICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhcGVCb2R5LCBleHRyYSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSk7CiAgICAgICAgICB9CgogICAgICAgICAgYm9keS5wb3NpdGlvbi5zZXQocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7CiAgICAgICAgICBib2R5LnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHJvdGF0aW9uWzBdLCByb3RhdGlvblsxXSwgcm90YXRpb25bMl0pOwogICAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSk7CiAgICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eS5zZXQoYW5ndWxhclZlbG9jaXR5WzBdLCBhbmd1bGFyVmVsb2NpdHlbMV0sIGFuZ3VsYXJWZWxvY2l0eVsyXSk7CiAgICAgICAgICBib2R5LmxpbmVhckZhY3Rvci5zZXQobGluZWFyRmFjdG9yWzBdLCBsaW5lYXJGYWN0b3JbMV0sIGxpbmVhckZhY3RvclsyXSk7CiAgICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pOwogICAgICAgICAgd29ybGQuYWRkQm9keShib2R5KTsKICAgICAgICAgIGlmIChvbkNvbGxpZGUpIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29sbGlkZScsICh7CiAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgIHRhcmdldCwKICAgICAgICAgICAgY29udGFjdAogICAgICAgICAgfSkgPT4gewogICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgbmksCiAgICAgICAgICAgICAgcmksCiAgICAgICAgICAgICAgcmoKICAgICAgICAgICAgfSA9IGNvbnRhY3Q7CiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkLAogICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LnV1aWQsCiAgICAgICAgICAgICAgY29udGFjdDogewogICAgICAgICAgICAgICAgbmk6IG5pLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIHJpOiByaS50b0FycmF5KCksCiAgICAgICAgICAgICAgICByajogcmoudG9BcnJheSgpLAogICAgICAgICAgICAgICAgaW1wYWN0VmVsb2NpdHk6IGNvbnRhY3QuZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7CiAgICAgICAgICAgICAgICBib2R5RmlsdGVyR3JvdXA6IGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAsCiAgICAgICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlck1hc2s6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJNYXNrCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc3luY0JvZGllcygpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoKICAgICAgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykgd29ybGQucmVtb3ZlQm9keShib2RpZXNbdXVpZFtpXV0pOwoKICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgaWQsCiAgICAgICAgICB0eXBlCiAgICAgICAgfSA9IHByb3BzOwogICAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAndW5zdWJzY3JpYmUnOgogICAgICB7CiAgICAgICAgZGVsZXRlIHN1YnNjcmlwdGlvbnNbcHJvcHNdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc2V0UG9zaXRpb24nOgogICAgICBib2RpZXNbdXVpZF0ucG9zaXRpb24uc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRRdWF0ZXJuaW9uJzoKICAgICAgYm9kaWVzW3V1aWRdLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRWZWxvY2l0eSc6CiAgICAgIGJvZGllc1t1dWlkXS52ZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFuZ3VsYXJWZWxvY2l0eSc6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyVmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRMaW5lYXJGYWN0b3InOgogICAgICBib2RpZXNbdXVpZF0ubGluZWFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0QW5ndWxhckZhY3Rvcic6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0TWFzcyc6CiAgICAgIGJvZGllc1t1dWlkXS5tYXNzID0gcHJvcHM7CiAgICAgIGJvZGllc1t1dWlkXS50eXBlID0gMTsKICAgICAgYm9kaWVzW3V1aWRdLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldExpbmVhckRhbXBpbmcnOgogICAgICBib2RpZXNbdXVpZF0ubGluZWFyRGFtcGluZyA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbmd1bGFyRGFtcGluZyc6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRGFtcGluZyA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbGxvd1NsZWVwJzoKICAgICAgYm9kaWVzW3V1aWRdLmFsbG93U2xlZXAgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0U2xlZXBTcGVlZExpbWl0JzoKICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwU3BlZWRMaW1pdCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRTbGVlcFRpbWVMaW1pdCc6CiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFRpbWVMaW1pdCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJHcm91cCc6CiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6CiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEZpeGVkUm90YXRpb24nOgogICAgICBib2RpZXNbdXVpZF0uZml4ZWRSb3RhdGlvbiA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUZvcmNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5Rm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUltcHVsc2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYXBwbHlMb2NhbEZvcmNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5TG9jYWxJbXB1bHNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYWRkQ29uc3RyYWludCc6CiAgICAgIHsKICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICBsZXQgewogICAgICAgICAgcGl2b3RBLAogICAgICAgICAgcGl2b3RCLAogICAgICAgICAgYXhpc0EsCiAgICAgICAgICBheGlzQiwKICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICB9ID0gb3B0bnM7IC8vIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBlbmZvcmNlIGRlZmF1bHRzPwoKICAgICAgICBwaXZvdEEgPSBBcnJheS5pc0FycmF5KHBpdm90QSkgPyBuZXcgVmVjMyguLi5waXZvdEEpIDogdW5kZWZpbmVkOwogICAgICAgIHBpdm90QiA9IEFycmF5LmlzQXJyYXkocGl2b3RCKSA/IG5ldyBWZWMzKC4uLnBpdm90QikgOiB1bmRlZmluZWQ7CiAgICAgICAgYXhpc0EgPSBBcnJheS5pc0FycmF5KGF4aXNBKSA/IG5ldyBWZWMzKC4uLmF4aXNBKSA6IHVuZGVmaW5lZDsKICAgICAgICBheGlzQiA9IEFycmF5LmlzQXJyYXkoYXhpc0IpID8gbmV3IFZlYzMoLi4uYXhpc0IpIDogdW5kZWZpbmVkOwogICAgICAgIGxldCBjb25zdHJhaW50OwoKICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgIGNhc2UgJ1BvaW50VG9Qb2ludCc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2RpZXNbYm9keUFdLCBwaXZvdEEsIGJvZGllc1tib2R5Ql0sIHBpdm90Qiwgb3B0bnMubWF4Rm9yY2UpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdDb25lVHdpc3QnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENvbmVUd2lzdENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgICAgIHBpdm90QSwKICAgICAgICAgICAgICBwaXZvdEIsCiAgICAgICAgICAgICAgYXhpc0EsCiAgICAgICAgICAgICAgYXhpc0IsCiAgICAgICAgICAgICAgLi4ub3B0aW9ucwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnSGluZ2UnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgIHBpdm90QiwKICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICBheGlzQiwKICAgICAgICAgICAgICAuLi5vcHRpb25zCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdEaXN0YW5jZSc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0xvY2snOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkOwogICAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVDb25zdHJhaW50JzoKICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7CiAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gd29ybGQucmVtb3ZlQ29uc3RyYWludChjKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2VuYWJsZUNvbnN0cmFpbnQnOgogICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICB1dWlkOiB0aGlzSWQKICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmVuYWJsZSgpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnZGlzYWJsZUNvbnN0cmFpbnQnOgogICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICB1dWlkOiB0aGlzSWQKICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmRpc2FibGUoKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FkZFNwcmluZyc6CiAgICAgIHsKICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICBsZXQgewogICAgICAgICAgd29ybGRBbmNob3JBLAogICAgICAgICAgd29ybGRBbmNob3JCLAogICAgICAgICAgbG9jYWxBbmNob3JBLAogICAgICAgICAgbG9jYWxBbmNob3JCLAogICAgICAgICAgcmVzdExlbmd0aCwKICAgICAgICAgIHN0aWZmbmVzcywKICAgICAgICAgIGRhbXBpbmcKICAgICAgICB9ID0gb3B0bnM7CiAgICAgICAgd29ybGRBbmNob3JBID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckEpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JBKSA6IHVuZGVmaW5lZDsKICAgICAgICB3b3JsZEFuY2hvckIgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQikgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckIpIDogdW5kZWZpbmVkOwogICAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgbG9jYWxBbmNob3JCID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckIpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JCKSA6IHVuZGVmaW5lZDsKICAgICAgICBsZXQgc3ByaW5nID0gbmV3IFNwcmluZyhib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgICB3b3JsZEFuY2hvckIsCiAgICAgICAgICBsb2NhbEFuY2hvckEsCiAgICAgICAgICBsb2NhbEFuY2hvckIsCiAgICAgICAgICByZXN0TGVuZ3RoLAogICAgICAgICAgc3RpZmZuZXNzLAogICAgICAgICAgZGFtcGluZwogICAgICAgIH0pOwogICAgICAgIHNwcmluZy51dWlkID0gdXVpZDsKCiAgICAgICAgbGV0IHBvc3RTdGVwU3ByaW5nID0gZSA9PiBzcHJpbmcuYXBwbHlGb3JjZSgpOwoKICAgICAgICBzcHJpbmdzW3V1aWRdID0gcG9zdFN0ZXBTcHJpbmc7IC8vIENvbXB1dGUgdGhlIGZvcmNlIGFmdGVyIGVhY2ggc3RlcAoKICAgICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlU3ByaW5nJzoKICAgICAgewogICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdhZGRSYXknOgogICAgICB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZnJvbSwKICAgICAgICAgIHRvLAogICAgICAgICAgLi4ub3B0aW9ucwogICAgICAgIH0gPSBwcm9wczsKICAgICAgICBjb25zdCByYXkgPSBuZXcgUmF5KGZyb20gPyBuZXcgVmVjMyguLi5mcm9tKSA6IHVuZGVmaW5lZCwgdG8gPyBuZXcgVmVjMyguLi50bykgOiB1bmRlZmluZWQpOwogICAgICAgIG9wdGlvbnMubW9kZSA9IFJheVtvcHRpb25zLm1vZGUudG9VcHBlckNhc2UoKV07CiAgICAgICAgb3B0aW9ucy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwoKICAgICAgICByYXlzW3V1aWRdID0gKCkgPT4gewogICAgICAgICAgcmF5LmludGVyc2VjdFdvcmxkKHdvcmxkLCBvcHRpb25zKTsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgc2hhcGUsCiAgICAgICAgICAgIHJheUZyb21Xb3JsZCwKICAgICAgICAgICAgcmF5VG9Xb3JsZCwKICAgICAgICAgICAgaGl0Tm9ybWFsV29ybGQsCiAgICAgICAgICAgIGhpdFBvaW50V29ybGQsCiAgICAgICAgICAgIC4uLnJlc3QKICAgICAgICAgIH0gPSBvcHRpb25zLnJlc3VsdDsKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgICAgdHlwZTogJ3JheWhpdCcsCiAgICAgICAgICAgIHJheTogewogICAgICAgICAgICAgIGZyb20sCiAgICAgICAgICAgICAgdG8sCiAgICAgICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJHcm91cDogcmF5LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICAgIHV1aWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogYm9keSA/IGJvZHkudXVpZCA6IG51bGwsCiAgICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IHsgLi4uc2hhcGUsCiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkCiAgICAgICAgICAgIH0gOiBudWxsLAogICAgICAgICAgICByYXlGcm9tV29ybGQ6IHJheUZyb21Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgIHJheVRvV29ybGQ6IHJheVRvV29ybGQudG9BcnJheSgpLAogICAgICAgICAgICBoaXROb3JtYWxXb3JsZDogaGl0Tm9ybWFsV29ybGQudG9BcnJheSgpLAogICAgICAgICAgICBoaXRQb2ludFdvcmxkOiBoaXRQb2ludFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgLi4ucmVzdAogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlUmF5JzoKICAgICAgewogICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKTsKICAgICAgICBkZWxldGUgcmF5c1t1dWlkXTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ2FkZFJheWNhc3RWZWhpY2xlJzoKICAgICAgewogICAgICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gcHJvcHM7CiAgICAgICAgY29uc3QgdmVoaWNsZSA9IG5ldyBSYXljYXN0VmVoaWNsZSh7CiAgICAgICAgICBjaGFzc2lzQm9keTogYm9kaWVzW2NoYXNzaXNCb2R5XSwKICAgICAgICAgIGluZGV4Rm9yd2FyZEF4aXM6IGluZGV4Rm9yd2FyZEF4aXMsCiAgICAgICAgICBpbmRleFJpZ2h0QXhpczogaW5kZXhSaWdodEF4aXMsCiAgICAgICAgICBpbmRleFVwQXhpczogaW5kZXhVcEF4aXMKICAgICAgICB9KTsKICAgICAgICB2ZWhpY2xlLndvcmxkID0gd29ybGQ7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxJbmZvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3Qgd2hlZWxJbmZvID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICAgIHdoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbCk7CiAgICAgICAgICB3aGVlbEluZm8uY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCk7CiAgICAgICAgICB3aGVlbEluZm8uYXhsZUxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmF4bGVMb2NhbCk7CiAgICAgICAgICB2ZWhpY2xlLmFkZFdoZWVsKHdoZWVsSW5mbyk7CiAgICAgICAgICBjb25zdCB3aGVlbEJvZHkgPSBib2RpZXNbd2hlZWxzW2ldXTsKICAgICAgICB9CgogICAgICAgIHZlaGljbGVzW3V1aWRdID0gewogICAgICAgICAgdmVoaWNsZTogdmVoaWNsZSwKICAgICAgICAgIHdoZWVsczogd2hlZWxzLAogICAgICAgICAgcHJlU3RlcDogKCkgPT4gewogICAgICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnVwZGF0ZVZlaGljbGUod29ybGQuZHQpOwogICAgICAgICAgfSwKICAgICAgICAgIHBvc3RTdGVwOiAoKSA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53aGVlbEluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTsKICAgICAgICAgICAgICBjb25zdCB0ID0gdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53aGVlbEluZm9zW2ldLndvcmxkVHJhbnNmb3JtOwogICAgICAgICAgICAgIGNvbnN0IHdoZWVsQm9keSA9IGJvZGllc1t2ZWhpY2xlc1t1dWlkXS53aGVlbHNbaV1dOwogICAgICAgICAgICAgIHdoZWVsQm9keS5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pOwogICAgICAgICAgICAgIHdoZWVsQm9keS5xdWF0ZXJuaW9uLmNvcHkodC5xdWF0ZXJuaW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHZlaGljbGVzW3V1aWRdLnByZVN0ZXApOwogICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOgogICAgICB7CiAgICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHZlaGljbGVzW3V1aWRdLnByZVN0ZXApOwogICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUud29ybGQgPSBudWxsOwogICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUgPSBudWxsOwogICAgICAgIGRlbGV0ZSB2ZWhpY2xlc1t1dWlkXTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlU3RlZXJpbmdWYWx1ZSc6CiAgICAgIHsKICAgICAgICBjb25zdCBbdmFsdWUsIHdoZWVsSW5kZXhdID0gcHJvcHM7CiAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5zZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ2FwcGx5UmF5Y2FzdFZlaGljbGVFbmdpbmVGb3JjZSc6CiAgICAgIHsKICAgICAgICBjb25zdCBbdmFsdWUsIHdoZWVsSW5kZXhdID0gcHJvcHM7CiAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5hcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlQnJha2UnOgogICAgICB7CiAgICAgICAgY29uc3QgW2JyYWtlLCB3aGVlbEluZGV4XSA9IHByb3BzOwogICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgfQp9OwoK',
  'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9ub2RlX21vZHVsZXMvY2Fubm9uLWVzL2Rpc3QvY2Fubm9uLWVzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSZWNvcmRzIHdoYXQgb2JqZWN0cyBhcmUgY29sbGlkaW5nIHdpdGggZWFjaCBvdGhlclxyXG4gKiBAY2xhc3MgT2JqZWN0Q29sbGlzaW9uTWF0cml4XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeCB7XG4gIC8vIFRoZSBtYXRyaXggc3RvcmFnZS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXRyaXggPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGlcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBqXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKi9cblxuXG4gIGdldChiaSwgYmopIHtcbiAgICBsZXQge1xuICAgICAgaWQ6IGlcbiAgICB9ID0gYmk7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBqXG4gICAgfSA9IGJqO1xuXG4gICAgaWYgKGogPiBpKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGkgKyBcIi1cIiArIGogaW4gdGhpcy5tYXRyaXg7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBpXHJcbiAgICogQHBhcmFtICB7Qm9keX0galxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcclxuICAgKi9cblxuXG4gIHNldChiaSwgYmosIHZhbHVlKSB7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpZDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal07XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEVtcHR5IHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICB0aGlzLm1hdHJpeCA9IHt9O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBtYXggbnVtYmVyIG9mIG9iamVjdHNcclxuICAgKiBAbWV0aG9kIHNldE51bU9iamVjdHNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gblxyXG4gICAqL1xuXG5cbiAgc2V0TnVtT2JqZWN0cyhuKSB7fVxuXG59XG5cbi8qKlxyXG4gKiBBIDN4MyBtYXRyaXguXHJcbiAqIEBjbGFzcyBNYXQzXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLiBPcHRpb25hbC5cclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgTWF0MyB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eVxyXG4gICAqIEBtZXRob2QgaWRlbnRpdHlcclxuICAgKiBAdG9kbyBTaG91bGQgcGVyaGFwcyBiZSByZW5hbWVkIHRvIHNldElkZW50aXR5KCkgdG8gYmUgbW9yZSBjbGVhci5cclxuICAgKiBAdG9kbyBDcmVhdGUgYW5vdGhlciBmdW5jdGlvbiB0aGF0IGltbWVkaWF0ZWx5IGNyZWF0ZXMgYW4gaWRlbnRpdHkgbWF0cml4IGVnLiBleWUoKVxyXG4gICAqL1xuXG5cbiAgaWRlbnRpdHkoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7XG4gICAgZVswXSA9IDE7XG4gICAgZVsxXSA9IDA7XG4gICAgZVsyXSA9IDA7XG4gICAgZVszXSA9IDA7XG4gICAgZVs0XSA9IDE7XG4gICAgZVs1XSA9IDA7XG4gICAgZVs2XSA9IDA7XG4gICAgZVs3XSA9IDA7XG4gICAgZVs4XSA9IDE7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFsbCBlbGVtZW50cyB0byB6ZXJvXHJcbiAgICogQG1ldGhvZCBzZXRaZXJvXHJcbiAgICovXG5cblxuICBzZXRaZXJvKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSAwO1xuICAgIGVbMV0gPSAwO1xuICAgIGVbMl0gPSAwO1xuICAgIGVbM10gPSAwO1xuICAgIGVbNF0gPSAwO1xuICAgIGVbNV0gPSAwO1xuICAgIGVbNl0gPSAwO1xuICAgIGVbN10gPSAwO1xuICAgIGVbOF0gPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cyBmcm9tIGEgVmVjM1xyXG4gICAqIEBtZXRob2Qgc2V0VHJhY2VcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlYzNcclxuICAgKi9cblxuXG4gIHNldFRyYWNlKHZlY3Rvcikge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSB2ZWN0b3IueDtcbiAgICBlWzRdID0gdmVjdG9yLnk7XG4gICAgZVs4XSA9IHZlY3Rvci56O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50c1xyXG4gICAqIEBtZXRob2QgZ2V0VHJhY2VcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgZ2V0VHJhY2UodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIHRhcmdldC54ID0gZVswXTtcbiAgICB0YXJnZXQueSA9IGVbNF07XG4gICAgdGFyZ2V0LnogPSBlWzhdO1xuICB9XG4gIC8qKlxyXG4gICAqIE1hdHJpeC1WZWN0b3IgbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIHZtdWx0XHJcbiAgICogQHBhcmFtIHtWZWMzfSB2IFRoZSB2ZWN0b3IgdG8gbXVsdGlwbHkgd2l0aFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6O1xuICAgIHRhcmdldC55ID0gZVszXSAqIHggKyBlWzRdICogeSArIGVbNV0gKiB6O1xuICAgIHRhcmdldC56ID0gZVs2XSAqIHggKyBlWzddICogeSArIGVbOF0gKiB6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTWF0cml4LXNjYWxhciBtdWx0aXBsaWNhdGlvblxyXG4gICAqIEBtZXRob2Qgc211bHRcclxuICAgKiBAcGFyYW0ge051bWJlcn0gc1xyXG4gICAqL1xuXG5cbiAgc211bHQocykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBNYXRyaXggbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIG1tdWx0XHJcbiAgICogQHBhcmFtIHtNYXQzfSBtYXRyaXggTWF0cml4IHRvIG11bHRpcGx5IHdpdGggZnJvbSBsZWZ0IHNpZGUuXHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHJlc3VsdC5cclxuICAgKi9cblxuXG4gIG1tdWx0KG1hdHJpeCwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnRzXG4gICAgfSA9IG1hdHJpeDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICBsZXQgc3VtID0gMC4wO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMzsgaysrKSB7XG4gICAgICAgICAgc3VtICs9IGVsZW1lbnRzW2kgKyBrICogM10gKiB0aGlzLmVsZW1lbnRzW2sgKyBqICogM107XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQuZWxlbWVudHNbaSArIGogKiAzXSA9IHN1bTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNjYWxlIGVhY2ggY29sdW1uIG9mIHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHNjYWxlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHJlc3VsdC5cclxuICAgKi9cblxuXG4gIHNjYWxlKHZlY3RvciwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IHQgPSB0YXJnZXQuZWxlbWVudHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7XG4gICAgICB0WzMgKiBpICsgMF0gPSB2ZWN0b3IueCAqIGVbMyAqIGkgKyAwXTtcbiAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdO1xuICAgICAgdFszICogaSArIDJdID0gdmVjdG9yLnogKiBlWzMgKiBpICsgMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZSBBeD1iXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gYiBUaGUgcmlnaHQgaGFuZCBzaWRlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgc29sdXRpb24geFxyXG4gICAqIEB0b2RvIHNob3VsZCByZXVzZSBhcnJheXNcclxuICAgKi9cblxuXG4gIHNvbHZlKGIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA0ICogMF0gPSBiLng7XG4gICAgZXFuc1szICsgNCAqIDFdID0gYi55O1xuICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gNDsgLy8gbnVtIHJvd3NcblxuICAgIGxldCBwO1xuXG4gICAgZG8ge1xuICAgICAgaSA9IGsgLSBuO1xuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkge1xuICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lc1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7XG4gICAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBpICkgPSBsaWduZSggaSApICsgbGlnbmUoIGsgKVxuICAgICAgICAgICAgICBwID0ga3AgLSBucDtcbiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkge1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKVxuICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gcCA8PSBpID8gMCA6IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb25cblxuXG4gICAgdGFyZ2V0LnogPSBlcW5zWzIgKiBuYyArIDNdIC8gZXFuc1syICogbmMgKyAyXTtcbiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07XG4gICAgdGFyZ2V0LnggPSAoZXFuc1swICogbmMgKyAzXSAtIGVxbnNbMCAqIG5jICsgMl0gKiB0YXJnZXQueiAtIGVxbnNbMCAqIG5jICsgMV0gKiB0YXJnZXQueSkgLyBlcW5zWzAgKiBuYyArIDBdO1xuXG4gICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7XG4gICAgICB0aHJvdyBcIkNvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9W1wiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyBcIl0sIGI9W1wiICsgYi50b1N0cmluZygpICsgXCJdLCBBPVtcIiArIHRoaXMudG9TdHJpbmcoKSArIFwiXVwiO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIGVsZW1lbnQgaW4gdGhlIG1hdHJpeCBieSBpbmRleC4gSW5kZXggc3RhcnRzIGF0IDAsIG5vdCAxISEhXHJcbiAgICogQG1ldGhvZCBlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJvd1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjb2x1bW5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgT3B0aW9uYWwuIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS5cclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBlKHJvdywgY29sdW1uLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IHZhbHVlXG4gICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvcHkgYW5vdGhlciBtYXRyaXggaW50byB0aGlzIG1hdHJpeCBvYmplY3QuXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2VcclxuICAgKiBAcmV0dXJuIHtNYXQzfSB0aGlzXHJcbiAgICovXG5cblxuICBjb3B5KG1hdHJpeCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeC5cclxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXHJcbiAgICogQHJldHVybiBzdHJpbmdcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCByID0gJyc7XG4gICAgY29uc3Qgc2VwID0gJywnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDtcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfVxuICAvKipcclxuICAgKiByZXZlcnNlIHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHJldmVyc2VcclxuICAgKiBAcGFyYW0ge01hdDN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSBzb2x1dGlvbiB4XHJcbiAgICovXG5cblxuICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA2OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA2ICogMF0gPSAxO1xuICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1szICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzQgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7XG4gICAgZXFuc1s0ICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzUgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1s1ICsgNiAqIDJdID0gMTsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzXG5cbiAgICBsZXQgcDtcblxuICAgIGRvIHtcbiAgICAgIGkgPSBrIC0gbjtcblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXNcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkge1xuICAgICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrIClcbiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHtcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpIClcbiAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSBpIC0gMTtcblxuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgIG5wID0gbmM7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHAgPSBuYyAtIG5wO1xuICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlICgtLWkpOyAvLyBvcGVyYXRpb25zIG9uIHRoZSBkaWFnb25hbFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgIG5wID0gbmM7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcCA9IG5jIC0gbnA7XG4gICAgICAgIGVxbnNbcCArIG5jICogaV0gPSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgIH0gd2hpbGUgKGktLSk7XG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSAyO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07XG5cbiAgICAgICAgaWYgKGlzTmFOKHApIHx8IHAgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgdGhyb3cgXCJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bXCIgKyB0aGlzLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldC5lKGksIGosIHApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlIChpLS0pO1xuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIG1hdHJpeCBmcm9tIGEgcXVhdGVyaW9uXHJcbiAgICogQG1ldGhvZCBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxXHJcbiAgICovXG5cblxuICBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpIHtcbiAgICBjb25zdCB4ID0gcS54O1xuICAgIGNvbnN0IHkgPSBxLnk7XG4gICAgY29uc3QgeiA9IHEuejtcbiAgICBjb25zdCB3ID0gcS53O1xuICAgIGNvbnN0IHgyID0geCArIHg7XG4gICAgY29uc3QgeTIgPSB5ICsgeTtcbiAgICBjb25zdCB6MiA9IHogKyB6O1xuICAgIGNvbnN0IHh4ID0geCAqIHgyO1xuICAgIGNvbnN0IHh5ID0geCAqIHkyO1xuICAgIGNvbnN0IHh6ID0geCAqIHoyO1xuICAgIGNvbnN0IHl5ID0geSAqIHkyO1xuICAgIGNvbnN0IHl6ID0geSAqIHoyO1xuICAgIGNvbnN0IHp6ID0geiAqIHoyO1xuICAgIGNvbnN0IHd4ID0gdyAqIHgyO1xuICAgIGNvbnN0IHd5ID0gdyAqIHkyO1xuICAgIGNvbnN0IHd6ID0gdyAqIHoyO1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMyAqIDAgKyAwXSA9IDEgLSAoeXkgKyB6eik7XG4gICAgZVszICogMCArIDFdID0geHkgLSB3ejtcbiAgICBlWzMgKiAwICsgMl0gPSB4eiArIHd5O1xuICAgIGVbMyAqIDEgKyAwXSA9IHh5ICsgd3o7XG4gICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTtcbiAgICBlWzMgKiAxICsgMl0gPSB5eiAtIHd4O1xuICAgIGVbMyAqIDIgKyAwXSA9IHh6IC0gd3k7XG4gICAgZVszICogMiArIDFdID0geXogKyB3eDtcbiAgICBlWzMgKiAyICsgMl0gPSAxIC0gKHh4ICsgeXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCB0cmFuc3Bvc2VcclxuICAgKiBAcGFyYW0gIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHQuXHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHRhcmdldCBNYXQzLCBvciBhIG5ldyBNYXQzIGlmIHRhcmdldCB3YXMgb21pdHRlZC5cclxuICAgKi9cblxuXG4gIHRyYW5zcG9zZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgY29uc3QgTXQgPSB0YXJnZXQuZWxlbWVudHM7XG4gICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gMzsgaisrKSB7XG4gICAgICAgIE10WzMgKiBpICsgal0gPSBNWzMgKiBqICsgaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiAzLWRpbWVuc2lvbmFsIHZlY3RvclxyXG4gKiBAY2xhc3MgVmVjM1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICogQHBhcmFtIHtOdW1iZXJ9IHlcclxuICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpO1xyXG4gKiAgICAgY29uc29sZS5sb2coJ3g9JyArIHYueCk7IC8vIHg9MVxyXG4gKi9cblxuY2xhc3MgVmVjMyB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3IgY3Jvc3MgcHJvZHVjdFxyXG4gICAqIEBtZXRob2QgY3Jvc3NcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGNyb3NzKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHZ4ID0gdmVjdG9yLng7XG4gICAgY29uc3QgdnkgPSB2ZWN0b3IueTtcbiAgICBjb25zdCB2eiA9IHZlY3Rvci56O1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0geSAqIHZ6IC0geiAqIHZ5O1xuICAgIHRhcmdldC55ID0geiAqIHZ4IC0geCAqIHZ6O1xuICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSB2ZWN0b3JzJyAzIGVsZW1lbnRzXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge051bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICAgKiBAcmV0dXJuIFZlYzNcclxuICAgKi9cblxuXG4gIHNldCh4LCB5LCB6KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby5cclxuICAgKiBAbWV0aG9kIHNldFplcm9cclxuICAgKi9cblxuXG4gIHNldFplcm8oKSB7XG4gICAgdGhpcy54ID0gdGhpcy55ID0gdGhpcy56ID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3IgYWRkaXRpb25cclxuICAgKiBAbWV0aG9kIHZhZGRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdmFkZCh2ZWN0b3IsIHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7XG4gICAgICB0YXJnZXQueSA9IHZlY3Rvci55ICsgdGhpcy55O1xuICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiArIHRoaXMuejtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCArIHZlY3Rvci54LCB0aGlzLnkgKyB2ZWN0b3IueSwgdGhpcy56ICsgdmVjdG9yLnopO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3Igc3VidHJhY3Rpb25cclxuICAgKiBAbWV0aG9kIHZzdWJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZzdWIodmVjdG9yLCB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQueCA9IHRoaXMueCAtIHZlY3Rvci54O1xuICAgICAgdGFyZ2V0LnkgPSB0aGlzLnkgLSB2ZWN0b3IueTtcbiAgICAgIHRhcmdldC56ID0gdGhpcy56IC0gdmVjdG9yLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggLSB2ZWN0b3IueCwgdGhpcy55IC0gdmVjdG9yLnksIHRoaXMueiAtIHZlY3Rvci56KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjcm9zcyBwcm9kdWN0IG1hdHJpeCBhX2Nyb3NzIGZyb20gYSB2ZWN0b3IsIHN1Y2ggdGhhdCBhIHggYiA9IGFfY3Jvc3MgKiBiID0gY1xyXG4gICAqIEBtZXRob2QgY3Jvc3NtYXRcclxuICAgKiBAc2VlIGh0dHA6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvVERCRDI0L1ZUMDYvbGVjdHVyZXMvTGVjdHVyZTYucGRmXHJcbiAgICogQHJldHVybiB7TWF0M31cclxuICAgKi9cblxuXG4gIGNyb3NzbWF0KCkge1xuICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pO1xuICB9XG4gIC8qKlxyXG4gICAqIE5vcm1hbGl6ZSB0aGUgdmVjdG9yLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgaW4gdGhlIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIG5vcm1hbGl6ZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyB0aGUgbm9ybSBvZiB0aGUgdmVjdG9yXHJcbiAgICovXG5cblxuICBub3JtYWxpemUoKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gICAgaWYgKG4gPiAwLjApIHtcbiAgICAgIGNvbnN0IGludk4gPSAxIC8gbjtcbiAgICAgIHRoaXMueCAqPSBpbnZOO1xuICAgICAgdGhpcy55ICo9IGludk47XG4gICAgICB0aGlzLnogKj0gaW52TjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzb21ldGhpbmcgdXBcbiAgICAgIHRoaXMueCA9IDA7XG4gICAgICB0aGlzLnkgPSAwO1xuICAgICAgdGhpcy56ID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhpcyB2ZWN0b3IgdGhhdCBpcyBvZiBsZW5ndGggMS5cclxuICAgKiBAbWV0aG9kIHVuaXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpblxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFJldHVybnMgdGhlIHVuaXQgdmVjdG9yXHJcbiAgICovXG5cblxuICB1bml0KHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBsZXQgbmludiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gICAgaWYgKG5pbnYgPiAwLjApIHtcbiAgICAgIG5pbnYgPSAxLjAgLyBuaW52O1xuICAgICAgdGFyZ2V0LnggPSB4ICogbmludjtcbiAgICAgIHRhcmdldC55ID0geSAqIG5pbnY7XG4gICAgICB0YXJnZXQueiA9IHogKiBuaW52O1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQueCA9IDE7XG4gICAgICB0YXJnZXQueSA9IDA7XG4gICAgICB0YXJnZXQueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCBsZW5ndGhcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBsZW5ndGgoKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBsZW5ndGhTcXVhcmVkKCkge1xuICAgIHJldHVybiB0aGlzLmRvdCh0aGlzKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcclxuICAgKiBAbWV0aG9kIGRpc3RhbmNlVG9cclxuICAgKiBAcGFyYW0gIHtWZWMzfSBwXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZGlzdGFuY2VUbyhwKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgcHggPSBwLng7XG4gICAgY29uc3QgcHkgPSBwLnk7XG4gICAgY29uc3QgcHogPSBwLno7XG4gICAgcmV0dXJuIE1hdGguc3FydCgocHggLSB4KSAqIChweCAtIHgpICsgKHB5IC0geSkgKiAocHkgLSB5KSArIChweiAtIHopICogKHB6IC0geikpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XHJcbiAgICogQG1ldGhvZCBkaXN0YW5jZVNxdWFyZWRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBwXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZGlzdGFuY2VTcXVhcmVkKHApIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCBweCA9IHAueDtcbiAgICBjb25zdCBweSA9IHAueTtcbiAgICBjb25zdCBweiA9IHAuejtcbiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IGFsbCB0aGUgY29tcG9uZW50cyBvZiB0aGUgdmVjdG9yIHdpdGggYSBzY2FsYXIuXHJcbiAgICogQG1ldGhvZCBzY2FsZVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgc2NhbGUoc2NhbGFyLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4O1xuICAgIHRhcmdldC55ID0gc2NhbGFyICogeTtcbiAgICB0YXJnZXQueiA9IHNjYWxhciAqIHo7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgdmVjdG9yIHdpdGggYW4gb3RoZXIgdmVjdG9yLCBjb21wb25lbnQtd2lzZS5cclxuICAgKiBAbWV0aG9kIHZtdWx0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlY3RvclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2bXVsKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7XG4gICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSAqIHRoaXMueTtcbiAgICB0YXJnZXQueiA9IHZlY3Rvci56ICogdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2NhbGUgYSB2ZWN0b3IgYW5kIGFkZCBpdCB0byB0aGlzIHZlY3Rvci4gU2F2ZSB0aGUgcmVzdWx0IGluIFwidGFyZ2V0XCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKVxyXG4gICAqIEBtZXRob2QgYWRkU2NhbGVkVmVjdG9yXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gdGhpcy54ICsgc2NhbGFyICogdmVjdG9yLng7XG4gICAgdGFyZ2V0LnkgPSB0aGlzLnkgKyBzY2FsYXIgKiB2ZWN0b3IueTtcbiAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIGRvdCBwcm9kdWN0XHJcbiAgICogQG1ldGhvZCBkb3RcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBkb3QodmVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuejtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGlzWmVyb1xyXG4gICAqIEByZXR1cm4gYm9vbFxyXG4gICAqL1xuXG5cbiAgaXNaZXJvKCkge1xuICAgIHJldHVybiB0aGlzLnggPT09IDAgJiYgdGhpcy55ID09PSAwICYmIHRoaXMueiA9PT0gMDtcbiAgfVxuICAvKipcclxuICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cclxuICAgKiBAbWV0aG9kIG5lZ2F0ZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsIHRhcmdldCB0byBzYXZlIGluXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIG5lZ2F0ZSh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGFyZ2V0LnggPSAtdGhpcy54O1xuICAgIHRhcmdldC55ID0gLXRoaXMueTtcbiAgICB0YXJnZXQueiA9IC10aGlzLno7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3JcclxuICAgKiBAbWV0aG9kIHRhbmdlbnRzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW5cclxuICAgKi9cblxuXG4gIHRhbmdlbnRzKHQxLCB0Mikge1xuICAgIGNvbnN0IG5vcm0gPSB0aGlzLmxlbmd0aCgpO1xuXG4gICAgaWYgKG5vcm0gPiAwLjApIHtcbiAgICAgIGNvbnN0IG4gPSBWZWMzX3RhbmdlbnRzX247XG4gICAgICBjb25zdCBpbm9ybSA9IDEgLyBub3JtO1xuICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7XG4gICAgICBjb25zdCByYW5kVmVjID0gVmVjM190YW5nZW50c19yYW5kVmVjO1xuXG4gICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkge1xuICAgICAgICByYW5kVmVjLnNldCgxLCAwLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5kVmVjLnNldCgwLCAxLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9XG5cbiAgICAgIG4uY3Jvc3ModDEsIHQyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIG5vcm1hbCBsZW5ndGggaXMgemVybywgbWFrZSBzb21ldGhpbmcgdXBcbiAgICAgIHQxLnNldCgxLCAwLCAwKTtcbiAgICAgIHQyLnNldCgwLCAxLCAwKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydHMgdG8gYSBtb3JlIHJlYWRhYmxlIGZvcm1hdFxyXG4gICAqIEBtZXRob2QgdG9TdHJpbmdcclxuICAgKiBAcmV0dXJuIHN0cmluZ1xyXG4gICAqL1xuXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMueCArIFwiLFwiICsgdGhpcy55ICsgXCIsXCIgKyB0aGlzLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydHMgdG8gYW4gYXJyYXlcclxuICAgKiBAbWV0aG9kIHRvQXJyYXlcclxuICAgKiBAcmV0dXJuIEFycmF5XHJcbiAgICovXG5cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07XG4gIH1cbiAgLyoqXHJcbiAgICogQ29waWVzIHZhbHVlIG9mIHNvdXJjZSB0byB0aGlzIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIGNvcHlcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNvdXJjZVxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IHRoaXNcclxuICAgKi9cblxuXG4gIGNvcHkodmVjdG9yKSB7XG4gICAgdGhpcy54ID0gdmVjdG9yLng7XG4gICAgdGhpcy55ID0gdmVjdG9yLnk7XG4gICAgdGhpcy56ID0gdmVjdG9yLno7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogRG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWN0b3JzXHJcbiAgICogQG1ldGhvZCBsZXJwXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gICAqL1xuXG5cbiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0geCArICh2ZWN0b3IueCAtIHgpICogdDtcbiAgICB0YXJnZXQueSA9IHkgKyAodmVjdG9yLnkgLSB5KSAqIHQ7XG4gICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0O1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGVxdWFscyBpcyBhbG1vc3QgZXF1YWwgdG8gYW5vdGhlciBvbmUuXHJcbiAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHNcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uXHJcbiAgICogQHJldHVybiBib29sXHJcbiAgICovXG5cblxuICBhbG1vc3RFcXVhbHModmVjdG9yLCBwcmVjaXNpb24gPSAxZS02KSB7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMueCAtIHZlY3Rvci54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkgLSB2ZWN0b3IueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56IC0gdmVjdG9yLnopID4gcHJlY2lzaW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgaXMgYWxtb3N0IHplcm9cclxuICAgKiBAbWV0aG9kIGFsbW9zdFplcm9cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uXHJcbiAgICovXG5cblxuICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHtcbiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgdmVjdG9yIGlzIGFudGktcGFyYWxsZWwgdG8gYW5vdGhlciB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBpc0FudGlwYXJhbGxlbFRvXHJcbiAgICogQHBhcmFtICB7VmVjM30gIHZcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwcmVjaXNpb24gU2V0IHRvIHplcm8gZm9yIGV4YWN0IGNvbXBhcmlzb25zXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHtcbiAgICB0aGlzLm5lZ2F0ZShhbnRpcF9uZWcpO1xuICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTtcbiAgfVxuICAvKipcclxuICAgKiBDbG9uZSB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCBjbG9uZVxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gIH1cblxufVxuVmVjMy5aRVJPID0gbmV3IFZlYzMoMCwgMCwgMCk7XG5WZWMzLlVOSVRfWCA9IG5ldyBWZWMzKDEsIDAsIDApO1xuVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTtcblZlYzMuVU5JVF9aID0gbmV3IFZlYzMoMCwgMCwgMSk7XG4vKipcclxuICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yXHJcbiAqIEBtZXRob2QgdGFuZ2VudHNcclxuICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW5cclxuICogQHBhcmFtIHtWZWMzfSB0MiBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIHNlY29uZCB0YW5nZW50IGluXHJcbiAqL1xuXG5jb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFudGlwX25lZyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLlxyXG4gKiBAY2xhc3MgQUFCQlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMudXBwZXJCb3VuZF0gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3guXHJcbiAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy5sb3dlckJvdW5kXSBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxyXG4gKi9cbmNsYXNzIEFBQkIge1xuICAvLyBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAvLyBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmxvd2VyQm91bmQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudXBwZXJCb3VuZCA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5sb3dlckJvdW5kKSB7XG4gICAgICB0aGlzLmxvd2VyQm91bmQuY29weShvcHRpb25zLmxvd2VyQm91bmQpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHtcbiAgICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KG9wdGlvbnMudXBwZXJCb3VuZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuXHJcbiAgICogQG1ldGhvZCBzZXRGcm9tUG9pbnRzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIE9wdGlvbmFsLlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdGVybmlvbiBPcHRpb25hbC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2tpblNpemUgT3B0aW9uYWwuXHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIHNlbGYgb2JqZWN0XHJcbiAgICovXG5cblxuICBzZXRGcm9tUG9pbnRzKHBvaW50cywgcG9zaXRpb24sIHF1YXRlcm5pb24sIHNraW5TaXplKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IHEgPSBxdWF0ZXJuaW9uOyAvLyBTZXQgdG8gdGhlIGZpcnN0IHBvaW50XG5cbiAgICBsLmNvcHkocG9pbnRzWzBdKTtcblxuICAgIGlmIChxKSB7XG4gICAgICBxLnZtdWx0KGwsIGwpO1xuICAgIH1cblxuICAgIHUuY29weShsKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcCA9IHBvaW50c1tpXTtcblxuICAgICAgaWYgKHEpIHtcbiAgICAgICAgcS52bXVsdChwLCB0bXApO1xuICAgICAgICBwID0gdG1wO1xuICAgICAgfVxuXG4gICAgICBpZiAocC54ID4gdS54KSB7XG4gICAgICAgIHUueCA9IHAueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueCA8IGwueCkge1xuICAgICAgICBsLnggPSBwLng7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnkgPiB1LnkpIHtcbiAgICAgICAgdS55ID0gcC55O1xuICAgICAgfVxuXG4gICAgICBpZiAocC55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHAueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueiA+IHUueikge1xuICAgICAgICB1LnogPSBwLno7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnogPCBsLnopIHtcbiAgICAgICAgbC56ID0gcC56O1xuICAgICAgfVxuICAgIH0gLy8gQWRkIG9mZnNldFxuXG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uLnZhZGQobCwgbCk7XG4gICAgICBwb3NpdGlvbi52YWRkKHUsIHUpO1xuICAgIH1cblxuICAgIGlmIChza2luU2l6ZSkge1xuICAgICAgbC54IC09IHNraW5TaXplO1xuICAgICAgbC55IC09IHNraW5TaXplO1xuICAgICAgbC56IC09IHNraW5TaXplO1xuICAgICAgdS54ICs9IHNraW5TaXplO1xuICAgICAgdS55ICs9IHNraW5TaXplO1xuICAgICAgdS56ICs9IHNraW5TaXplO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkJcclxuICAgKiBAbWV0aG9kIGNvcHlcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiIFNvdXJjZSB0byBjb3B5IGZyb21cclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHlcclxuICAgKi9cblxuXG4gIGNvcHkoYWFiYikge1xuICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KGFhYmIubG93ZXJCb3VuZCk7XG4gICAgdGhpcy51cHBlckJvdW5kLmNvcHkoYWFiYi51cHBlckJvdW5kKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDbG9uZSBhbiBBQUJCXHJcbiAgICogQG1ldGhvZCBjbG9uZVxyXG4gICAqL1xuXG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBBQUJCKCkuY29weSh0aGlzKTtcbiAgfVxuICAvKipcclxuICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby5cclxuICAgKiBAbWV0aG9kIGV4dGVuZFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKi9cblxuXG4gIGV4dGVuZChhYWJiKSB7XG4gICAgdGhpcy5sb3dlckJvdW5kLnggPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueCwgYWFiYi5sb3dlckJvdW5kLngpO1xuICAgIHRoaXMudXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC54KTtcbiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7XG4gICAgdGhpcy51cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueSwgYWFiYi51cHBlckJvdW5kLnkpO1xuICAgIHRoaXMubG93ZXJCb3VuZC56ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosIGFhYmIubG93ZXJCb3VuZC56KTtcbiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIG92ZXJsYXBzIHRoaXMgQUFCQi5cclxuICAgKiBAbWV0aG9kIG92ZXJsYXBzXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBvdmVybGFwcyhhYWJiKSB7XG4gICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyXG4gICAgLy8gICAgICB8LS0tLS0tLS0tfFxuICAgIC8vIHwtLS0tLS0tLXxcbiAgICAvLyBsMSAgICAgICB1MVxuXG4gICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54O1xuICAgIGNvbnN0IG92ZXJsYXBzWSA9IGwyLnkgPD0gdTEueSAmJiB1MS55IDw9IHUyLnkgfHwgbDEueSA8PSB1Mi55ICYmIHUyLnkgPD0gdTEueTtcbiAgICBjb25zdCBvdmVybGFwc1ogPSBsMi56IDw9IHUxLnogJiYgdTEueiA8PSB1Mi56IHx8IGwxLnogPD0gdTIueiAmJiB1Mi56IDw9IHUxLno7XG4gICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaO1xuICB9IC8vIE1vc3RseSBmb3IgZGVidWdnaW5nXG5cblxuICB2b2x1bWUoKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIHJldHVybiAodS54IC0gbC54KSAqICh1LnkgLSBsLnkpICogKHUueiAtIGwueik7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIGlzIGZ1bGx5IGNvbnRhaW5lZCBpbiB0aGlzIEFBQkIuXHJcbiAgICogQG1ldGhvZCBjb250YWluc1xyXG4gICAqIEBwYXJhbSB7QUFCQn0gYWFiYlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBjb250YWlucyhhYWJiKSB7XG4gICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyXG4gICAgLy8gICAgICB8LS0tLS0tLS0tfFxuICAgIC8vIHwtLS0tLS0tLS0tLS0tLS18XG4gICAgLy8gbDEgICAgICAgICAgICAgIHUxXG5cbiAgICByZXR1cm4gbDEueCA8PSBsMi54ICYmIHUxLnggPj0gdTIueCAmJiBsMS55IDw9IGwyLnkgJiYgdTEueSA+PSB1Mi55ICYmIGwxLnogPD0gbDIueiAmJiB1MS56ID49IHUyLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRDb3JuZXJzXHJcbiAgICogQHBhcmFtIHtWZWMzfSBhXHJcbiAgICogQHBhcmFtIHtWZWMzfSBiXHJcbiAgICogQHBhcmFtIHtWZWMzfSBjXHJcbiAgICogQHBhcmFtIHtWZWMzfSBkXHJcbiAgICogQHBhcmFtIHtWZWMzfSBlXHJcbiAgICogQHBhcmFtIHtWZWMzfSBmXHJcbiAgICogQHBhcmFtIHtWZWMzfSBnXHJcbiAgICogQHBhcmFtIHtWZWMzfSBoXHJcbiAgICovXG5cblxuICBnZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHtcbiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgYS5jb3B5KGwpO1xuICAgIGIuc2V0KHUueCwgbC55LCBsLnopO1xuICAgIGMuc2V0KHUueCwgdS55LCBsLnopO1xuICAgIGQuc2V0KGwueCwgdS55LCB1LnopO1xuICAgIGUuc2V0KHUueCwgbC55LCB1LnopO1xuICAgIGYuc2V0KGwueCwgdS55LCBsLnopO1xuICAgIGcuc2V0KGwueCwgbC55LCB1LnopO1xuICAgIGguY29weSh1KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gYW5vdGhlciBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZVxyXG4gICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWVcclxuICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgXCJ0YXJnZXRcIiBBQUJCIG9iamVjdC5cclxuICAgKi9cblxuXG4gIHRvTG9jYWxGcmFtZShmcmFtZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzO1xuICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdO1xuICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdO1xuICAgIGNvbnN0IGMgPSBjb3JuZXJzWzJdO1xuICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdO1xuICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdO1xuICAgIGNvbnN0IGYgPSBjb3JuZXJzWzVdO1xuICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdO1xuICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lXG5cbiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTtcbiAgICAgIGZyYW1lLnBvaW50VG9Mb2NhbChjb3JuZXIsIGNvcm5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiB0aGUgZ2xvYmFsIGZyYW1lLlxyXG4gICAqIEBtZXRob2QgdG9Xb3JsZEZyYW1lXHJcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBcInRhcmdldFwiIEFBQkIgb2JqZWN0LlxyXG4gICAqL1xuXG5cbiAgdG9Xb3JsZEZyYW1lKGZyYW1lLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7XG4gICAgY29uc3QgYSA9IGNvcm5lcnNbMF07XG4gICAgY29uc3QgYiA9IGNvcm5lcnNbMV07XG4gICAgY29uc3QgYyA9IGNvcm5lcnNbMl07XG4gICAgY29uc3QgZCA9IGNvcm5lcnNbM107XG4gICAgY29uc3QgZSA9IGNvcm5lcnNbNF07XG4gICAgY29uc3QgZiA9IGNvcm5lcnNbNV07XG4gICAgY29uc3QgZyA9IGNvcm5lcnNbNl07XG4gICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWVcblxuICAgIHRoaXMuZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKTsgLy8gVHJhbnNmb3JtIHRoZW0gdG8gbmV3IGxvY2FsIGZyYW1lXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldO1xuICAgICAgZnJhbWUucG9pbnRUb1dvcmxkKGNvcm5lciwgY29ybmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5LlxyXG4gICAqIEBwYXJhbSAge1JheX0gcmF5XHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIG92ZXJsYXBzUmF5KHJheSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIGZyb21cbiAgICB9ID0gcmF5O1xuXG4gICAgY29uc3QgZGlyRnJhY1ggPSAxIC8gZGlyZWN0aW9uLng7XG4gICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7XG4gICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyXG5cbiAgICBjb25zdCB0MSA9ICh0aGlzLmxvd2VyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MyA9ICh0aGlzLmxvd2VyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NCA9ICh0aGlzLnVwcGVyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjtcbiAgICBjb25zdCB0NiA9ICh0aGlzLnVwcGVyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsgLy8gY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTtcbiAgICAvLyBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSkpO1xuXG4gICAgY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpLCBNYXRoLm1pbih0NSwgdDYpKTtcbiAgICBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSksIE1hdGgubWF4KHQ1LCB0NikpOyAvLyBpZiB0bWF4IDwgMCwgcmF5IChsaW5lKSBpcyBpbnRlcnNlY3RpbmcgQUFCQiwgYnV0IHdob2xlIEFBQkIgaXMgYmVoaW5nIHVzXG5cbiAgICBpZiAodG1heCA8IDApIHtcbiAgICAgIC8vdCA9IHRtYXg7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBpZiB0bWluID4gdG1heCwgcmF5IGRvZXNuJ3QgaW50ZXJzZWN0IEFBQkJcblxuXG4gICAgaWYgKHRtaW4gPiB0bWF4KSB7XG4gICAgICAvL3QgPSB0bWF4O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcblxuLyoqXHJcbiAqIENvbGxpc2lvbiBcIm1hdHJpeFwiLiBJdCdzIGFjdHVhbGx5IGEgdHJpYW5ndWxhci1zaGFwZWQgYXJyYXkgb2Ygd2hldGhlciB0d28gYm9kaWVzIGFyZSB0b3VjaGluZyB0aGlzIHN0ZXAsIGZvciByZWZlcmVuY2UgbmV4dCBzdGVwXHJcbiAqIEBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeCB7XG4gIC8vIFRoZSBtYXRyaXggc3RvcmFnZS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXRyaXggPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gZWxlbWVudFxyXG4gICAqIEBtZXRob2QgZ2V0XHJcbiAgICogQHBhcmFtICB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGpcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXQoYmksIGJqKSB7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpbmRleDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFuIGVsZW1lbnRcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSB7Qm9keX0galxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcclxuICAgKi9cblxuXG4gIHNldChiaSwgYmosIHZhbHVlKSB7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpbmRleDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHRoaXMubWF0cml4WyhpICogKGkgKyAxKSA+PiAxKSArIGogLSAxXSA9IHZhbHVlID8gMSA6IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVyb1xyXG4gICAqIEBtZXRob2QgcmVzZXRcclxuICAgKi9cblxuXG4gIHJlc2V0KCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5tYXRyaXgubGVuZ3RoOyBpICE9PSBsOyBpKyspIHtcbiAgICAgIHRoaXMubWF0cml4W2ldID0gMDtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgbWF4IG51bWJlciBvZiBvYmplY3RzXHJcbiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cclxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge1xuICAgIHRoaXMubWF0cml4Lmxlbmd0aCA9IG4gKiAobiAtIDEpID4+IDE7XG4gIH1cblxufVxuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3Igb2JqZWN0cyB0aGF0IGRpc3BhdGNoZXMgZXZlbnRzLlxyXG4gKiBAY2xhc3MgRXZlbnRUYXJnZXRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgRXZlbnRUYXJnZXQge1xuICBjb25zdHJ1Y3RvcigpIHt9XG4gIC8qKlxyXG4gICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICAgIH1cblxuICAgIGlmICghbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkXHJcbiAgICogQG1ldGhvZCBoYXNFdmVudExpc3RlbmVyXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIGhhc0V2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFueSBldmVudCBsaXN0ZW5lciBvZiB0aGUgZ2l2ZW4gdHlwZSBpcyBhZGRlZFxyXG4gICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogRW1pdCBhbiBldmVudC5cclxuICAgKiBAbWV0aG9kIGRpc3BhdGNoRXZlbnRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudC50eXBlXHJcbiAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cclxuICAgKi9cblxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdO1xuXG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpcztcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igai5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBNdWx0aXBsaWVyIG9mIHRoZSByZWFsIHBhcnQuXHJcbiAqIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9RdWF0ZXJuaW9uXHJcbiAqL1xuXG5jbGFzcyBRdWF0ZXJuaW9uIHtcbiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgICB0aGlzLncgPSB3O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcbiAgICovXG5cblxuICBzZXQoeCwgeSwgeiwgdykge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMudyA9IHc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCB0byBhIHJlYWRhYmxlIGZvcm1hdFxyXG4gICAqIEByZXR1cm4ge1N0cmluZ30gXCJ4LHkseix3XCJcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56ICsgXCIsXCIgKyB0aGlzLnc7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCB0byBhbiBBcnJheVxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBbeCwgeSwgeiwgd11cclxuICAgKi9cblxuXG4gIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLnddO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIGFuIGF4aXMgYW5kIGFuIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICovXG5cblxuICBzZXRGcm9tQXhpc0FuZ2xlKHZlY3RvciwgYW5nbGUpIHtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpO1xuICAgIHRoaXMueCA9IHZlY3Rvci54ICogcztcbiAgICB0aGlzLnkgPSB2ZWN0b3IueSAqIHM7XG4gICAgdGhpcy56ID0gdmVjdG9yLnogKiBzO1xuICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uXHJcbiAgICogQHBhcmFtIHtWZWMzfSBbdGFyZ2V0QXhpc10gQSB2ZWN0b3Igb2JqZWN0IHRvIHJldXNlIGZvciBzdG9yaW5nIHRoZSBheGlzLlxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSwgZmlyc3QgZWxlbWVudCBpcyB0aGUgYXhpcyBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgKi9cblxuXG4gIHRvQXhpc0FuZ2xlKHRhcmdldEF4aXMgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWRcblxuICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLlxuXG4gICAgaWYgKHMgPCAwLjAwMSkge1xuICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnRcbiAgICAgIC8vIGlmIHMgY2xvc2UgdG8gemVybyB0aGVuIGRpcmVjdGlvbiBvZiBheGlzIG5vdCBpbXBvcnRhbnRcbiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueDsgLy8gaWYgaXQgaXMgaW1wb3J0YW50IHRoYXQgYXhpcyBpcyBub3JtYWxpc2VkIHRoZW4gcmVwbGFjZSB3aXRoIHg9MTsgeT16PTA7XG5cbiAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueTtcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMuejtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0QXhpcy54ID0gdGhpcy54IC8gczsgLy8gbm9ybWFsaXNlIGF4aXNcblxuICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gcztcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMueiAvIHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt0YXJnZXRBeGlzLCBhbmdsZV07XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBxdWF0ZXJuaW9uIHZhbHVlIGdpdmVuIHR3byB2ZWN0b3JzLiBUaGUgcmVzdWx0aW5nIHJvdGF0aW9uIHdpbGwgYmUgdGhlIG5lZWRlZCByb3RhdGlvbiB0byByb3RhdGUgdSB0byB2LlxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbVZlY3RvcnModSwgdikge1xuICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHtcbiAgICAgIGNvbnN0IHQxID0gc2Z2X3QxO1xuICAgICAgY29uc3QgdDIgPSBzZnZfdDI7XG4gICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7XG4gICAgICB0aGlzLnNldEZyb21BeGlzQW5nbGUodDEsIE1hdGguUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTtcbiAgICAgIHRoaXMueCA9IGEueDtcbiAgICAgIHRoaXMueSA9IGEueTtcbiAgICAgIHRoaXMueiA9IGEuejtcbiAgICAgIHRoaXMudyA9IE1hdGguc3FydCh1Lmxlbmd0aCgpICoqIDIgKiB2Lmxlbmd0aCgpICoqIDIpICsgdS5kb3Qodik7XG4gICAgICB0aGlzLm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHRoZSBxdWF0ZXJuaW9uIHdpdGggYW4gb3RoZXIgcXVhdGVybmlvbi5cclxuICAgKi9cblxuXG4gIG11bHQocXVhdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IGF4ID0gdGhpcy54O1xuICAgIGNvbnN0IGF5ID0gdGhpcy55O1xuICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgIGNvbnN0IGF3ID0gdGhpcy53O1xuICAgIGNvbnN0IGJ4ID0gcXVhdC54O1xuICAgIGNvbnN0IGJ5ID0gcXVhdC55O1xuICAgIGNvbnN0IGJ6ID0gcXVhdC56O1xuICAgIGNvbnN0IGJ3ID0gcXVhdC53O1xuICAgIHRhcmdldC54ID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gICAgdGFyZ2V0LnogPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xuICAgIHRhcmdldC53ID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgaW52ZXJzZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLlxyXG4gICAqL1xuXG5cbiAgaW52ZXJzZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgdyA9IHRoaXMudztcbiAgICB0aGlzLmNvbmp1Z2F0ZSh0YXJnZXQpO1xuICAgIGNvbnN0IGlub3JtMiA9IDEgLyAoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICAgIHRhcmdldC54ICo9IGlub3JtMjtcbiAgICB0YXJnZXQueSAqPSBpbm9ybTI7XG4gICAgdGFyZ2V0LnogKj0gaW5vcm0yO1xuICAgIHRhcmdldC53ICo9IGlub3JtMjtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcXVhdGVybmlvbiBjb25qdWdhdGVcclxuICAgKi9cblxuXG4gIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgdGFyZ2V0LnggPSAtdGhpcy54O1xuICAgIHRhcmdldC55ID0gLXRoaXMueTtcbiAgICB0YXJnZXQueiA9IC10aGlzLno7XG4gICAgdGFyZ2V0LncgPSB0aGlzLnc7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBOb3JtYWxpemUgdGhlIHF1YXRlcm5pb24uIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgcXVhdGVybmlvbi5cclxuICAgKiBAbWV0aG9kIG5vcm1hbGl6ZVxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGxldCBsID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudyk7XG5cbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgdGhpcy54ID0gMDtcbiAgICAgIHRoaXMueSA9IDA7XG4gICAgICB0aGlzLnogPSAwO1xuICAgICAgdGhpcy53ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IDEgLyBsO1xuICAgICAgdGhpcy54ICo9IGw7XG4gICAgICB0aGlzLnkgKj0gbDtcbiAgICAgIHRoaXMueiAqPSBsO1xuICAgICAgdGhpcy53ICo9IGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQXBwcm94aW1hdGlvbiBvZiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIFdvcmtzIGJlc3Qgd2hlbiBxdWF0IGlzIGFscmVhZHkgYWxtb3N0LW5vcm1hbGl6ZWQuXHJcbiAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvblxyXG4gICAqIEBhdXRob3IgdW5waGFzZWQsIGh0dHBzOi8vZ2l0aHViLmNvbS91bnBoYXNlZFxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplRmFzdCgpIHtcbiAgICBjb25zdCBmID0gKDMuMCAtICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpKSAvIDIuMDtcblxuICAgIGlmIChmID09PSAwKSB7XG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgICB0aGlzLncgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnggKj0gZjtcbiAgICAgIHRoaXMueSAqPSBmO1xuICAgICAgdGhpcy56ICo9IGY7XG4gICAgICB0aGlzLncgKj0gZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvclxyXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIGNvbnN0IHF4ID0gdGhpcy54O1xuICAgIGNvbnN0IHF5ID0gdGhpcy55O1xuICAgIGNvbnN0IHF6ID0gdGhpcy56O1xuICAgIGNvbnN0IHF3ID0gdGhpcy53OyAvLyBxKnZcblxuICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICAgIHRhcmdldC56ID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLlxyXG4gICAqIEBtZXRob2QgY29weVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gc291cmNlXHJcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpc1xyXG4gICAqL1xuXG5cbiAgY29weShxdWF0KSB7XG4gICAgdGhpcy54ID0gcXVhdC54O1xuICAgIHRoaXMueSA9IHF1YXQueTtcbiAgICB0aGlzLnogPSBxdWF0Lno7XG4gICAgdGhpcy53ID0gcXVhdC53O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGhlIHF1YXRlcm5pb24gdG8gZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24uIE9yZGVyOiBZWlgsIGFzIHRoaXMgcGFnZSBkZXNjcmliZXM6IGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL3N0YW5kYXJkcy9pbmRleC5odG1cclxuICAgKiBAbWV0aG9kIHRvRXVsZXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaHJlZS1jaGFyYWN0ZXIgc3RyaW5nLCBkZWZhdWx0cyB0byBcIllaWFwiXHJcbiAgICovXG5cblxuICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykge1xuICAgIGxldCBoZWFkaW5nO1xuICAgIGxldCBhdHRpdHVkZTtcbiAgICBsZXQgYmFuaztcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCB3ID0gdGhpcy53O1xuXG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgY2FzZSAnWVpYJzpcbiAgICAgICAgY29uc3QgdGVzdCA9IHggKiB5ICsgeiAqIHc7XG5cbiAgICAgICAgaWYgKHRlc3QgPiAwLjQ5OSkge1xuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IG5vcnRoIHBvbGVcbiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICBiYW5rID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7XG4gICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgIGhlYWRpbmcgPSAtMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYmFuayA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3Qgc3F4ID0geCAqIHg7XG4gICAgICAgICAgY29uc3Qgc3F5ID0geSAqIHk7XG4gICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7XG4gICAgICAgICAgaGVhZGluZyA9IE1hdGguYXRhbjIoMiAqIHkgKiB3IC0gMiAqIHggKiB6LCAxIC0gMiAqIHNxeSAtIDIgKiBzcXopOyAvLyBIZWFkaW5nXG5cbiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlXG5cbiAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFdWxlciBvcmRlciBcIiArIG9yZGVyICsgXCIgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC55ID0gaGVhZGluZztcbiAgICB0YXJnZXQueiA9IGF0dGl0dWRlO1xuICAgIHRhcmdldC54ID0gYmFuaztcbiAgfVxuICAvKipcclxuICAgKiBAcGFyYW0ge051bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhlIG9yZGVyIHRvIGFwcGx5IGFuZ2xlczogJ1hZWicgb3IgJ1lYWicgb3IgYW55IG90aGVyIGNvbWJpbmF0aW9uXHJcbiAgICogQHNlZSBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvY29udGVudC9TcGluQ2FsYy5tXHJcbiAgICovXG5cblxuICBzZXRGcm9tRXVsZXIoeCwgeSwgeiwgb3JkZXIgPSAnWFlaJykge1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpO1xuICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoeiAvIDIpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpO1xuICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oeiAvIDIpO1xuXG4gICAgaWYgKG9yZGVyID09PSAnWFlaJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWFonKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pYWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWlgnKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1haWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNsb25lXHJcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn1cclxuICAgKi9cblxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpO1xuICB9XG4gIC8qKlxyXG4gICAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gdG9RdWF0IHNlY29uZCBvcGVyYW5kXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQgYmV0d2VlbiB0aGUgc2VsZiBxdWF0ZXJuaW9uIGFuZCB0b1F1YXRcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFt0YXJnZXRdIEEgcXVhdGVybmlvbiB0byBzdG9yZSB0aGUgcmVzdWx0IGluLiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQuXHJcbiAgICogQHJldHVybnMge1F1YXRlcm5pb259IFRoZSBcInRhcmdldFwiIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgc2xlcnAodG9RdWF0LCB0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgYXggPSB0aGlzLng7XG4gICAgY29uc3QgYXkgPSB0aGlzLnk7XG4gICAgY29uc3QgYXogPSB0aGlzLno7XG4gICAgY29uc3QgYXcgPSB0aGlzLnc7XG4gICAgbGV0IGJ4ID0gdG9RdWF0Lng7XG4gICAgbGV0IGJ5ID0gdG9RdWF0Lnk7XG4gICAgbGV0IGJ6ID0gdG9RdWF0Lno7XG4gICAgbGV0IGJ3ID0gdG9RdWF0Lnc7XG4gICAgbGV0IG9tZWdhO1xuICAgIGxldCBjb3NvbTtcbiAgICBsZXQgc2lub207XG4gICAgbGV0IHNjYWxlMDtcbiAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZVxuXG4gICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcblxuICAgIGlmIChjb3NvbSA8IDAuMCkge1xuICAgICAgY29zb20gPSAtY29zb207XG4gICAgICBieCA9IC1ieDtcbiAgICAgIGJ5ID0gLWJ5O1xuICAgICAgYnogPSAtYno7XG4gICAgICBidyA9IC1idztcbiAgICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcblxuXG4gICAgaWYgKDEuMCAtIGNvc29tID4gMC4wMDAwMDEpIHtcbiAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxuICAgICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxuICAgICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgICAgc2NhbGUwID0gMS4wIC0gdDtcbiAgICAgIHNjYWxlMSA9IHQ7XG4gICAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG5cblxuICAgIHRhcmdldC54ID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcbiAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gICAgdGFyZ2V0LnogPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xuICAgIHRhcmdldC53ID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFJvdGF0ZSBhbiBhYnNvbHV0ZSBvcmllbnRhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFuIGFuZ3VsYXIgdmVsb2NpdHkgYW5kIGEgdGltZSBzdGVwLlxyXG4gICAqL1xuXG5cbiAgaW50ZWdyYXRlKGFuZ3VsYXJWZWxvY2l0eSwgZHQsIGFuZ3VsYXJGYWN0b3IsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LFxuICAgICAgICAgIGF5ID0gYW5ndWxhclZlbG9jaXR5LnkgKiBhbmd1bGFyRmFjdG9yLnksXG4gICAgICAgICAgYXogPSBhbmd1bGFyVmVsb2NpdHkueiAqIGFuZ3VsYXJGYWN0b3IueixcbiAgICAgICAgICBieCA9IHRoaXMueCxcbiAgICAgICAgICBieSA9IHRoaXMueSxcbiAgICAgICAgICBieiA9IHRoaXMueixcbiAgICAgICAgICBidyA9IHRoaXMudztcbiAgICBjb25zdCBoYWxmX2R0ID0gZHQgKiAwLjU7XG4gICAgdGFyZ2V0LnggKz0gaGFsZl9kdCAqIChheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnkpO1xuICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTtcbiAgICB0YXJnZXQueiArPSBoYWxmX2R0ICogKGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieCk7XG4gICAgdGFyZ2V0LncgKz0gaGFsZl9kdCAqICgtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbn1cbmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzZnZfdDIgPSBuZXcgVmVjMygpO1xuXG5jb25zdCBTSEFQRV9UWVBFUyA9IHtcbiAgU1BIRVJFOiAxLFxuICBQTEFORTogMixcbiAgQk9YOiA0LFxuICBDT01QT1VORDogOCxcbiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsXG4gIEhFSUdIVEZJRUxEOiAzMixcbiAgUEFSVElDTEU6IDY0LFxuICBDWUxJTkRFUjogMTI4LFxuICBUUklNRVNIOiAyNTZcbn07XG5cbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBzaGFwZXNcclxuICogQGNsYXNzIFNoYXBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXRlcmlhbD1udWxsXVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU2hhcGUge1xuICAvLyBJZGVudGlmeWVyIG9mIHRoZSBTaGFwZS5cbiAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLlxuICAvLyBUaGUgbG9jYWwgYm91bmRpbmcgc3BoZXJlIHJhZGl1cyBvZiB0aGlzIHNoYXBlLlxuICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuaWQgPSBTaGFwZS5pZENvdW50ZXIrKztcbiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDtcbiAgICB0aGlzLmNvbGxpc2lvblJlc3BvbnNlID0gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsID8gb3B0aW9ucy5tYXRlcmlhbCA6IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1c1xyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRocm93IFwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlIFwiICsgdGhpcy50eXBlO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGVcclxuICAgKiBAbWV0aG9kIHZvbHVtZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIHZvbHVtZSgpIHtcbiAgICB0aHJvdyBcInZvbHVtZSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS5cclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWFcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICB0aHJvdyBcImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgdGhyb3cgXCJjYWxjdWxhdGVXb3JsZEFBQkIoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cblxufVxuU2hhcGUuaWRDb3VudGVyID0gMDtcbi8qKlxyXG4gKiBUaGUgYXZhaWxhYmxlIHNoYXBlIHR5cGVzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSB0eXBlc1xyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cblxuU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUztcblxuY2xhc3MgVHJhbnNmb3JtIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikge1xuICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgZ2xvYmFsIHBvaW50IGluIGxvY2FsIHRyYW5zZm9ybSBjb29yZGluYXRlcy5cclxuICAgKi9cblxuXG4gIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHtcbiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSBsb2NhbCBwb2ludCBpbiBnbG9iYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLlxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb1dvcmxkKGxvY2FsUG9pbnQsIHJlc3VsdCkge1xuICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQpO1xuICB9XG5cbiAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgcG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7XG4gICAgcXVhdGVybmlvbi5jb25qdWdhdGUodG1wUXVhdCk7XG4gICAgdG1wUXVhdC52bXVsdChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBwb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTtcbiAgICByZXN1bHQudmFkZChwb3NpdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHZlY3RvclRvV29ybGRGcmFtZShxdWF0ZXJuaW9uLCBsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyB2ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi53ICo9IC0xO1xuICAgIHF1YXRlcm5pb24udm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7XG4gICAgcXVhdGVybmlvbi53ICo9IC0xO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbi8qKlxyXG4gKiBBIHNldCBvZiBwb2x5Z29ucyBkZXNjcmliaW5nIGEgY29udmV4IHNoYXBlLlxyXG4gKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWRcclxuICogaW4gdGhlIHNhbWUgM0QgcGxhbmUpLCBpbnN0ZWFkIHRoZXNlIHNob3VsZCBiZSBtZXJnZWQgaW50byBvbmUgcG9seWdvbi5cclxuICpcclxuICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMnc1xyXG4gKiBAcGFyYW0ge2FycmF5fSBmYWNlcyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgZGVzY3JpYmluZyB3aGljaCB2ZXJ0aWNlcyB0aGF0IGlzIGluY2x1ZGVkIGluIGVhY2ggZmFjZS5cclxuICpcclxuICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBzZWUgaHR0cDovL3d3dy5hbHRkZXZibG9nYWRheS5jb20vMjAxMS8wNS8xMy9jb250YWN0LWdlbmVyYXRpb24tYmV0d2Vlbi0zZC1jb252ZXgtbWVzaGVzL1xyXG4gKlxyXG4gKiBAdG9kbyBNb3ZlIHRoZSBjbGlwcGluZyBmdW5jdGlvbnMgdG8gQ29udGFjdEdlbmVyYXRvcj9cclxuICogQHRvZG8gQXV0b21hdGljYWxseSBtZXJnZSBjb3BsYW5hciBwb2x5Z29ucyBpbiBjb25zdHJ1Y3Rvci5cclxuICovXG5jbGFzcyBDb252ZXhQb2x5aGVkcm9uIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIGZhY2UgY29uc2lzdHMgb2ZcbiAgLy8gSWYgZ2l2ZW4sIHRoZXNlIGxvY2FsbHkgZGVmaW5lZCwgbm9ybWFsaXplZCBheGVzIGFyZSB0aGUgb25seSBvbmVzIGJlaW5nIGNoZWNrZWQgd2hlbiBkb2luZyBzZXBhcmF0aW5nIGF4aXMgY2hlY2suXG4gIGNvbnN0cnVjdG9yKHByb3BzID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICB2ZXJ0aWNlcyA9IFtdLFxuICAgICAgZmFjZXMgPSBbXSxcbiAgICAgIG5vcm1hbHMgPSBbXSxcbiAgICAgIGF4ZXMsXG4gICAgICBib3VuZGluZ1NwaGVyZVJhZGl1c1xuICAgIH0gPSBwcm9wcztcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXG4gICAgfSk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgIHRoaXMuZmFjZXMgPSBmYWNlcztcbiAgICB0aGlzLmZhY2VOb3JtYWxzID0gbm9ybWFscztcblxuICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5jb21wdXRlTm9ybWFscygpO1xuICAgIH1cblxuICAgIGlmICghYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IGJvdW5kaW5nU3BoZXJlUmFkaXVzO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRWZXJ0aWNlcyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC52ZXJ0aWNlc1xuXG4gICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMud29ybGRGYWNlTm9ybWFscyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC5mYWNlTm9ybWFsc1xuXG4gICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMudW5pcXVlQXhlcyA9IGF4ZXMgPyBheGVzLnNsaWNlKCkgOiBudWxsO1xuICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTtcbiAgICB0aGlzLmNvbXB1dGVFZGdlcygpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHVuaXF1ZUVkZ2VzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlRWRnZXNcclxuICAgKi9cblxuXG4gIGNvbXB1dGVFZGdlcygpIHtcbiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IGVkZ2VzID0gdGhpcy51bmlxdWVFZGdlcztcbiAgICBlZGdlcy5sZW5ndGggPSAwO1xuICAgIGNvbnN0IGVkZ2UgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07XG4gICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtVmVydGljZXM7IGorKykge1xuICAgICAgICBjb25zdCBrID0gKGogKyAxKSAlIG51bVZlcnRpY2VzO1xuICAgICAgICB2ZXJ0aWNlc1tmYWNlW2pdXS52c3ViKHZlcnRpY2VzW2ZhY2Vba11dLCBlZGdlKTtcbiAgICAgICAgZWRnZS5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgIT09IGVkZ2VzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgaWYgKGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSB8fCBlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkpIHtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICBlZGdlcy5wdXNoKGVkZ2UuY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgbm9ybWFscyBvZiB0aGUgZmFjZXMuIFdpbGwgcmV1c2UgZXhpc3RpbmcgVmVjMyBvYmplY3RzIGluIHRoZSAuZmFjZU5vcm1hbHMgYXJyYXkgaWYgdGhleSBleGlzdC5cclxuICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxzXHJcbiAgICovXG5cblxuICBjb21wdXRlTm9ybWFscygpIHtcbiAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIHNvIGFsbCB2ZXJ0aWNlcyBleGlzdHMgZm9yIHRoaXMgZmFjZVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlcnRleCBcIiArIHRoaXMuZmFjZXNbaV1bal0gKyBcIiBub3QgZm91bmQhXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ldIHx8IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7XG4gICAgICBuLm5lZ2F0ZShuKTtcbiAgICAgIHRoaXMuZmFjZU5vcm1hbHNbaV0gPSBuO1xuICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTtcblxuICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCIuZmFjZU5vcm1hbHNbXCIgKyBpICsgXCJdID0gVmVjMyhcIiArIG4udG9TdHJpbmcoKSArIFwiKSBsb29rcyBsaWtlIGl0IHBvaW50cyBpbnRvIHRoZSBzaGFwZT8gVGhlIHZlcnRpY2VzIGZvbGxvdy4gTWFrZSBzdXJlIHRoZXkgYXJlIG9yZGVyZWQgQ0NXIGFyb3VuZCB0aGUgbm9ybWFsLCB1c2luZyB0aGUgcmlnaHQgaGFuZCBydWxlLlwiKTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCIudmVydGljZXNbXCIgKyB0aGlzLmZhY2VzW2ldW2pdICsgXCJdID0gVmVjMyhcIiArIHRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0udG9TdHJpbmcoKSArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgYSBmYWNlIGZyb20gaXRzIHZlcnRpY2VzXHJcbiAgICogQG1ldGhvZCBnZXRGYWNlTm9ybWFsXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICovXG5cblxuICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ldO1xuICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07XG4gICAgY29uc3QgdmMgPSB0aGlzLnZlcnRpY2VzW2ZbMl1dO1xuICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgY2xpcEFnYWluc3RIdWxsXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0JcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgQ2xhbXAgZGlzdGFuY2VcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdFxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBUaGUgYW4gYXJyYXkgb2YgY29udGFjdCBwb2ludCBvYmplY3RzLCBzZWUgY2xpcEZhY2VBZ2FpbnN0SHVsbFxyXG4gICAqL1xuXG5cbiAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkge1xuICAgIGNvbnN0IFdvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICBsZXQgY2xvc2VzdEZhY2VCID0gLTE7XG4gICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEIuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHtcbiAgICAgIFdvcmxkTm9ybWFsLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmFjZV0pO1xuICAgICAgcXVhdEIudm11bHQoV29ybGROb3JtYWwsIFdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IGQgPSBXb3JsZE5vcm1hbC5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7XG5cbiAgICAgIGlmIChkID4gZG1heCkge1xuICAgICAgICBkbWF4ID0gZDtcbiAgICAgICAgY2xvc2VzdEZhY2VCID0gZmFjZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB3b3JsZFZlcnRzQjEgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYiA9IGh1bGxCLnZlcnRpY2VzW2h1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl1baV1dO1xuICAgICAgY29uc3Qgd29ybGRiID0gbmV3IFZlYzMoKTtcbiAgICAgIHdvcmxkYi5jb3B5KGIpO1xuICAgICAgcXVhdEIudm11bHQod29ybGRiLCB3b3JsZGIpO1xuICAgICAgcG9zQi52YWRkKHdvcmxkYiwgd29ybGRiKTtcbiAgICAgIHdvcmxkVmVydHNCMS5wdXNoKHdvcmxkYik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3Nlc3RGYWNlQiA+PSAwKSB7XG4gICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyXHJcbiAgICogQG1ldGhvZCBmaW5kU2VwYXJhdGluZ0F4aXNcclxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdGFyZ2V0IHZlY3RvciB0byBzYXZlIHRoZSBheGlzIGluXHJcbiAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZVxyXG4gICAqL1xuXG5cbiAgZmluZFNlcGFyYXRpbmdBeGlzKGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIsIHRhcmdldCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHtcbiAgICBjb25zdCBmYWNlQU5vcm1hbFdTMyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkZWx0YUMgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTAgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IENyb3NzID0gbmV3IFZlYzMoKTtcbiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuXG4gICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7XG4gICAgICBjb25zdCBudW1GYWNlc0EgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEEubGVuZ3RoIDogaHVsbEEuZmFjZXMubGVuZ3RoOyAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxBXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNBOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEFbaV0gOiBpOyAvLyBHZXQgd29ybGQgZmFjZSBub3JtYWxcblxuICAgICAgICBmYWNlQU5vcm1hbFdTMy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZpXSk7XG4gICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQS51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB3b3JsZCBheGlzXG4gICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWh1bGxCLnVuaXF1ZUF4ZXMpIHtcbiAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEJcbiAgICAgIGNvbnN0IG51bUZhY2VzQiA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0Qi5sZW5ndGggOiBodWxsQi5mYWNlcy5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNCOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEJbaV0gOiBpO1xuICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pO1xuICAgICAgICBxdWF0Qi52bXVsdChXb3JsZG5vcm1hbDEsIFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlcyBpbiBCXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEIudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUZXN0IGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGUwID0gMDsgZTAgIT09IGh1bGxBLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTArKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGVkZ2VcbiAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7XG5cbiAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykge1xuICAgICAgICAvLyBHZXQgd29ybGQgZWRnZSAyXG4gICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUVkZ2VzW2UxXSwgd29ybGRFZGdlMSk7XG4gICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpO1xuXG4gICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7XG4gICAgICAgICAgQ3Jvc3Mubm9ybWFsaXplKCk7XG4gICAgICAgICAgY29uc3QgZGlzdCA9IGh1bGxBLnRlc3RTZXBBeGlzKENyb3NzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICAgIGlmIChkaXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXN0IDwgZG1pbikge1xuICAgICAgICAgICAgZG1pbiA9IGRpc3Q7XG4gICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zQi52c3ViKHBvc0EsIGRlbHRhQyk7XG5cbiAgICBpZiAoZGVsdGFDLmRvdCh0YXJnZXQpID4gMC4wKSB7XG4gICAgICB0YXJnZXQubmVnYXRlKHRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogVGVzdCBzZXBhcmF0aW5nIGF4aXMgYWdhaW5zdCB0d28gaHVsbHMuIEJvdGggaHVsbHMgYXJlIHByb2plY3RlZCBvbnRvIHRoZSBheGlzIGFuZCB0aGUgb3ZlcmxhcCBzaXplIGlzIHJldHVybmVkIGlmIHRoZXJlIGlzIG9uZS5cclxuICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzXHJcbiAgICogQHBhcmFtIHtWZWMzfSBheGlzXHJcbiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0JcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXHJcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3ZlcmxhcCBkZXB0aCwgb3IgRkFMU0UgaWYgbm8gcGVuZXRyYXRpb24uXHJcbiAgICovXG5cblxuICB0ZXN0U2VwQXhpcyhheGlzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKSB7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQSwgYXhpcywgcG9zQSwgcXVhdEEsIG1heG1pbkEpO1xuICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQiwgYXhpcywgcG9zQiwgcXVhdEIsIG1heG1pbkIpO1xuICAgIGNvbnN0IG1heEEgPSBtYXhtaW5BWzBdO1xuICAgIGNvbnN0IG1pbkEgPSBtYXhtaW5BWzFdO1xuICAgIGNvbnN0IG1heEIgPSBtYXhtaW5CWzBdO1xuICAgIGNvbnN0IG1pbkIgPSBtYXhtaW5CWzFdO1xuXG4gICAgaWYgKG1heEEgPCBtaW5CIHx8IG1heEIgPCBtaW5BKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIFNlcGFyYXRlZFxuICAgIH1cblxuICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7XG4gICAgY29uc3QgZDEgPSBtYXhCIC0gbWluQTtcbiAgICBjb25zdCBkZXB0aCA9IGQwIDwgZDEgPyBkMCA6IGQxO1xuICAgIHJldHVybiBkZXB0aDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkge1xuICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWFcbiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXRcbiAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBhYWJibWluID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCk7XG4gICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDtcbiAgICBjb25zdCB5ID0gYWFiYm1heC55IC0gYWFiYm1pbi55O1xuICAgIGNvbnN0IHogPSBhYWJibWF4LnogLSBhYWJibWluLno7XG4gICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7XG4gICAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeCAqIDIgKiB4ICsgMiAqIHogKiAyICogeik7XG4gICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmYWNlX2kgSW5kZXggb2YgdGhlIGZhY2VcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGZhY2VfaSkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07XG4gICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbZmFjZV9pXTtcbiAgICBjb25zdCB2ID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCBjID0gLW4uZG90KHYpO1xuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxyXG4gICAqIENsaXAgYSBmYWNlIGFnYWluc3QgYSBodWxsLlxyXG4gICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0SHVsbFxyXG4gICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge0FycmF5fSB3b3JsZFZlcnRzQjEgQW4gYXJyYXkgb2YgVmVjMyB3aXRoIHZlcnRpY2VzIGluIHRoZSB3b3JsZCBmcmFtZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBEaXN0YW5jZSBjbGFtcGluZ1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0XHJcbiAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICovXG5cblxuICBjbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkge1xuICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBXb3JsZEVkZ2UwID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZFBsYW5lQW5vcm1hbDEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZEExID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBsb2NhbFBsYW5lTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBodWxsQSA9IHRoaXM7XG4gICAgY29uc3Qgd29ybGRWZXJ0c0IyID0gW107XG4gICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxO1xuICAgIGNvbnN0IHBWdHhPdXQgPSB3b3JsZFZlcnRzQjI7XG4gICAgbGV0IGNsb3Nlc3RGYWNlQSA9IC0xO1xuICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXNcblxuICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHtcbiAgICAgIGZhY2VBTm9ybWFsV1MuY29weShodWxsQS5mYWNlTm9ybWFsc1tmYWNlXSk7XG4gICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTLCBmYWNlQU5vcm1hbFdTKTtcbiAgICAgIGNvbnN0IGQgPSBmYWNlQU5vcm1hbFdTLmRvdChzZXBhcmF0aW5nTm9ybWFsKTtcblxuICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgIGRtaW4gPSBkO1xuICAgICAgICBjbG9zZXN0RmFjZUEgPSBmYWNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjbG9zZXN0RmFjZUEgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXNcblxuXG4gICAgY29uc3QgcG9seUEgPSBodWxsQS5mYWNlc1tjbG9zZXN0RmFjZUFdO1xuICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGh1bGxBLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovXG4gICAgICAgIHBvbHlBLmluZGV4T2YoaHVsbEEuZmFjZXNbaV1bal0pICE9PSAtMSAmJlxuICAgICAgICAvKiBOb3QgdGhlIG9uZSB3ZSBhcmUgbG9va2luZyBmb3IgY29ubmVjdGlvbnMgZnJvbSAqL1xuICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiZcbiAgICAgICAgLyogTm90IGFscmVhZHkgYWRkZWQgKi9cbiAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMuaW5kZXhPZihpKSA9PT0gLTEpIHtcbiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSxcbiAgICAvLyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGUgd2l0bmVzcyBmYWNlXG5cblxuICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVtpXV07XG4gICAgICBjb25zdCBiID0gaHVsbEEudmVydGljZXNbcG9seUFbKGkgKyAxKSAlIG51bVZlcnRpY2VzQV1dO1xuICAgICAgYS52c3ViKGIsIGVkZ2UwKTtcbiAgICAgIFdvcmxkRWRnZTAuY29weShlZGdlMCk7XG4gICAgICBxdWF0QS52bXVsdChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTtcbiAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTtcbiAgICAgIHdvcmxkUGxhbmVBbm9ybWFsMS5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7XG4gICAgICBxdWF0QS52bXVsdCh3b3JsZFBsYW5lQW5vcm1hbDEsIHdvcmxkUGxhbmVBbm9ybWFsMSk7XG4gICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpO1xuICAgICAgV29ybGRFZGdlMC5jcm9zcyh3b3JsZFBsYW5lQW5vcm1hbDEsIHBsYW5lTm9ybWFsV1MxKTtcbiAgICAgIHBsYW5lTm9ybWFsV1MxLm5lZ2F0ZShwbGFuZU5vcm1hbFdTMSk7XG4gICAgICB3b3JsZEExLmNvcHkoYSk7XG4gICAgICBxdWF0QS52bXVsdCh3b3JsZEExLCB3b3JsZEExKTtcbiAgICAgIHBvc0EudmFkZCh3b3JsZEExLCB3b3JsZEExKTtcbiAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldO1xuICAgICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbb3RoZXJGYWNlXSk7XG4gICAgICBjb25zdCBsb2NhbFBsYW5lRXEgPSB0aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2Uob3RoZXJGYWNlKTtcbiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTtcbiAgICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpO1xuICAgICAgY29uc3QgcGxhbmVFcVdTID0gbG9jYWxQbGFuZUVxIC0gcGxhbmVOb3JtYWxXUy5kb3QocG9zQSk7IC8vIENsaXAgZmFjZSBhZ2FpbnN0IG91ciBjb25zdHJ1Y3RlZCBwbGFuZVxuXG4gICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdFBsYW5lKHBWdHhJbiwgcFZ0eE91dCwgcGxhbmVOb3JtYWxXUywgcGxhbmVFcVdTKTsgLy8gVGhyb3cgYXdheSBhbGwgY2xpcHBlZCBwb2ludHMsIGJ1dCBzYXZlIHRoZSByZW1haW5pbmcgdW50aWwgbmV4dCBjbGlwXG5cbiAgICAgIHdoaWxlIChwVnR4SW4ubGVuZ3RoKSB7XG4gICAgICAgIHBWdHhJbi5zaGlmdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAocFZ0eE91dC5sZW5ndGgpIHtcbiAgICAgICAgcFZ0eEluLnB1c2gocFZ0eE91dC5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9IC8vIG9ubHkga2VlcCBjb250YWN0IHBvaW50cyB0aGF0IGFyZSBiZWhpbmQgdGhlIHdpdG5lc3MgZmFjZVxuXG5cbiAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTtcbiAgICBjb25zdCBsb2NhbFBsYW5lRXEgPSB0aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2UoY2xvc2VzdEZhY2VBKTtcbiAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7XG4gICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7XG4gICAgY29uc3QgcGxhbmVFcVdTID0gbG9jYWxQbGFuZUVxIC0gcGxhbmVOb3JtYWxXUy5kb3QocG9zQSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBWdHhJbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRlcHRoID0gcGxhbmVOb3JtYWxXUy5kb3QocFZ0eEluW2ldKSArIHBsYW5lRXFXUzsgLy8gPz8/XG5cbiAgICAgIGlmIChkZXB0aCA8PSBtaW5EaXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xhbXBlZDogZGVwdGg9XCIgKyBkZXB0aCArIFwiIHRvIG1pbkRpc3Q9XCIgKyBtaW5EaXN0KTtcbiAgICAgICAgZGVwdGggPSBtaW5EaXN0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVwdGggPD0gbWF4RGlzdCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHBWdHhJbltpXTtcblxuICAgICAgICBpZiAoZGVwdGggPD0gMWUtNikge1xuICAgICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgIG5vcm1hbDogcGxhbmVOb3JtYWxXUyxcbiAgICAgICAgICAgIGRlcHRoXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXN1bHQucHVzaChwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDbGlwIGEgZmFjZSBpbiBhIGh1bGwgYWdhaW5zdCB0aGUgYmFjayBvZiBhIHBsYW5lLlxyXG4gICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0UGxhbmVcclxuICAgKiBAcGFyYW0ge0FycmF5fSBpblZlcnRpY2VzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gb3V0VmVydGljZXNcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBsYW5lTm9ybWFsXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBsYW5lQ29uc3RhbnQgVGhlIGNvbnN0YW50IGluIHRoZSBtYXRoZW1hdGljYWwgcGxhbmUgZXF1YXRpb25cclxuICAgKi9cblxuXG4gIGNsaXBGYWNlQWdhaW5zdFBsYW5lKGluVmVydGljZXMsIG91dFZlcnRpY2VzLCBwbGFuZU5vcm1hbCwgcGxhbmVDb25zdGFudCkge1xuICAgIGxldCBuX2RvdF9maXJzdDtcbiAgICBsZXQgbl9kb3RfbGFzdDtcbiAgICBjb25zdCBudW1WZXJ0cyA9IGluVmVydGljZXMubGVuZ3RoO1xuXG4gICAgaWYgKG51bVZlcnRzIDwgMikge1xuICAgICAgcmV0dXJuIG91dFZlcnRpY2VzO1xuICAgIH1cblxuICAgIGxldCBmaXJzdFZlcnRleCA9IGluVmVydGljZXNbaW5WZXJ0aWNlcy5sZW5ndGggLSAxXTtcbiAgICBsZXQgbGFzdFZlcnRleCA9IGluVmVydGljZXNbMF07XG4gICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDtcblxuICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykge1xuICAgICAgbGFzdFZlcnRleCA9IGluVmVydGljZXNbdmldO1xuICAgICAgbl9kb3RfbGFzdCA9IHBsYW5lTm9ybWFsLmRvdChsYXN0VmVydGV4KSArIHBsYW5lQ29uc3RhbnQ7XG5cbiAgICAgIGlmIChuX2RvdF9maXJzdCA8IDApIHtcbiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7XG4gICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPCAwLCBzbyBvdXRwdXQgbGFzdFZlcnRleFxuICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpO1xuICAgICAgICAgIG5ld3YuY29weShsYXN0VmVydGV4KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kID49IDAsIHNvIG91dHB1dCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkge1xuICAgICAgICAgIC8vIFN0YXJ0ID49IDAsIGVuZCA8IDAgc28gb3V0cHV0IGludGVyc2VjdGlvbiBhbmQgZW5kXG4gICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobGFzdFZlcnRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmlyc3RWZXJ0ZXggPSBsYXN0VmVydGV4O1xuICAgICAgbl9kb3RfZmlyc3QgPSBuX2RvdF9sYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBvdXRWZXJ0aWNlcztcbiAgfSAvLyBVcGRhdGVzIC53b3JsZFZlcnRpY2VzIGFuZCBzZXRzIC53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgdG8gZmFsc2UuXG5cblxuICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkge1xuICAgIHdoaWxlICh0aGlzLndvcmxkVmVydGljZXMubGVuZ3RoIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCB3b3JsZFZlcnRzID0gdGhpcy53b3JsZFZlcnRpY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHF1YXQudm11bHQodmVydHNbaV0sIHdvcmxkVmVydHNbaV0pO1xuICAgICAgcG9zaXRpb24udmFkZCh3b3JsZFZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KSB7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGFhYmJtaW4uc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIGFhYmJtYXguc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydGljZXNbaV07XG5cbiAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHtcbiAgICAgICAgYWFiYm1pbi54ID0gdi54O1xuICAgICAgfSBlbHNlIGlmICh2LnggPiBhYWJibWF4LngpIHtcbiAgICAgICAgYWFiYm1heC54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAodi55IDwgYWFiYm1pbi55KSB7XG4gICAgICAgIGFhYmJtaW4ueSA9IHYueTtcbiAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7XG4gICAgICAgIGFhYmJtYXgueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueiA8IGFhYmJtaW4ueikge1xuICAgICAgICBhYWJibWluLnogPSB2Lno7XG4gICAgICB9IGVsc2UgaWYgKHYueiA+IGFhYmJtYXgueikge1xuICAgICAgICBhYWJibWF4LnogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS5cclxuICAgKiBAbWV0aG9kIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzXHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkge1xuICAgIGNvbnN0IE4gPSB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDtcblxuICAgIHdoaWxlICh0aGlzLndvcmxkRmFjZU5vcm1hbHMubGVuZ3RoIDwgTikge1xuICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzLnB1c2gobmV3IFZlYzMoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7XG4gICAgY29uc3Qgd29ybGROb3JtYWxzID0gdGhpcy53b3JsZEZhY2VOb3JtYWxzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1c1xyXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlclxuICAgIGxldCBtYXgyID0gMDtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm0yID0gdmVydHNbaV0ubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgICBpZiAobm9ybTIgPiBtYXgyKSB7XG4gICAgICAgIG1heDIgPSBub3JtMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCXHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pblxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heFxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG4gICAgbGV0IG1pbng7XG4gICAgbGV0IG1pbnk7XG4gICAgbGV0IG1pbno7XG4gICAgbGV0IG1heHg7XG4gICAgbGV0IG1heHk7XG4gICAgbGV0IG1heHo7XG4gICAgbGV0IHRlbXBXb3JsZFZlcnRleCA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wV29ybGRWZXJ0ZXguY29weSh2ZXJ0c1tpXSk7XG4gICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTtcbiAgICAgIHBvcy52YWRkKHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTtcbiAgICAgIGNvbnN0IHYgPSB0ZW1wV29ybGRWZXJ0ZXg7XG5cbiAgICAgIGlmIChtaW54ID09PSB1bmRlZmluZWQgfHwgdi54IDwgbWlueCkge1xuICAgICAgICBtaW54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4eCA9PT0gdW5kZWZpbmVkIHx8IHYueCA+IG1heHgpIHtcbiAgICAgICAgbWF4eCA9IHYueDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7XG4gICAgICAgIG1pbnkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXh5ID09PSB1bmRlZmluZWQgfHwgdi55ID4gbWF4eSkge1xuICAgICAgICBtYXh5ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAobWlueiA9PT0gdW5kZWZpbmVkIHx8IHYueiA8IG1pbnopIHtcbiAgICAgICAgbWlueiA9IHYuejtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7XG4gICAgICAgIG1heHogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWluLnNldChtaW54LCBtaW55LCBtaW56KTtcbiAgICBtYXguc2V0KG1heHgsIG1heHksIG1heHopO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lXHJcbiAgICogQG1ldGhvZCB2b2x1bWVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zXHJcbiAgICogQG1ldGhvZCBnZXRBdmVyYWdlUG9pbnRMb2NhbFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBnZXRBdmVyYWdlUG9pbnRMb2NhbCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7XG4gICAgfVxuXG4gICAgdGFyZ2V0LnNjYWxlKDEgLyB2ZXJ0cy5sZW5ndGgsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBUcmFuc2Zvcm0gYWxsIGxvY2FsIHBvaW50cy4gV2lsbCBjaGFuZ2UgdGhlIC52ZXJ0aWNlc1xyXG4gICAqIEBtZXRob2QgdHJhbnNmb3JtQWxsUG9pbnRzXHJcbiAgICogQHBhcmFtICB7VmVjM30gb2Zmc2V0XHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqL1xuXG5cbiAgdHJhbnNmb3JtQWxsUG9pbnRzKG9mZnNldCwgcXVhdCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uXG5cbiAgICBpZiAocXVhdCkge1xuICAgICAgLy8gUm90YXRlIHZlcnRpY2VzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07XG4gICAgICAgIHF1YXQudm11bHQodiwgdik7XG4gICAgICB9IC8vIFJvdGF0ZSBmYWNlIG5vcm1hbHNcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuZmFjZU5vcm1hbHNbaV07XG4gICAgICAgIHF1YXQudm11bHQodiwgdik7XG4gICAgICB9XG4gICAgICAvKlxyXG4gICAgICAgICAgICAvLyBSb3RhdGUgZWRnZXNcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy51bmlxdWVFZGdlc1tpXTtcclxuICAgICAgICAgICAgICAgIHF1YXQudm11bHQodix2KTtcclxuICAgICAgICAgICAgfSovXG5cbiAgICB9IC8vIEFwcGx5IG9mZnNldFxuXG5cbiAgICBpZiAob2Zmc2V0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07XG4gICAgICAgIHYudmFkZChvZmZzZXQsIHYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBwIGlzIGluc2lkZSB0aGUgcG9seWhlZHJhLiBNdXN0IGJlIGluIGxvY2FsIGNvb3Jkcy5cclxuICAgKiBUaGUgcG9pbnQgbGllcyBvdXRzaWRlIG9mIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgb3RoZXIgcG9pbnRzIGlmIGFuZCBvbmx5IGlmIHRoZSBkaXJlY3Rpb25cclxuICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuXHJcbiAgICogQG1ldGhvZCBwb2ludElzSW5zaWRlXHJcbiAgICogQHBhcmFtICB7VmVjM30gcCAgICAgIEEgcG9pbnQgZ2l2ZW4gaW4gbG9jYWwgY29vcmRpbmF0ZXNcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgcG9pbnRJc0luc2lkZShwKSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlcztcbiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5mYWNlTm9ybWFscztcbiAgICBjb25zdCBwb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBuID0gbm9ybWFsc1tpXTtcbiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tmYWNlc1tpXVswXV07IC8vIFdlIG9ubHkgbmVlZCBvbmUgcG9pbnQgaW4gdGhlIGZhY2VcbiAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpc1xuXG4gICAgICBjb25zdCB2VG9QID0gbmV3IFZlYzMoKTtcbiAgICAgIHAudnN1Yih2LCB2VG9QKTtcbiAgICAgIGNvbnN0IHIxID0gbi5kb3QodlRvUCk7XG4gICAgICBjb25zdCB2VG9Qb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7XG4gICAgICBwb2ludEluc2lkZS52c3ViKHYsIHZUb1BvaW50SW5zaWRlKTtcbiAgICAgIGNvbnN0IHIyID0gbi5kb3QodlRvUG9pbnRJbnNpZGUpO1xuXG4gICAgICBpZiAocjEgPCAwICYmIHIyID4gMCB8fCByMSA+IDAgJiYgcjIgPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LlxuICAgICAgfVxuICAgIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLlxuXG5cbiAgICByZXR1cm4gIC0xO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlc1xyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbFxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZhXHJcbiAqIEBwYXJhbSB7VmVjM30gdmJcclxuICogQHBhcmFtIHtWZWMzfSB2Y1xyXG4gKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gKi9cblxuQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4ge1xuICBjb25zdCBjYiA9IG5ldyBWZWMzKCk7XG4gIGNvbnN0IGFiID0gbmV3IFZlYzMoKTtcbiAgdmIudnN1Yih2YSwgYWIpO1xuICB2Yy52c3ViKHZiLCBjYik7XG4gIGNiLmNyb3NzKGFiLCB0YXJnZXQpO1xuXG4gIGlmICghdGFyZ2V0LmlzWmVybygpKSB7XG4gICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpO1xuICB9XG59O1xuXG5jb25zdCBtYXhtaW5BID0gW107XG5jb25zdCBtYXhtaW5CID0gW107XG4vKipcclxuICogR2V0IG1heCBhbmQgbWluIGRvdCBwcm9kdWN0IG9mIGEgY29udmV4IGh1bGwgYXQgcG9zaXRpb24gKHBvcyxxdWF0KSBwcm9qZWN0ZWQgb250byBhbiBheGlzLlxyXG4gKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgcHJvamVjdFxyXG4gKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxcclxuICogQHBhcmFtIHtWZWMzfSBheGlzXHJcbiAqIEBwYXJhbSB7VmVjM30gcG9zXHJcbiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdFxyXG4gKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgcmVzdWx0WzBdIGFuZCByZXN1bHRbMV0gd2lsbCBiZSBzZXQgdG8gbWF4aW11bSBhbmQgbWluaW11bSwgcmVzcGVjdGl2ZWx5LlxyXG4gKi9cblxuQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0ID0gKHNoYXBlLCBheGlzLCBwb3MsIHF1YXQsIHJlc3VsdCkgPT4ge1xuICBjb25zdCBuID0gc2hhcGUudmVydGljZXMubGVuZ3RoO1xuICBjb25zdCBsb2NhbEF4aXMgPSBuZXcgVmVjMygpO1xuICBsZXQgbWF4ID0gMDtcbiAgbGV0IG1pbiA9IDA7XG4gIGNvbnN0IGxvY2FsT3JpZ2luID0gbmV3IFZlYzMoKTtcbiAgY29uc3QgdnMgPSBzaGFwZS52ZXJ0aWNlcztcbiAgbG9jYWxPcmlnaW4uc2V0WmVybygpOyAvLyBUcmFuc2Zvcm0gdGhlIGF4aXMgdG8gbG9jYWxcblxuICBUcmFuc2Zvcm0udmVjdG9yVG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgYXhpcywgbG9jYWxBeGlzKTtcbiAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgbG9jYWxPcmlnaW4sIGxvY2FsT3JpZ2luKTtcbiAgY29uc3QgYWRkID0gbG9jYWxPcmlnaW4uZG90KGxvY2FsQXhpcyk7XG4gIG1pbiA9IG1heCA9IHZzWzBdLmRvdChsb2NhbEF4aXMpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7XG5cbiAgICBpZiAodmFsID4gbWF4KSB7XG4gICAgICBtYXggPSB2YWw7XG4gICAgfVxuXG4gICAgaWYgKHZhbCA8IG1pbikge1xuICAgICAgbWluID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIG1pbiAtPSBhZGQ7XG4gIG1heCAtPSBhZGQ7XG5cbiAgaWYgKG1pbiA+IG1heCkge1xuICAgIC8vIEluY29uc2lzdGVudCAtIHN3YXBcbiAgICBjb25zdCB0ZW1wID0gbWluO1xuICAgIG1pbiA9IG1heDtcbiAgICBtYXggPSB0ZW1wO1xuICB9IC8vIE91dHB1dFxuXG5cbiAgcmVzdWx0WzBdID0gbWF4O1xuICByZXN1bHRbMV0gPSBtaW47XG59O1xuXG4vKipcclxuICogQSAzZCBib3ggc2hhcGUuXHJcbiAqIEBjbGFzcyBCb3hcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHNcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKi9cbmNsYXNzIEJveCBleHRlbmRzIFNoYXBlIHtcbiAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuXG4gIGNvbnN0cnVjdG9yKGhhbGZFeHRlbnRzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YXG4gICAgfSk7XG4gICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb25cclxuICAgKi9cblxuXG4gIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHtcbiAgICBjb25zdCBzeCA9IHRoaXMuaGFsZkV4dGVudHMueDtcbiAgICBjb25zdCBzeSA9IHRoaXMuaGFsZkV4dGVudHMueTtcbiAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejtcbiAgICBjb25zdCBWID0gVmVjMztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtuZXcgVigtc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgLXN5LCBzeiksIG5ldyBWKHN4LCBzeSwgc3opLCBuZXcgVigtc3gsIHN5LCBzeildO1xuICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXpcbiAgICBbNCwgNSwgNiwgN10sIC8vICt6XG4gICAgWzUsIDQsIDAsIDFdLCAvLyAteVxuICAgIFsyLCAzLCA3LCA2XSwgLy8gK3lcbiAgICBbMCwgNCwgNywgM10sIC8vIC14XG4gICAgWzEsIDIsIDYsIDVdIC8vICt4XG4gICAgXTtcbiAgICBjb25zdCBheGVzID0gW25ldyBWKDAsIDAsIDEpLCBuZXcgVigwLCAxLCAwKSwgbmV3IFYoMSwgMCwgMCldO1xuICAgIGNvbnN0IGggPSBuZXcgQ29udmV4UG9seWhlZHJvbih7XG4gICAgICB2ZXJ0aWNlcyxcbiAgICAgIGZhY2VzLFxuICAgICAgYXhlc1xuICAgIH0pO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gaDtcbiAgICBoLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKHRoaXMuaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGJveCA2IHNpZGUgbm9ybWFsc1xyXG4gICAqIEBtZXRob2QgZ2V0U2lkZU5vcm1hbHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSAgICAgIHNpeFRhcmdldFZlY3RvcnMgQW4gYXJyYXkgb2YgNiB2ZWN0b3JzLCB0byBzdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgbm9ybWFscyBpbi5cclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXQgICAgICAgICAgICAgT3JpZW50YXRpb24gdG8gYXBwbHkgdG8gdGhlIG5vcm1hbCB2ZWN0b3JzLiBJZiBub3QgcHJvdmlkZWQsIHRoZSB2ZWN0b3JzIHdpbGwgYmUgaW4gcmVzcGVjdCB0byB0aGUgbG9jYWwgZnJhbWUuXHJcbiAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICovXG5cblxuICBnZXRTaWRlTm9ybWFscyhzaXhUYXJnZXRWZWN0b3JzLCBxdWF0KSB7XG4gICAgY29uc3Qgc2lkZXMgPSBzaXhUYXJnZXRWZWN0b3JzO1xuICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50cztcbiAgICBzaWRlc1swXS5zZXQoZXgueCwgMCwgMCk7XG4gICAgc2lkZXNbMV0uc2V0KDAsIGV4LnksIDApO1xuICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTtcbiAgICBzaWRlc1szXS5zZXQoLWV4LngsIDAsIDApO1xuICAgIHNpZGVzWzRdLnNldCgwLCAtZXgueSwgMCk7XG4gICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTtcblxuICAgIGlmIChxdWF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWF0LnZtdWx0KHNpZGVzW2ldLCBzaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpZGVzO1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5oYWxmRXh0ZW50cy5sZW5ndGgoKTtcbiAgfVxuXG4gIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgY29uc3QgY29ybmVycyA9IFtbZS54LCBlLnksIGUuel0sIFstZS54LCBlLnksIGUuel0sIFstZS54LCAtZS55LCBlLnpdLCBbLWUueCwgLWUueSwgLWUuel0sIFtlLngsIC1lLnksIC1lLnpdLCBbZS54LCBlLnksIC1lLnpdLCBbLWUueCwgZS55LCAtZS56XSwgW2UueCwgLWUueSwgZS56XV07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcm5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7XG4gICAgICBxdWF0LnZtdWx0KHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTtcbiAgICAgIHBvcy52YWRkKHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTtcbiAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopO1xuICAgIH1cbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgd29ybGRDb3JuZXJzVGVtcFswXS5zZXQoZS54LCBlLnksIGUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFsxXS5zZXQoLWUueCwgZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMl0uc2V0KC1lLngsIC1lLnksIGUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFszXS5zZXQoLWUueCwgLWUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs0XS5zZXQoZS54LCAtZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzVdLnNldChlLngsIGUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs2XS5zZXQoLWUueCwgZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzddLnNldChlLngsIC1lLnksIGUueik7XG4gICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wWzBdO1xuICAgIHF1YXQudm11bHQod2MsIHdjKTtcbiAgICBwb3MudmFkZCh3Yywgd2MpO1xuICAgIG1heC5jb3B5KHdjKTtcbiAgICBtaW4uY29weSh3Yyk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDg7IGkrKykge1xuICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wW2ldO1xuICAgICAgcXVhdC52bXVsdCh3Yywgd2MpO1xuICAgICAgcG9zLnZhZGQod2MsIHdjKTtcbiAgICAgIGNvbnN0IHggPSB3Yy54O1xuICAgICAgY29uc3QgeSA9IHdjLnk7XG4gICAgICBjb25zdCB6ID0gd2MuejtcblxuICAgICAgaWYgKHggPiBtYXgueCkge1xuICAgICAgICBtYXgueCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID4gbWF4LnkpIHtcbiAgICAgICAgbWF4LnkgPSB5O1xuICAgICAgfVxuXG4gICAgICBpZiAoeiA+IG1heC56KSB7XG4gICAgICAgIG1heC56ID0gejtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPCBtaW4ueCkge1xuICAgICAgICBtaW4ueCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGlmICh5IDwgbWluLnkpIHtcbiAgICAgICAgbWluLnkgPSB5O1xuICAgICAgfVxuXG4gICAgICBpZiAoeiA8IG1pbi56KSB7XG4gICAgICAgIG1pbi56ID0gejtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGF4aXMgbWF4XG4gICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7XG4gICAgLy8gbWF4LnNldCgtSW5maW5pdHksLUluZmluaXR5LC1JbmZpbml0eSk7XG4gICAgLy8gdGhpcy5mb3JFYWNoV29ybGRDb3JuZXIocG9zLHF1YXQsZnVuY3Rpb24oeCx5LHope1xuICAgIC8vICAgICBpZih4ID4gbWF4Lngpe1xuICAgIC8vICAgICAgICAgbWF4LnggPSB4O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHkgPiBtYXgueSl7XG4gICAgLy8gICAgICAgICBtYXgueSA9IHk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeiA+IG1heC56KXtcbiAgICAvLyAgICAgICAgIG1heC56ID0gejtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih4IDwgbWluLngpe1xuICAgIC8vICAgICAgICAgbWluLnggPSB4O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7XG4gICAgLy8gICAgICAgICBtaW4ueSA9IHk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeiA8IG1pbi56KXtcbiAgICAvLyAgICAgICAgIG1pbi56ID0gejtcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pO1xuXG4gIH1cblxufVxuXG5Cb3guY2FsY3VsYXRlSW5lcnRpYSA9IChoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IGUgPSBoYWxmRXh0ZW50cztcbiAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTtcbiAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTtcbiAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnggKiAyICogZS54KTtcbn07XG5cbmNvbnN0IHdvcmxkQ29ybmVyVGVtcFBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldO1xuXG5jb25zdCBCT0RZX1RZUEVTID0ge1xuICBEWU5BTUlDOiAxLFxuICBTVEFUSUM6IDIsXG4gIEtJTkVNQVRJQzogNFxufTtcbmNvbnN0IEJPRFlfU0xFRVBfU1RBVEVTID0ge1xuICBBV0FLRTogMCxcbiAgU0xFRVBZOiAxLFxuICBTTEVFUElORzogMlxufTtcblxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBib2R5IHR5cGVzLlxyXG4gKiBAY2xhc3MgQm9keVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgRXZlbnRUYXJnZXRcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnZlbG9jaXR5XVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV1cclxuICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbb3B0aW9ucy5xdWF0ZXJuaW9uXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWFzc11cclxuICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50eXBlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGluZWFyRGFtcGluZz0wLjAxXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwPXRydWVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQ9MC4xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMubGluZWFyRmFjdG9yXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJGYWN0b3JdXHJcbiAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXVxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHtcclxuICogICAgICAgICBtYXNzOiAxXHJcbiAqICAgICB9KTtcclxuICogICAgIGNvbnN0IHNoYXBlID0gbmV3IFNwaGVyZSgxKTtcclxuICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5KTtcclxuICovXG5jbGFzcyBCb2R5IGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvLyBQb3NpdGlvbiBvZiBib2R5IGluIFdvcmxkLmJvZGllcy4gVXBkYXRlZCBieSBXb3JsZCBhbmQgdXNlZCBpbiBBcnJheUNvbGxpc2lvbk1hdHJpeC5cbiAgLy8gUmVmZXJlbmNlIHRvIHRoZSB3b3JsZCB0aGUgYm9keSBpcyBsaXZpbmcgaW4uXG4gIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBCRUZPUkUgc3RlcHBpbmcgdGhlIHN5c3RlbS4gVXNlIGl0IHRvIGFwcGx5IGZvcmNlcywgZm9yIGV4YW1wbGUuIEluc2lkZSB0aGUgZnVuY3Rpb24sIFwidGhpc1wiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC5cbiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIEFGVEVSIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIEluc2lkZSB0aGUgZnVuY3Rpb24sIFwidGhpc1wiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC5cbiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkIC0gaS5lLiBcImNvbGxpZGVcIiBldmVudHMgd2lsbCBiZSByYWlzZWQsIGJ1dCBmb3JjZXMgd2lsbCBub3QgYmUgYWx0ZXJlZC5cbiAgLy8gV29ybGQgc3BhY2UgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEludGVycG9sYXRlZCBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gSW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gV29ybGQgc3BhY2UgdmVsb2NpdHkgb2YgdGhlIGJvZHkuXG4gIC8vIExpbmVhciBmb3JjZSBvbiB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS5cbiAgLy8gT25lIG9mOiBCb2R5LkRZTkFNSUMsIEJvZHkuU1RBVElDIGFuZCBCb2R5LktJTkVNQVRJQy5cbiAgLy8gSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuXG4gIC8vIEN1cnJlbnQgc2xlZXAgc3RhdGUuXG4gIC8vIElmIHRoZSBzcGVlZCAodGhlIG5vcm0gb2YgdGhlIHZlbG9jaXR5KSBpcyBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGhlIGJvZHkgaXMgY29uc2lkZXJlZCBzbGVlcHkuXG4gIC8vIElmIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVweSBmb3IgdGhpcyBzbGVlcFRpbWVMaW1pdCBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLlxuICAvLyBXb3JsZCBzcGFjZSByb3RhdGlvbmFsIGZvcmNlIG9uIHRoZSBib2R5LCBhcm91bmQgY2VudGVyIG9mIG1hc3MuXG4gIC8vIFdvcmxkIHNwYWNlIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBJbnRlcnBvbGF0ZWQgb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHksIGluIHdvcmxkIHNwYWNlLiBUaGluayBvZiB0aGUgYW5ndWxhciB2ZWxvY2l0eSBhcyBhIHZlY3Rvciwgd2hpY2ggdGhlIGJvZHkgcm90YXRlcyBhcm91bmQuIFRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IgZGV0ZXJtaW5lcyBob3cgZmFzdCAoaW4gcmFkaWFucyBwZXIgc2Vjb25kKSB0aGUgYm9keSByb3RhdGVzLlxuICAvLyBQb3NpdGlvbiBvZiBlYWNoIFNoYXBlIGluIHRoZSBib2R5LCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLlxuICAvLyBPcmllbnRhdGlvbiBvZiBlYWNoIFNoYXBlLCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgYm9keSB0byByb3RhdGUuIE1ha2Ugc3VyZSB0byBydW4gLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgYWZ0ZXIgY2hhbmdpbmcgdGhpcy5cbiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IG1vdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLlxuICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgcm90YXRpb25hbCBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyByb3RhdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLlxuICAvLyBXb3JsZCBzcGFjZSBib3VuZGluZyBib3ggb2YgdGhlIGJvZHkgYW5kIGl0cyBzaGFwZXMuXG4gIC8vIEluZGljYXRlcyBpZiB0aGUgQUFCQiBuZWVkcyB0byBiZSB1cGRhdGVkIGJlZm9yZSB1c2UuXG4gIC8vIFRvdGFsIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgQm9keSBpbmNsdWRpbmcgaXRzIHNoYXBlcywgcmVsYXRpdmUgdG8gYm9keS5wb3NpdGlvbi5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlkID0gQm9keS5pZENvdW50ZXIrKztcbiAgICB0aGlzLmluZGV4ID0gLTE7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5wcmVTdGVwID0gbnVsbDtcbiAgICB0aGlzLnBvc3RTdGVwID0gbnVsbDtcbiAgICB0aGlzLnZsYW1iZGEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmluaXRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMudmVsb2NpdHkpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkuY29weShvcHRpb25zLnZlbG9jaXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5mb3JjZSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDtcbiAgICB0aGlzLm1hc3MgPSBtYXNzO1xuICAgIHRoaXMuaW52TWFzcyA9IG1hc3MgPiAwID8gMS4wIC8gbWFzcyA6IDA7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDtcbiAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5saW5lYXJEYW1waW5nID09PSAnbnVtYmVyJyA/IG9wdGlvbnMubGluZWFyRGFtcGluZyA6IDAuMDE7XG4gICAgdGhpcy50eXBlID0gbWFzcyA8PSAwLjAgPyBCb2R5LlNUQVRJQyA6IEJvZHkuRFlOQU1JQztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50eXBlID09PSB0eXBlb2YgQm9keS5TVEFUSUMpIHtcbiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICB9XG5cbiAgICB0aGlzLmFsbG93U2xlZXAgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1NsZWVwICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYWxsb3dTbGVlcCA6IHRydWU7XG4gICAgdGhpcy5zbGVlcFN0YXRlID0gMDtcbiAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMTtcbiAgICB0aGlzLnNsZWVwVGltZUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFRpbWVMaW1pdCA6IDE7XG4gICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IDA7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gICAgdGhpcy50b3JxdWUgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy5pbml0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7XG4gICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5pbml0UXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgIH1cblxuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSkge1xuICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY29weShvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgIHRoaXMuc2hhcGVPZmZzZXRzID0gW107XG4gICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdO1xuICAgIHRoaXMuaW5lcnRpYSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7XG4gICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTtcbiAgICB0aGlzLmZpeGVkUm90YXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5maXhlZFJvdGF0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZml4ZWRSb3RhdGlvbiA6IGZhbHNlO1xuICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5hbmd1bGFyRGFtcGluZyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ3VsYXJEYW1waW5nIDogMC4wMTtcbiAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuXG4gICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7XG4gICAgICB0aGlzLmxpbmVhckZhY3Rvci5jb3B5KG9wdGlvbnMubGluZWFyRmFjdG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmFuZ3VsYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTtcblxuICAgIGlmIChvcHRpb25zLmFuZ3VsYXJGYWN0b3IpIHtcbiAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTtcbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG4gICAgdGhpcy53bGFtYmRhID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLnNoYXBlKSB7XG4gICAgICB0aGlzLmFkZFNoYXBlKG9wdGlvbnMuc2hhcGUpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBXYWtlIHRoZSBib2R5IHVwLlxyXG4gICAqIEBtZXRob2Qgd2FrZVVwXHJcbiAgICovXG5cblxuICB3YWtlVXAoKSB7XG4gICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zbGVlcFN0YXRlO1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IDA7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG5cbiAgICBpZiAocHJldlN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS53YWtldXBFdmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEZvcmNlIGJvZHkgc2xlZXBcclxuICAgKiBAbWV0aG9kIHNsZWVwXHJcbiAgICovXG5cblxuICBzbGVlcCgpIHtcbiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQSU5HO1xuICAgIHRoaXMudmVsb2NpdHkuc2V0KDAsIDAsIDApO1xuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnNldCgwLCAwLCAwKTtcbiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxsZWQgZXZlcnkgdGltZXN0ZXAgdG8gdXBkYXRlIGludGVybmFsIHNsZWVwIHRpbWVyIGFuZCBjaGFuZ2Ugc2xlZXAgc3RhdGUgaWYgbmVlZGVkLlxyXG4gICAqIEBtZXRob2Qgc2xlZXBUaWNrXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgVGhlIHdvcmxkIHRpbWUgaW4gc2Vjb25kc1xyXG4gICAqL1xuXG5cbiAgc2xlZXBUaWNrKHRpbWUpIHtcbiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7XG4gICAgICBjb25zdCBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlO1xuICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkID0gdGhpcy52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7XG5cbiAgICAgIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIHNwZWVkU3F1YXJlZCA8IHNwZWVkTGltaXRTcXVhcmVkKSB7XG4gICAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBZOyAvLyBTbGVlcHlcblxuICAgICAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gdGltZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXB5RXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkge1xuICAgICAgICB0aGlzLndha2VVcCgpOyAvLyBXYWtlIHVwXG4gICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHRpbWUgLSB0aGlzLnRpbWVMYXN0U2xlZXB5ID4gdGhpcy5zbGVlcFRpbWVMaW1pdCkge1xuICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nXG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgXCJzb2x2ZSBtYXNzXCIuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzXHJcbiAgICovXG5cblxuICB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCkge1xuICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykge1xuICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuc2V0WmVybygpO1xuICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5zZXRaZXJvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gdGhpcy5pbnZNYXNzO1xuICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuY29weSh0aGlzLmludkluZXJ0aWEpO1xuICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYVdvcmxkKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuXHJcbiAgICogQG1ldGhvZCBwb2ludFRvTG9jYWxGcmFtZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb0xvY2FsRnJhbWUod29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB2ZWN0b3JUb0xvY2FsRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLlxyXG4gICAqIEBtZXRob2QgcG9pbnRUb1dvcmxkRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHBvaW50VG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTtcbiAgICByZXN1bHQudmFkZCh0aGlzLnBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB2ZWN0b3JUb1dvcmxkRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFZlY3RvclxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keSB3aXRoIGEgbG9jYWwgb2Zmc2V0IGFuZCBvcmllbnRhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZFNoYXBlXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtfb2Zmc2V0XVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl1cclxuICAgKiBAcmV0dXJuIHtCb2R5fSBUaGUgYm9keSBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAoX29mZnNldCkge1xuICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7XG4gICAgfVxuXG4gICAgaWYgKF9vcmllbnRhdGlvbikge1xuICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpO1xuICAgIHRoaXMuc2hhcGVPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pO1xuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHNoYXBlLmJvZHkgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBib2R5LiBTaG91bGQgYmUgZG9uZSBpZiBhbnkgb2YgdGhlIHNoYXBlcyBhcmUgY2hhbmdlZC5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXHJcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1JhZGl1cygpIHtcbiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlcztcbiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0cztcbiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDtcbiAgICBsZXQgcmFkaXVzID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldO1xuICAgICAgc2hhcGUudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTtcbiAgICAgIGNvbnN0IHIgPSBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cztcblxuICAgICAgaWYgKG9mZnNldCArIHIgPiByYWRpdXMpIHtcbiAgICAgICAgcmFkaXVzID0gb2Zmc2V0ICsgcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIC5hYWJiXHJcbiAgICogQG1ldGhvZCBjb21wdXRlQUFCQlxyXG4gICAqIEB0b2RvIHJlbmFtZSB0byB1cGRhdGVBQUJCKClcclxuICAgKi9cblxuXG4gIGNvbXB1dGVBQUJCKCkge1xuICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzO1xuICAgIGNvbnN0IHNoYXBlT2Zmc2V0cyA9IHRoaXMuc2hhcGVPZmZzZXRzO1xuICAgIGNvbnN0IHNoYXBlT3JpZW50YXRpb25zID0gdGhpcy5zaGFwZU9yaWVudGF0aW9ucztcbiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDtcbiAgICBjb25zdCBvZmZzZXQgPSB0bXBWZWM7XG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSB0bXBRdWF0JDE7XG4gICAgY29uc3QgYm9keVF1YXQgPSB0aGlzLnF1YXRlcm5pb247XG4gICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjtcbiAgICBjb25zdCBzaGFwZUFBQkIgPSBjb21wdXRlQUFCQl9zaGFwZUFBQkI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uXG5cbiAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uXG5cbiAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkJcblxuICAgICAgc2hhcGUuY2FsY3VsYXRlV29ybGRBQUJCKG9mZnNldCwgb3JpZW50YXRpb24sIHNoYXBlQUFCQi5sb3dlckJvdW5kLCBzaGFwZUFBQkIudXBwZXJCb3VuZCk7XG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGFhYmIuY29weShzaGFwZUFBQkIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkXHJcbiAgICogQG1ldGhvZCB1cGRhdGVJbmVydGlhV29ybGRcclxuICAgKi9cblxuXG4gIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkge1xuICAgIGNvbnN0IEkgPSB0aGlzLmludkluZXJ0aWE7XG5cbiAgICBpZiAoSS54ID09PSBJLnkgJiYgSS55ID09PSBJLnogJiYgIWZvcmNlKSA7IGVsc2Uge1xuICAgICAgY29uc3QgbTEgPSB1aXdfbTE7XG4gICAgICBjb25zdCBtMiA9IHVpd19tMjtcbiAgICAgIG0xLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTtcbiAgICAgIG0xLnRyYW5zcG9zZShtMik7XG4gICAgICBtMS5zY2FsZShJLCBtMSk7XG4gICAgICBtMS5tbXVsdChtMiwgdGhpcy5pbnZJbmVydGlhV29ybGQpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIC8vIE5lZWRlZD9cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBmb3JjZVxuXG5cbiAgICBjb25zdCByb3RGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZTtcbiAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2VcblxuICAgIHRoaXMuZm9yY2UudmFkZChmb3JjZSwgdGhpcy5mb3JjZSk7IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlXG5cbiAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7XG4gIH1cblxuICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2VcblxuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsRm9yY2UsIHdvcmxkRm9yY2UpO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gIH1cblxuICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ29tcHV0ZSBwb2ludCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgYm9keSBjZW50ZXJcblxuXG4gICAgY29uc3QgciA9IHJlbGF0aXZlUG9pbnQ7IC8vIENvbXB1dGUgcHJvZHVjZWQgY2VudHJhbCBpbXB1bHNlIHZlbG9jaXR5XG5cbiAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbztcbiAgICB2ZWxvLmNvcHkoaW1wdWxzZSk7XG4gICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2VcblxuICAgIHRoaXMudmVsb2NpdHkudmFkZCh2ZWxvLCB0aGlzLnZlbG9jaXR5KTsgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGltcHVsc2UgdmVsb2NpdHlcblxuICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvO1xuICAgIHIuY3Jvc3MoaW1wdWxzZSwgcm90VmVsbyk7XG4gICAgLypcclxuICAgICByb3RWZWxvLnggKj0gdGhpcy5pbnZJbmVydGlhLng7XHJcbiAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55O1xyXG4gICAgIHJvdFZlbG8ueiAqPSB0aGlzLmludkluZXJ0aWEuejtcclxuICAgICAqL1xuXG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGQudm11bHQocm90VmVsbywgcm90VmVsbyk7IC8vIEFkZCByb3RhdGlvbmFsIEltcHVsc2VcblxuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnZhZGQocm90VmVsbywgdGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xuICB9XG5cbiAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd29ybGRJbXB1bHNlID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2U7XG4gICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50OyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZVxuXG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxJbXB1bHNlLCB3b3JsZEltcHVsc2UpO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gICAgdGhpcy5hcHBseUltcHVsc2Uod29ybGRJbXB1bHNlLCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgYm9keSBzaGFwZSBvciBtYXNzLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cztcbiAgICB0aGlzLmludk1hc3MgPSB0aGlzLm1hc3MgPiAwID8gMS4wIC8gdGhpcy5tYXNzIDogMDtcbiAgICBjb25zdCBJID0gdGhpcy5pbmVydGlhO1xuICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94XG5cbiAgICB0aGlzLmNvbXB1dGVBQUJCKCk7XG4gICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpO1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKGhhbGZFeHRlbnRzLCB0aGlzLm1hc3MsIEkpO1xuICAgIHRoaXMuaW52SW5lcnRpYS5zZXQoSS54ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnggOiAwLCBJLnkgPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueSA6IDAsIEkueiA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS56IDogMCk7XG4gICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHdvcmxkIHZlbG9jaXR5IG9mIGEgcG9pbnQgaW4gdGhlIGJvZHkuXHJcbiAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci5cclxuICAgKi9cblxuXG4gIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdvcmxkUG9pbnQsIHJlc3VsdCkge1xuICAgIGNvbnN0IHIgPSBuZXcgVmVjMygpO1xuICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTtcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyLCByZXN1bHQpO1xuICAgIHRoaXMudmVsb2NpdHkudmFkZChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBNb3ZlIHRoZSBib2R5IGZvcndhcmQgaW4gdGltZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgVGltZSBzdGVwXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplIFNldCB0byB0cnVlIHRvIG5vcm1hbGl6ZSB0aGUgYm9keSBxdWF0ZXJuaW9uXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplRmFzdCBJZiB0aGUgcXVhdGVybmlvbiBzaG91bGQgYmUgbm9ybWFsaXplZCB1c2luZyBcImZhc3RcIiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb25cclxuICAgKi9cblxuXG4gIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHtcbiAgICAvLyBTYXZlIHByZXZpb3VzIHBvc2l0aW9uXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7XG4gICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pO1xuXG4gICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICAvLyBPbmx5IGZvciBkeW5hbWljXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmVsbyA9IHRoaXMudmVsb2NpdHk7XG4gICAgY29uc3QgYW5ndWxhclZlbG8gPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uO1xuICAgIGNvbnN0IGZvcmNlID0gdGhpcy5mb3JjZTtcbiAgICBjb25zdCB0b3JxdWUgPSB0aGlzLnRvcnF1ZTtcbiAgICBjb25zdCBxdWF0ID0gdGhpcy5xdWF0ZXJuaW9uO1xuICAgIGNvbnN0IGludk1hc3MgPSB0aGlzLmludk1hc3M7XG4gICAgY29uc3QgaW52SW5lcnRpYSA9IHRoaXMuaW52SW5lcnRpYVdvcmxkO1xuICAgIGNvbnN0IGxpbmVhckZhY3RvciA9IHRoaXMubGluZWFyRmFjdG9yO1xuICAgIGNvbnN0IGlNZHQgPSBpbnZNYXNzICogZHQ7XG4gICAgdmVsby54ICs9IGZvcmNlLnggKiBpTWR0ICogbGluZWFyRmFjdG9yLng7XG4gICAgdmVsby55ICs9IGZvcmNlLnkgKiBpTWR0ICogbGluZWFyRmFjdG9yLnk7XG4gICAgdmVsby56ICs9IGZvcmNlLnogKiBpTWR0ICogbGluZWFyRmFjdG9yLno7XG4gICAgY29uc3QgZSA9IGludkluZXJ0aWEuZWxlbWVudHM7XG4gICAgY29uc3QgYW5ndWxhckZhY3RvciA9IHRoaXMuYW5ndWxhckZhY3RvcjtcbiAgICBjb25zdCB0eCA9IHRvcnF1ZS54ICogYW5ndWxhckZhY3Rvci54O1xuICAgIGNvbnN0IHR5ID0gdG9ycXVlLnkgKiBhbmd1bGFyRmFjdG9yLnk7XG4gICAgY29uc3QgdHogPSB0b3JxdWUueiAqIGFuZ3VsYXJGYWN0b3IuejtcbiAgICBhbmd1bGFyVmVsby54ICs9IGR0ICogKGVbMF0gKiB0eCArIGVbMV0gKiB0eSArIGVbMl0gKiB0eik7XG4gICAgYW5ndWxhclZlbG8ueSArPSBkdCAqIChlWzNdICogdHggKyBlWzRdICogdHkgKyBlWzVdICogdHopO1xuICAgIGFuZ3VsYXJWZWxvLnogKz0gZHQgKiAoZVs2XSAqIHR4ICsgZVs3XSAqIHR5ICsgZVs4XSAqIHR6KTsgLy8gVXNlIG5ldyB2ZWxvY2l0eSAgLSBsZWFwIGZyb2dcblxuICAgIHBvcy54ICs9IHZlbG8ueCAqIGR0O1xuICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0O1xuICAgIHBvcy56ICs9IHZlbG8ueiAqIGR0O1xuICAgIHF1YXQuaW50ZWdyYXRlKHRoaXMuYW5ndWxhclZlbG9jaXR5LCBkdCwgdGhpcy5hbmd1bGFyRmFjdG9yLCBxdWF0KTtcblxuICAgIGlmIChxdWF0Tm9ybWFsaXplKSB7XG4gICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHtcbiAgICAgICAgcXVhdC5ub3JtYWxpemVGYXN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsgLy8gVXBkYXRlIHdvcmxkIGluZXJ0aWFcblxuICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCk7XG4gIH1cblxufVxuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaFxyXG4gKiBvZiB0aGUgdHdvIGJvZGllcyBpbnZvbHZlZCBpbiB0aGUgY29sbGlzaW9uLlxyXG4gKiBAZXZlbnQgY29sbGlkZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi5cclxuICogQHBhcmFtIHtDb250YWN0RXF1YXRpb259IGNvbnRhY3QgVGhlIGRldGFpbHMgb2YgdGhlIGNvbGxpc2lvbi5cclxuICovXG5cbkJvZHkuQ09MTElERV9FVkVOVF9OQU1FID0gJ2NvbGxpZGUnO1xuLyoqXHJcbiAqIEEgZHluYW1pYyBib2R5IGlzIGZ1bGx5IHNpbXVsYXRlZC4gQ2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHRoZSB1c2VyLCBidXQgbm9ybWFsbHkgdGhleSBtb3ZlIGFjY29yZGluZyB0byBmb3JjZXMuIEEgZHluYW1pYyBib2R5IGNhbiBjb2xsaWRlIHdpdGggYWxsIGJvZHkgdHlwZXMuIEEgZHluYW1pYyBib2R5IGFsd2F5cyBoYXMgZmluaXRlLCBub24temVybyBtYXNzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSBEWU5BTUlDXHJcbiAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LkRZTkFNSUMgPSAxO1xuLyoqXHJcbiAqIEEgc3RhdGljIGJvZHkgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2ltdWxhdGlvbiBhbmQgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gU3RhdGljIGJvZGllcyBjYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgc2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkuIFRoZSB2ZWxvY2l0eSBvZiBhIHN0YXRpYyBib2R5IGlzIGFsd2F5cyB6ZXJvLiBTdGF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuXHJcbiAqIEBzdGF0aWNcclxuICogQHByb3BlcnR5IFNUQVRJQ1xyXG4gKiBAdHlwZSB7TnVtYmVyfVxyXG4gKi9cblxuQm9keS5TVEFUSUMgPSAyO1xuLyoqXHJcbiAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy5cclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgS0lORU1BVElDXHJcbiAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LktJTkVNQVRJQyA9IDQ7XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgQVdBS0VcclxuICogQHR5cGUge251bWJlcn1cclxuICovXG5cbkJvZHkuQVdBS0UgPSBCT0RZX1NMRUVQX1NUQVRFUy5BV0FLRTtcbkJvZHkuU0xFRVBZID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBZO1xuQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HO1xuQm9keS5pZENvdW50ZXIgPSAwO1xuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBzbGVlcGluZyBib2R5IGhhcyB3b2tlbiB1cC5cclxuICogQGV2ZW50IHdha2V1cFxyXG4gKi9cblxuQm9keS53YWtldXBFdmVudCA9IHtcbiAgdHlwZTogJ3dha2V1cCdcbn07XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGdvbmUgaW4gdG8gdGhlIHNsZWVweSBzdGF0ZS5cclxuICogQGV2ZW50IHNsZWVweVxyXG4gKi9cblxuQm9keS5zbGVlcHlFdmVudCA9IHtcbiAgdHlwZTogJ3NsZWVweSdcbn07XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGZhbGxlbiBhc2xlZXAuXHJcbiAqIEBldmVudCBzbGVlcFxyXG4gKi9cblxuQm9keS5zbGVlcEV2ZW50ID0ge1xuICB0eXBlOiAnc2xlZXAnXG59O1xuY29uc3QgdG1wVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQkMSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCBjb21wdXRlQUFCQl9zaGFwZUFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3QgdWl3X20xID0gbmV3IE1hdDMoKTtcbmNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7XG4vKipcclxuICogQXBwbHkgZm9yY2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkudG9ycXVlLlxyXG4gKiBAbWV0aG9kIGFwcGx5Rm9yY2VcclxuICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LlxyXG4gKiBAbWV0aG9kIGFwcGx5TG9jYWxGb3JjZVxyXG4gKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgZm9yY2UgdmVjdG9yIHRvIGFwcGx5LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGJvZHkgZnJhbWUuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogQXBwbHkgaW1wdWxzZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQW4gaW1wdWxzZSBpcyBhIGZvcmNlIGFkZGVkIHRvIGEgYm9keSBkdXJpbmcgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAoaW1wdWxzZSA9IGZvcmNlICogdGltZSkuIEltcHVsc2VzIHdpbGwgYmUgYWRkZWQgdG8gQm9keS52ZWxvY2l0eSBhbmQgQm9keS5hbmd1bGFyVmVsb2NpdHkuXHJcbiAqIEBtZXRob2QgYXBwbHlJbXB1bHNlXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGltcHVsc2UgVGhlIGFtb3VudCBvZiBpbXB1bHNlIHRvIGFkZC5cclxuICogQHBhcmFtICB7VmVjM30gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8gPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIEFwcGx5IGxvY2FsbHktZGVmaW5lZCBpbXB1bHNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuXHJcbiAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2VcclxuICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLlxyXG4gKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFBvaW50IEEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHMgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbnNcclxuICogQGNsYXNzIEJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBCcm9hZHBoYXNlIHtcbiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi5cbiAgLy8gSWYgc2V0IHRvIHRydWUsIHRoZSBicm9hZHBoYXNlIHVzZXMgYm91bmRpbmcgYm94ZXMgZm9yIGludGVyc2VjdGlvbiB0ZXN0LCBlbHNlIGl0IHVzZXMgYm91bmRpbmcgc3BoZXJlcy5cbiAgLy8gU2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdHMgaW4gdGhlIHdvcmxkIG1vdmVkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLnVzZUJvdW5kaW5nQm94ZXMgPSBmYWxzZTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGNvbGxpc2lvbiBwYWlycyBmcm9tIHRoZSB3b3JsZFxyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZCBUaGUgd29ybGQgdG8gc2VhcmNoIGluXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcDEgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb2xsaXNpb25QYWlycyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgQnJvYWRQaGFzZSBjbGFzcyEnKTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC5cclxuICAgKiBAbWV0aG9kIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICAgKiBAcmV0dXJuIHtib29sfVxyXG4gICAqL1xuXG5cbiAgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYm9keUEsIGJvZHlCKSB7XG4gICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrc1xuICAgIGlmICgoYm9keUEuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5Qi5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCB8fCAoYm9keUIuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5QS5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gQ2hlY2sgdHlwZXNcblxuXG4gICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHtcbiAgICAgIC8vIEJvdGggYm9kaWVzIGFyZSBzdGF0aWMgb3Igc2xlZXBpbmcuIFNraXAuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuXHJcbiAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0XHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczFcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczJcclxuICAgKi9cblxuXG4gIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmICh0aGlzLnVzZUJvdW5kaW5nQm94ZXMpIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfVxuICB9XG5cbiAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IHIgPSBCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3I7XG4gICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgcik7XG4gICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7XG4gICAgY29uc3Qgbm9ybTIgPSByLmxlbmd0aFNxdWFyZWQoKTtcblxuICAgIGlmIChub3JtMiA8IGJvdW5kaW5nUmFkaXVzU3VtMikge1xuICAgICAgcGFpcnMxLnB1c2goYm9keUEpO1xuICAgICAgcGFpcnMyLnB1c2goYm9keUIpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLlxyXG4gICAqIEBtZXRob2QgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2VcclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gICAqL1xuXG5cbiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmIChib2R5QS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgIGJvZHlBLmNvbXB1dGVBQUJCKCk7XG4gICAgfVxuXG4gICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgYm9keUIuY29tcHV0ZUFBQkIoKTtcbiAgICB9IC8vIENoZWNrIEFBQkIgLyBBQUJCXG5cblxuICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7XG4gICAgICBwYWlyczEucHVzaChib2R5QSk7XG4gICAgICBwYWlyczIucHVzaChib2R5Qik7XG4gICAgfVxuICB9XG5cbiAgbWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgdCA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXA7XG4gICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTtcbiAgICBjb25zdCBwMiA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyO1xuICAgIGNvbnN0IE4gPSBwYWlyczEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcDFbaV0gPSBwYWlyczFbaV07XG4gICAgICBwMltpXSA9IHBhaXJzMltpXTtcbiAgICB9XG5cbiAgICBwYWlyczEubGVuZ3RoID0gMDtcbiAgICBwYWlyczIubGVuZ3RoID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGlkMSA9IHAxW2ldLmlkO1xuICAgICAgY29uc3QgaWQyID0gcDJbaV0uaWQ7XG4gICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyBcIixcIiArIGlkMiA6IGlkMiArIFwiLFwiICsgaWQxO1xuICAgICAgdFtrZXldID0gaTtcbiAgICAgIHQua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpO1xuICAgICAgY29uc3QgcGFpckluZGV4ID0gdFtrZXldO1xuICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7XG4gICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTtcbiAgICAgIGRlbGV0ZSB0W2tleV07XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNhc3Nlc1xyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGQod29ybGQpIHt9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIHRoZSBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cclxuICAgKiBAcmV0dXJuIHthcnJheX1cclxuICAgKi9cblxuXG4gIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0KSB7XG4gICAgY29uc29sZS53YXJuKCcuYWFiYlF1ZXJ5IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIEJyb2FkcGhhc2Ugc3ViY2xhc3MuJyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuXHJcbiAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2VcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvblxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczIgYm9keUIgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb25cclxuICovXG5cbmNvbnN0IC8vIFRlbXAgb2JqZWN0c1xuQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy5cclxuICogQG1ldGhvZCBtYWtlUGFpcnNVbmlxdWVcclxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMxXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gKi9cblxuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcCA9IHtcbiAga2V5czogW11cbn07XG5jb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSA9IFtdO1xuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTtcblxuQnJvYWRwaGFzZS5ib3VuZGluZ1NwaGVyZUNoZWNrID0gKGJvZHlBLCBib2R5QikgPT4ge1xuICBjb25zdCBkaXN0ID0gbmV3IFZlYzMoKTsgLy8gYnNjX2Rpc3Q7XG5cbiAgYm9keUEucG9zaXRpb24udnN1Yihib2R5Qi5wb3NpdGlvbiwgZGlzdCk7XG4gIGNvbnN0IHNhID0gYm9keUEuc2hhcGVzWzBdO1xuICBjb25zdCBzYiA9IGJvZHlCLnNoYXBlc1swXTtcbiAgcmV0dXJuIE1hdGgucG93KHNhLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2IuYm91bmRpbmdTcGhlcmVSYWRpdXMsIDIpID4gZGlzdC5sZW5ndGhTcXVhcmVkKCk7XG59O1xuXG4vKipcclxuICogQXhpcyBhbGlnbmVkIHVuaWZvcm0gZ3JpZCBicm9hZHBoYXNlLlxyXG4gKiBAY2xhc3MgR3JpZEJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcclxuICogQHRvZG8gTmVlZHMgc3VwcG9ydCBmb3IgbW9yZSB0aGFuIGp1c3QgcGxhbmVzIGFuZCBzcGhlcmVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9IGFhYmJNaW5cclxuICogQHBhcmFtIHtWZWMzfSBhYWJiTWF4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBueCBOdW1iZXIgb2YgYm94ZXMgYWxvbmcgeFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnkgTnVtYmVyIG9mIGJveGVzIGFsb25nIHlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG56IE51bWJlciBvZiBib3hlcyBhbG9uZyB6XHJcbiAqL1xuY2xhc3MgR3JpZEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHtcbiAgY29uc3RydWN0b3IoYWFiYk1pbiA9IG5ldyBWZWMzKDEwMCwgMTAwLCAxMDApLCBhYWJiTWF4ID0gbmV3IFZlYzMoLTEwMCwgLTEwMCwgLTEwMCksIG54ID0gMTAsIG55ID0gMTAsIG56ID0gMTApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubnggPSBueDtcbiAgICB0aGlzLm55ID0gbnk7XG4gICAgdGhpcy5ueiA9IG56O1xuICAgIHRoaXMuYWFiYk1pbiA9IGFhYmJNaW47XG4gICAgdGhpcy5hYWJiTWF4ID0gYWFiYk1heDtcbiAgICBjb25zdCBuYmlucyA9IHRoaXMubnggKiB0aGlzLm55ICogdGhpcy5uejtcblxuICAgIGlmIChuYmlucyA8PSAwKSB7XG4gICAgICB0aHJvdyBcIkdyaWRCcm9hZHBoYXNlOiBFYWNoIGRpbWVuc2lvbidzIG4gbXVzdCBiZSA+MFwiO1xuICAgIH1cblxuICAgIHRoaXMuYmlucyA9IFtdO1xuICAgIHRoaXMuYmluTGVuZ3RocyA9IFtdOyAvL1JhdGhlciB0aGFuIGNvbnRpbnVhbGx5IHJlc2l6aW5nIGFycmF5cyAodGhyYXNoaW5nIHRoZSBtZW1vcnkpLCBqdXN0IHJlY29yZCBsZW5ndGggYW5kIGFsbG93IHRoZW0gdG8gZ3Jvd1xuXG4gICAgdGhpcy5iaW5zLmxlbmd0aCA9IG5iaW5zO1xuICAgIHRoaXMuYmluTGVuZ3Rocy5sZW5ndGggPSBuYmlucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJpbnM7IGkrKykge1xuICAgICAgdGhpcy5iaW5zW2ldID0gW107XG4gICAgICB0aGlzLmJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IE4gPSB3b3JsZC5udW1PYmplY3RzKCk7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IG1heCA9IHRoaXMuYWFiYk1heDtcbiAgICBjb25zdCBtaW4gPSB0aGlzLmFhYmJNaW47XG4gICAgY29uc3QgbnggPSB0aGlzLm54O1xuICAgIGNvbnN0IG55ID0gdGhpcy5ueTtcbiAgICBjb25zdCBueiA9IHRoaXMubno7XG4gICAgY29uc3QgeHN0ZXAgPSBueSAqIG56O1xuICAgIGNvbnN0IHlzdGVwID0gbno7XG4gICAgY29uc3QgenN0ZXAgPSAxO1xuICAgIGNvbnN0IHhtYXggPSBtYXgueDtcbiAgICBjb25zdCB5bWF4ID0gbWF4Lnk7XG4gICAgY29uc3Qgem1heCA9IG1heC56O1xuICAgIGNvbnN0IHhtaW4gPSBtaW4ueDtcbiAgICBjb25zdCB5bWluID0gbWluLnk7XG4gICAgY29uc3Qgem1pbiA9IG1pbi56O1xuICAgIGNvbnN0IHhtdWx0ID0gbnggLyAoeG1heCAtIHhtaW4pO1xuICAgIGNvbnN0IHltdWx0ID0gbnkgLyAoeW1heCAtIHltaW4pO1xuICAgIGNvbnN0IHptdWx0ID0gbnogLyAoem1heCAtIHptaW4pO1xuICAgIGNvbnN0IGJpbnNpemVYID0gKHhtYXggLSB4bWluKSAvIG54O1xuICAgIGNvbnN0IGJpbnNpemVZID0gKHltYXggLSB5bWluKSAvIG55O1xuICAgIGNvbnN0IGJpbnNpemVaID0gKHptYXggLSB6bWluKSAvIG56O1xuICAgIGNvbnN0IGJpblJhZGl1cyA9IE1hdGguc3FydChiaW5zaXplWCAqIGJpbnNpemVYICsgYmluc2l6ZVkgKiBiaW5zaXplWSArIGJpbnNpemVaICogYmluc2l6ZVopICogMC41O1xuICAgIGNvbnN0IHR5cGVzID0gU2hhcGUudHlwZXM7XG4gICAgY29uc3QgU1BIRVJFID0gdHlwZXMuU1BIRVJFO1xuICAgIGNvbnN0IFBMQU5FID0gdHlwZXMuUExBTkU7XG4gICAgY29uc3QgQk9YID0gdHlwZXMuQk9YO1xuICAgIGNvbnN0IENPTVBPVU5EID0gdHlwZXMuQ09NUE9VTkQ7XG4gICAgY29uc3QgQ09OVkVYUE9MWUhFRFJPTiA9IHR5cGVzLkNPTlZFWFBPTFlIRURST047XG4gICAgY29uc3QgYmlucyA9IHRoaXMuYmlucztcbiAgICBjb25zdCBiaW5MZW5ndGhzID0gdGhpcy5iaW5MZW5ndGhzO1xuICAgIGNvbnN0IE5iaW5zID0gdGhpcy5iaW5zLmxlbmd0aDsgLy8gUmVzZXQgYmluc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5iaW5zOyBpKyspIHtcbiAgICAgIGJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGNlaWwgPSBNYXRoLmNlaWw7XG5cbiAgICBmdW5jdGlvbiBhZGRCb3hUb0JpbnMoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSwgYmkpIHtcbiAgICAgIGxldCB4b2ZmMCA9ICh4MCAtIHhtaW4pICogeG11bHQgfCAwO1xuICAgICAgbGV0IHlvZmYwID0gKHkwIC0geW1pbikgKiB5bXVsdCB8IDA7XG4gICAgICBsZXQgem9mZjAgPSAoejAgLSB6bWluKSAqIHptdWx0IHwgMDtcbiAgICAgIGxldCB4b2ZmMSA9IGNlaWwoKHgxIC0geG1pbikgKiB4bXVsdCk7XG4gICAgICBsZXQgeW9mZjEgPSBjZWlsKCh5MSAtIHltaW4pICogeW11bHQpO1xuICAgICAgbGV0IHpvZmYxID0gY2VpbCgoejEgLSB6bWluKSAqIHptdWx0KTtcblxuICAgICAgaWYgKHhvZmYwIDwgMCkge1xuICAgICAgICB4b2ZmMCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYwID49IG54KSB7XG4gICAgICAgIHhvZmYwID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjAgPCAwKSB7XG4gICAgICAgIHlvZmYwID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjAgPj0gbnkpIHtcbiAgICAgICAgeW9mZjAgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMCA8IDApIHtcbiAgICAgICAgem9mZjAgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMCA+PSBueikge1xuICAgICAgICB6b2ZmMCA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHhvZmYxIDwgMCkge1xuICAgICAgICB4b2ZmMSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYxID49IG54KSB7XG4gICAgICAgIHhvZmYxID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjEgPCAwKSB7XG4gICAgICAgIHlvZmYxID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjEgPj0gbnkpIHtcbiAgICAgICAgeW9mZjEgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMSA8IDApIHtcbiAgICAgICAgem9mZjEgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMSA+PSBueikge1xuICAgICAgICB6b2ZmMSA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgeG9mZjAgKj0geHN0ZXA7XG4gICAgICB5b2ZmMCAqPSB5c3RlcDtcbiAgICAgIHpvZmYwICo9IHpzdGVwO1xuICAgICAgeG9mZjEgKj0geHN0ZXA7XG4gICAgICB5b2ZmMSAqPSB5c3RlcDtcbiAgICAgIHpvZmYxICo9IHpzdGVwO1xuXG4gICAgICBmb3IgKGxldCB4b2ZmID0geG9mZjA7IHhvZmYgPD0geG9mZjE7IHhvZmYgKz0geHN0ZXApIHtcbiAgICAgICAgZm9yIChsZXQgeW9mZiA9IHlvZmYwOyB5b2ZmIDw9IHlvZmYxOyB5b2ZmICs9IHlzdGVwKSB7XG4gICAgICAgICAgZm9yIChsZXQgem9mZiA9IHpvZmYwOyB6b2ZmIDw9IHpvZmYxOyB6b2ZmICs9IHpzdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBQdXQgYWxsIGJvZGllcyBpbnRvIHRoZSBiaW5zXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbMF07XG5cbiAgICAgIHN3aXRjaCAoc2kudHlwZSkge1xuICAgICAgICBjYXNlIFNQSEVSRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHNpOyAvLyBQdXQgaW4gYmluXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBvdmVybGFwIHdpdGggb3RoZXIgYmluc1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgY29uc3QgeiA9IGJpLnBvc2l0aW9uLno7XG4gICAgICAgICAgICBjb25zdCByID0gc2hhcGUucmFkaXVzO1xuICAgICAgICAgICAgYWRkQm94VG9CaW5zKHggLSByLCB5IC0gciwgeiAtIHIsIHggKyByLCB5ICsgciwgeiArIHIsIGJpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFBMQU5FOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2k7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS53b3JsZE5vcm1hbE5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgIHNoYXBlLmNvbXB1dGVXb3JsZE5vcm1hbChiaS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGxhbmVOb3JtYWwgPSBzaGFwZS53b3JsZE5vcm1hbDsgLy9SZWxhdGl2ZSBwb3NpdGlvbiBmcm9tIG9yaWdpbiBvZiBwbGFuZSBvYmplY3QgdG8gdGhlIGZpcnN0IGJpblxuICAgICAgICAgICAgLy9JbmNyZW1lbnRlZCBhcyB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIGJpbnNcblxuICAgICAgICAgICAgY29uc3QgeHJlc2V0ID0geG1pbiArIGJpbnNpemVYICogMC41IC0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHlyZXNldCA9IHltaW4gKyBiaW5zaXplWSAqIDAuNSAtIGJpLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBjb25zdCB6cmVzZXQgPSB6bWluICsgYmluc2l6ZVogKiAwLjUgLSBiaS5wb3NpdGlvbi56O1xuICAgICAgICAgICAgY29uc3QgZCA9IEdyaWRCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX2Q7XG4gICAgICAgICAgICBkLnNldCh4cmVzZXQsIHlyZXNldCwgenJlc2V0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeGkgPSAwLCB4b2ZmID0gMDsgeGkgIT09IG54OyB4aSsrLCB4b2ZmICs9IHhzdGVwLCBkLnkgPSB5cmVzZXQsIGQueCArPSBiaW5zaXplWCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCB5aSA9IDAsIHlvZmYgPSAwOyB5aSAhPT0gbnk7IHlpKyssIHlvZmYgKz0geXN0ZXAsIGQueiA9IHpyZXNldCwgZC55ICs9IGJpbnNpemVZKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgemkgPSAwLCB6b2ZmID0gMDsgemkgIT09IG56OyB6aSsrLCB6b2ZmICs9IHpzdGVwLCBkLnogKz0gYmluc2l6ZVopIHtcbiAgICAgICAgICAgICAgICAgIGlmIChkLmRvdChwbGFuZU5vcm1hbCkgPCBiaW5SYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0geG9mZiArIHlvZmYgKyB6b2ZmO1xuICAgICAgICAgICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgYmkuY29tcHV0ZUFBQkIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkQm94VG9CaW5zKGJpLmFhYmIubG93ZXJCb3VuZC54LCBiaS5hYWJiLmxvd2VyQm91bmQueSwgYmkuYWFiYi5sb3dlckJvdW5kLnosIGJpLmFhYmIudXBwZXJCb3VuZC54LCBiaS5hYWJiLnVwcGVyQm91bmQueSwgYmkuYWFiYi51cHBlckJvdW5kLnosIGJpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENoZWNrIGVhY2ggYmluXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYmluczsgaSsrKSB7XG4gICAgICBjb25zdCBiaW5MZW5ndGggPSBiaW5MZW5ndGhzW2ldOyAvL1NraXAgYmlucyB3aXRoIG5vIHBvdGVudGlhbCBjb2xsaXNpb25zXG5cbiAgICAgIGlmIChiaW5MZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IGJpbnNbaV07IC8vIERvIE5eMiBicm9hZHBoYXNlIGluc2lkZVxuXG4gICAgICAgIGZvciAobGV0IHhpID0gMDsgeGkgIT09IGJpbkxlbmd0aDsgeGkrKykge1xuICAgICAgICAgIGNvbnN0IGJpID0gYmluW3hpXTtcblxuICAgICAgICAgIGZvciAobGV0IHlpID0gMDsgeWkgIT09IHhpOyB5aSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiaiA9IGJpblt5aV07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy9cdGZvciAobGV0IHppID0gMCwgem9mZj0wOyB6aSA8IG56OyB6aSsrLCB6b2ZmKz0genN0ZXApIHtcbiAgICAvL1x0XHRjb25zb2xlLmxvZyhcImxheWVyIFwiK3ppKTtcbiAgICAvL1x0XHRmb3IgKGxldCB5aSA9IDAsIHlvZmY9MDsgeWkgPCBueTsgeWkrKywgeW9mZiArPSB5c3RlcCkge1xuICAgIC8vXHRcdFx0Y29uc3Qgcm93ID0gJyc7XG4gICAgLy9cdFx0XHRmb3IgKGxldCB4aSA9IDAsIHhvZmY9MDsgeGkgPCBueDsgeGkrKywgeG9mZiArPSB4c3RlcCkge1xuICAgIC8vXHRcdFx0XHRjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgLy9cdFx0XHRcdHJvdyArPSAnICcgKyBiaW5MZW5ndGhzW2lkeF07XG4gICAgLy9cdFx0XHR9XG4gICAgLy9cdFx0XHRjb25zb2xlLmxvZyhyb3cpO1xuICAgIC8vXHRcdH1cbiAgICAvL1x0fVxuXG5cbiAgICB0aGlzLm1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMik7XG4gIH1cblxufVxuLyoqXHJcbiAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxyXG4gKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXHJcbiAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcclxuICovXG5cbmNvbnN0IEdyaWRCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX2QgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLlxyXG4gKiBAY2xhc3MgTmFpdmVCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZGVzY3JpcHRpb24gVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgKHdoaWNoIGlzIGJhZClcclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxyXG4gKi9cbmNsYXNzIE5haXZlQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IG4gPSBib2RpZXMubGVuZ3RoO1xuICAgIGxldCBiaTtcbiAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gaTsgaisrKSB7XG4gICAgICAgIGJpID0gYm9kaWVzW2ldO1xuICAgICAgICBiaiA9IGJvZGllc1tqXTtcblxuICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gd29ybGQuYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYi5jb21wdXRlQUFCQigpO1xuICAgICAgfSAvLyBVZ2x5IGhhY2sgdW50aWwgQm9keSBnZXRzIGFhYmJcblxuXG4gICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuXG4vKipcclxuICogU3RvcmFnZSBmb3IgUmF5IGNhc3RpbmcgZGF0YS5cclxuICogQGNsYXNzIFJheWNhc3RSZXN1bHRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgUmF5Y2FzdFJlc3VsdCB7XG4gIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guXG4gIC8vIERpc3RhbmNlIHRvIHRoZSBoaXQuIFdpbGwgYmUgc2V0IHRvIC0xIGlmIHRoZXJlIHdhcyBubyBoaXQuXG4gIC8vIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xO1xuICAgIHRoaXMuZGlzdGFuY2UgPSAtMTtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBSZXNldCBhbGwgcmVzdWx0IGRhdGEuXHJcbiAgICogQG1ldGhvZCByZXNldFxyXG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTtcbiAgICB0aGlzLmRpc3RhbmNlID0gLTE7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBhYm9ydFxyXG4gICAqL1xuXG5cbiAgYWJvcnQoKSB7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtWZWMzfSByYXlUb1dvcmxkXHJcbiAgICogQHBhcmFtIHtWZWMzfSBoaXROb3JtYWxXb3JsZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZFxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlXHJcbiAgICovXG5cblxuICBzZXQocmF5RnJvbVdvcmxkLCByYXlUb1dvcmxkLCBoaXROb3JtYWxXb3JsZCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQuY29weShyYXlGcm9tV29ybGQpO1xuICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpO1xuICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQuY29weShoaXROb3JtYWxXb3JsZCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkLmNvcHkoaGl0UG9pbnRXb3JsZCk7XG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG5cbn1cblxuY29uc3QgUkFZX01PREVTID0ge1xuICBDTE9TRVNUOiAxLFxuICBBTlk6IDIsXG4gIEFMTDogNFxufTtcblxuLyoqXHJcbiAqIEEgbGluZSBpbiAzRCBzcGFjZSB0aGF0IGludGVyc2VjdHMgYm9kaWVzIGFuZCByZXR1cm4gcG9pbnRzLlxyXG4gKiBAY2xhc3MgUmF5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge1ZlYzN9IGZyb21cclxuICogQHBhcmFtIHtWZWMzfSB0b1xyXG4gKi9cbmNsYXNzIFJheSB7XG4gIC8vIFRoZSBwcmVjaXNpb24gb2YgdGhlIHJheS4gVXNlZCB3aGVuIGNoZWNraW5nIHBhcmFsbGVsaXR5IGV0Yy5cbiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIFJheSB0byB0YWtlIC5jb2xsaXNpb25SZXNwb25zZSBmbGFncyBpbnRvIGFjY291bnQgb24gYm9kaWVzIGFuZCBzaGFwZXMuXG4gIC8vIElmIHNldCB0byB0cnVlLCB0aGUgcmF5IHNraXBzIGFueSBoaXRzIHdpdGggbm9ybWFsLmRvdChyYXlEaXJlY3Rpb24pIDwgMC5cbiAgLy8gVGhlIGludGVyc2VjdGlvbiBtb2RlLiBTaG91bGQgYmUgUmF5LkFOWSwgUmF5LkFMTCBvciBSYXkuQ0xPU0VTVC5cbiAgLy8gQ3VycmVudCByZXN1bHQgb2JqZWN0LlxuICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGR1cmluZyBpbnRlcnNlY3RXb3JsZCgpIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLlxuICAvLyBVc2VyLXByb3ZpZGVkIHJlc3VsdCBjYWxsYmFjay4gV2lsbCBiZSB1c2VkIGlmIG1vZGUgaXMgUmF5LkFMTC5cbiAgY29uc3RydWN0b3IoZnJvbSA9IG5ldyBWZWMzKCksIHRvID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMuZnJvbSA9IGZyb20uY2xvbmUoKTtcbiAgICB0aGlzLnRvID0gdG8uY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5wcmVjaXNpb24gPSAwLjAwMDE7XG4gICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHJ1ZTtcbiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSBmYWxzZTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSAtMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gLTE7XG4gICAgdGhpcy5tb2RlID0gUmF5LkFOWTtcbiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcblxuICAgIHRoaXMuY2FsbGJhY2sgPSByZXN1bHQgPT4ge307XG4gIH1cbiAgLyoqXHJcbiAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC5cclxuICAgKiBAbWV0aG9kIGludGVyc2VjdFdvcmxkXHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZywgb3RoZXJ3aXNlIGZhbHNlLlxyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgUmF5LkFOWTtcbiAgICB0aGlzLnJlc3VsdCA9IG9wdGlvbnMucmVzdWx0IHx8IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IC0xO1xuICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcblxuICAgIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICAgIHRoaXMuZnJvbS5jb3B5KG9wdGlvbnMuZnJvbSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudG8pIHtcbiAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCAoKCkgPT4ge30pO1xuXG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcbiAgICB0aGlzLnJlc3VsdC5yZXNldCgpO1xuICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgdGhpcy5nZXRBQUJCKHRtcEFBQkIpO1xuICAgIHRtcEFycmF5Lmxlbmd0aCA9IDA7XG4gICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTtcbiAgICB0aGlzLmludGVyc2VjdEJvZGllcyh0bXBBcnJheSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzSGl0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC5cclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlcclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IFtyZXN1bHRdIERlcHJlY2F0ZWQgLSBzZXQgdGhlIHJlc3VsdCBwcm9wZXJ0eSBvZiB0aGUgUmF5IGluc3RlYWQuXHJcbiAgICovXG5cblxuICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlO1xuXG4gICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHhpID0gaW50ZXJzZWN0Qm9keV94aTtcbiAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IGJvZHkuc2hhcGVzLmxlbmd0aDsgaSA8IE47IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTtcblxuICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIXNoYXBlLmNvbGxpc2lvblJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwXG4gICAgICB9XG5cbiAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpO1xuICAgICAgeGkudmFkZChib2R5LnBvc2l0aW9uLCB4aSk7XG4gICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpO1xuXG4gICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXNcclxuICAgKiBAcGFyYW0ge0FycmF5fSBib2RpZXMgQW4gYXJyYXkgb2YgQm9keSBvYmplY3RzLlxyXG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZFxyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0Qm9kaWVzKGJvZGllcywgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykge1xuICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KGJvZGllc1tpXSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuXHJcbiAgICovXG5cblxuICB1cGRhdGVEaXJlY3Rpb24oKSB7XG4gICAgdGhpcy50by52c3ViKHRoaXMuZnJvbSwgdGhpcy5kaXJlY3Rpb24pO1xuICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsgLy8gQ2hlY2tpbmcgYm91bmRpbmdTcGhlcmVcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIHRoaXMuZGlyZWN0aW9uLCBwb3NpdGlvbik7XG5cbiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07XG5cbiAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7XG4gICAgICBpbnRlcnNlY3RNZXRob2QuY2FsbCh0aGlzLCBzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHNoYXBlKTtcbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0Qm94KGJveCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Q29udmV4KGJveC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKTtcbiAgfVxuXG4gIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbFxuXG4gICAgY29uc3Qgd29ybGROb3JtYWwgPSBuZXcgVmVjMygwLCAwLCAxKTtcbiAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgY29uc3QgbGVuID0gbmV3IFZlYzMoKTtcbiAgICBmcm9tLnZzdWIocG9zaXRpb24sIGxlbik7XG4gICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTtcbiAgICB0by52c3ViKHBvc2l0aW9uLCBsZW4pO1xuICAgIGNvbnN0IHBsYW5lVG9UbyA9IGxlbi5kb3Qod29ybGROb3JtYWwpO1xuXG4gICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkge1xuICAgICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZnJvbS5kaXN0YW5jZVRvKHRvKSA8IHBsYW5lVG9Gcm9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbl9kb3RfZGlyID0gd29ybGROb3JtYWwuZG90KGRpcmVjdGlvbik7XG5cbiAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkaXJfc2NhbGVkX3dpdGhfdCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTtcbiAgICBjb25zdCB0ID0gLXdvcmxkTm9ybWFsLmRvdChwbGFuZVBvaW50VG9Gcm9tKSAvIG5fZG90X2RpcjtcbiAgICBkaXJlY3Rpb24uc2NhbGUodCwgZGlyX3NjYWxlZF93aXRoX3QpO1xuICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7XG4gICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIGhpdFBvaW50V29ybGQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHdvcmxkIEFBQkIgb2YgdGhlIHJheS5cclxuICAgKi9cblxuXG4gIGdldEFBQkIoYWFiYikge1xuICAgIGNvbnN0IHtcbiAgICAgIGxvd2VyQm91bmQsXG4gICAgICB1cHBlckJvdW5kXG4gICAgfSA9IGFhYmI7XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgbG93ZXJCb3VuZC54ID0gTWF0aC5taW4odG8ueCwgZnJvbS54KTtcbiAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpO1xuICAgIGxvd2VyQm91bmQueiA9IE1hdGgubWluKHRvLnosIGZyb20ueik7XG4gICAgdXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodG8ueCwgZnJvbS54KTtcbiAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpO1xuICAgIHVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRvLnosIGZyb20ueik7XG4gIH1cblxuICBfaW50ZXJzZWN0SGVpZ2h0ZmllbGQoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgY29uc3QgZGF0YSA9IHNoYXBlLmRhdGE7XG4gICAgY29uc3QgdyA9IHNoYXBlLmVsZW1lbnRTaXplOyAvLyBDb252ZXJ0IHRoZSByYXkgdG8gbG9jYWwgaGVpZ2h0ZmllbGQgY29vcmRpbmF0ZXNcblxuICAgIGNvbnN0IGxvY2FsUmF5ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXk7IC8vbmV3IFJheSh0aGlzLmZyb20sIHRoaXMudG8pO1xuXG4gICAgbG9jYWxSYXkuZnJvbS5jb3B5KHRoaXMuZnJvbSk7XG4gICAgbG9jYWxSYXkudG8uY29weSh0aGlzLnRvKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LmZyb20sIGxvY2FsUmF5LmZyb20pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkudG8sIGxvY2FsUmF5LnRvKTtcbiAgICBsb2NhbFJheS51cGRhdGVEaXJlY3Rpb24oKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG5cbiAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4O1xuICAgIGxldCBpTWluWDtcbiAgICBsZXQgaU1pblk7XG4gICAgbGV0IGlNYXhYO1xuICAgIGxldCBpTWF4WTsgLy8gU2V0IHRvIG1heFxuXG4gICAgaU1pblggPSBpTWluWSA9IDA7XG4gICAgaU1heFggPSBpTWF4WSA9IHNoYXBlLmRhdGEubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTtcbiAgICBsb2NhbFJheS5nZXRBQUJCKGFhYmIpO1xuICAgIHNoYXBlLmdldEluZGV4T2ZQb3NpdGlvbihhYWJiLmxvd2VyQm91bmQueCwgYWFiYi5sb3dlckJvdW5kLnksIGluZGV4LCB0cnVlKTtcbiAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7XG4gICAgaU1pblkgPSBNYXRoLm1heChpTWluWSwgaW5kZXhbMV0pO1xuICAgIHNoYXBlLmdldEluZGV4T2ZQb3NpdGlvbihhYWJiLnVwcGVyQm91bmQueCwgYWFiYi51cHBlckJvdW5kLnksIGluZGV4LCB0cnVlKTtcbiAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpO1xuICAgIGlNYXhZID0gTWF0aC5taW4oaU1heFksIGluZGV4WzFdICsgMSk7XG5cbiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhcGUuZ2V0QWFiYkF0SW5kZXgoaSwgaiwgYWFiYik7XG5cbiAgICAgICAgaWYgKCFhYWJiLm92ZXJsYXBzUmF5KGxvY2FsUmF5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIExvd2VyIHRyaWFuZ2xlXG5cblxuICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlXG5cblxuICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7XG4gICAgY29uc3QgYSA9ICh0by54IC0gZnJvbS54KSAqKiAyICsgKHRvLnkgLSBmcm9tLnkpICoqIDIgKyAodG8ueiAtIGZyb20ueikgKiogMjtcbiAgICBjb25zdCBiID0gMiAqICgodG8ueCAtIGZyb20ueCkgKiAoZnJvbS54IC0gcG9zaXRpb24ueCkgKyAodG8ueSAtIGZyb20ueSkgKiAoZnJvbS55IC0gcG9zaXRpb24ueSkgKyAodG8ueiAtIGZyb20ueikgKiAoZnJvbS56IC0gcG9zaXRpb24ueikpO1xuICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7XG4gICAgY29uc3QgZGVsdGEgPSBiICoqIDIgLSA0ICogYSAqIGM7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50O1xuICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsO1xuXG4gICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgZnJvbS5sZXJwKHRvLCBkZWx0YSwgaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTtcbiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZDEgPSAoLWIgLSBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7XG4gICAgICBjb25zdCBkMiA9ICgtYiArIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTtcblxuICAgICAgaWYgKGQxID49IDAgJiYgZDEgPD0gMSkge1xuICAgICAgICBmcm9tLmxlcnAodG8sIGQxLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7XG4gICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHtcbiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMiwgaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpO1xuICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0Q29udmV4KHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdENvbnZleF9ub3JtYWw7XG4gICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjtcbiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlc1xuXG4gICAgY29uc3QgZmFjZXMgPSBzaGFwZS5mYWNlcztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHNoYXBlLnZlcnRpY2VzO1xuICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFscztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBmcm9tVG9EaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyh0byk7XG4gICAgY29uc3QgTmZhY2VzID0gZmFjZUxpc3QgPyBmYWNlTGlzdC5sZW5ndGggOiBmYWNlcy5sZW5ndGg7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykge1xuICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdCA/IGZhY2VMaXN0W2pdIDogajtcbiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tmaV07XG4gICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07XG4gICAgICBjb25zdCBxID0gcXVhdDtcbiAgICAgIGNvbnN0IHggPSBwb3NpdGlvbjsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZVxuICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsXG4gICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi5cblxuICAgICAgdmVjdG9yLmNvcHkodmVydGljZXNbZmFjZVswXV0pO1xuICAgICAgcS52bXVsdCh2ZWN0b3IsIHZlY3Rvcik7XG4gICAgICB2ZWN0b3IudmFkZCh4LCB2ZWN0b3IpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLlxuXG4gICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsXG5cbiAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmdcblxuICAgICAgY29uc3QgZG90ID0gZGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbFxuXG4gICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lXG5cblxuICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5XG5cbiAgICAgIGlmIChzY2FsYXIgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBpZiAoZG90IDwgMCkge1xuICAgICAgLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXJcblxuXG4gICAgICBkaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7XG4gICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gYSBpcyB0aGUgcG9pbnQgd2UgY29tcGFyZSBwb2ludHMgYiBhbmQgYyB3aXRoLlxuXG4gICAgICBhLmNvcHkodmVydGljZXNbZmFjZVswXV0pO1xuICAgICAgcS52bXVsdChhLCBhKTtcbiAgICAgIHgudmFkZChhLCBhKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgLy8gVHJhbnNmb3JtIDMgdmVydGljZXMgdG8gd29ybGQgY29vcmRzXG4gICAgICAgIGIuY29weSh2ZXJ0aWNlc1tmYWNlW2ldXSk7XG4gICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pO1xuICAgICAgICBxLnZtdWx0KGIsIGIpO1xuICAgICAgICBxLnZtdWx0KGMsIGMpO1xuICAgICAgICB4LnZhZGQoYiwgYik7XG4gICAgICAgIHgudmFkZChjLCBjKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVRvKGZyb20pO1xuXG4gICAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSkgfHwgZGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3RQb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgZmkpO1xuICAgICAgfSAvLyB9XG5cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC5cclxuICAgKiBAdG9kbyBVc2UgT2N0cmVlIGxvb2t1cFxyXG4gICAqL1xuXG5cbiAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBub3JtYWwgPSBpbnRlcnNlY3RUcmltZXNoX25vcm1hbDtcbiAgICBjb25zdCB0cmlhbmdsZXMgPSBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcztcbiAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtO1xuICAgIGNvbnN0IHZlY3RvciA9IGludGVyc2VjdENvbnZleF92ZWN0b3I7XG4gICAgY29uc3QgbG9jYWxEaXJlY3Rpb24gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uO1xuICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tO1xuICAgIGNvbnN0IGxvY2FsVG8gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG87XG4gICAgY29uc3Qgd29ybGRJbnRlcnNlY3RQb2ludCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludDtcbiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7XG4gICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXNcblxuICAgIGNvbnN0IGluZGljZXMgPSBtZXNoLmluZGljZXM7XG4gICAgY29uc3QgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzOyAvLyBjb25zdCBub3JtYWxzID0gbWVzaC5mYWNlTm9ybWFsc1xuXG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG4gICAgdHJlZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB0cmVlVHJhbnNmb3JtLnF1YXRlcm5pb24uY29weShxdWF0KTsgLy8gVHJhbnNmb3JtIHJheSB0byBsb2NhbCBzcGFjZSFcblxuICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGRpcmVjdGlvbiwgbG9jYWxEaXJlY3Rpb24pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZnJvbSwgbG9jYWxGcm9tKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIHRvLCBsb2NhbFRvKTtcbiAgICBsb2NhbFRvLnggKj0gbWVzaC5zY2FsZS54O1xuICAgIGxvY2FsVG8ueSAqPSBtZXNoLnNjYWxlLnk7XG4gICAgbG9jYWxUby56ICo9IG1lc2guc2NhbGUuejtcbiAgICBsb2NhbEZyb20ueCAqPSBtZXNoLnNjYWxlLng7XG4gICAgbG9jYWxGcm9tLnkgKj0gbWVzaC5zY2FsZS55O1xuICAgIGxvY2FsRnJvbS56ICo9IG1lc2guc2NhbGUuejtcbiAgICBsb2NhbFRvLnZzdWIobG9jYWxGcm9tLCBsb2NhbERpcmVjdGlvbik7XG4gICAgbG9jYWxEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gICAgY29uc3QgZnJvbVRvRGlzdGFuY2VTcXVhcmVkID0gbG9jYWxGcm9tLmRpc3RhbmNlU3F1YXJlZChsb2NhbFRvKTtcbiAgICBtZXNoLnRyZWUucmF5UXVlcnkodGhpcywgdHJlZVRyYW5zZm9ybSwgdHJpYW5nbGVzKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTtcbiAgICAgIG1lc2guZ2V0Tm9ybWFsKHRyaWFuZ2xlc0luZGV4LCBub3JtYWwpOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlXG4gICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWxcbiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLlxuXG4gICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLlxuXG4gICAgICBhLnZzdWIobG9jYWxGcm9tLCB2ZWN0b3IpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZ1xuXG4gICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWxcbiAgICAgIC8vIGlmIChNYXRoLmFicyggZG90ICkgPCB0aGlzLnByZWNpc2lvbil7XG4gICAgICAvLyAgICAgY29udGludWU7XG4gICAgICAvLyB9XG4gICAgICAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lXG5cbiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheVxuXG4gICAgICBpZiAoc2NhbGFyIDwgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXJcblxuXG4gICAgICBsb2NhbERpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTtcbiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlc1xuXG4gICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDFdLCBiKTtcbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMl0sIGMpO1xuICAgICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VTcXVhcmVkKGxvY2FsRnJvbSk7XG5cbiAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSkgfHwgc3F1YXJlZERpc3RhbmNlID4gZnJvbVRvRGlzdGFuY2VTcXVhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyB0cmFuc2Zvcm0gaW50ZXJzZWN0cG9pbnQgYW5kIG5vcm1hbCB0byB3b3JsZFxuXG5cbiAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUocXVhdCwgbm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIGludGVyc2VjdFBvaW50LCB3b3JsZEludGVyc2VjdFBvaW50KTtcbiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCB3b3JsZEludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCB0cmlhbmdsZXNJbmRleCk7XG4gICAgfVxuXG4gICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW50ZXJzZWN0aW9ucyBzaG91bGQgY29udGludWVcclxuICAgKi9cblxuXG4gIHJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBoaXRGYWNlSW5kZXgpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyhoaXRQb2ludFdvcmxkKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsgLy8gU2tpcCBiYWNrIGZhY2VzP1xuXG4gICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXN1bHQuaGl0RmFjZUluZGV4ID0gdHlwZW9mIGhpdEZhY2VJbmRleCAhPT0gJ3VuZGVmaW5lZCcgPyBoaXRGYWNlSW5kZXggOiAtMTtcblxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIFJheS5BTEw6XG4gICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpO1xuICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSYXkuQ0xPU0VTVDpcbiAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHJlc3VsdC5kaXN0YW5jZSB8fCAhcmVzdWx0Lmhhc0hpdCkge1xuICAgICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSYXkuQU5ZOlxuICAgICAgICAvLyBSZXBvcnQgYW5kIHN0b3AuXG4gICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0LnNob3VsZFN0b3AgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxufVxuUmF5LkNMT1NFU1QgPSAxO1xuUmF5LkFOWSA9IDI7XG5SYXkuQUxMID0gNDtcbmNvbnN0IHRtcEFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3QgdG1wQXJyYXkgPSBbXTtcbmNvbnN0IHYxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHYyID0gbmV3IFZlYzMoKTtcbi8qXHJcbiAqIEFzIHBlciBcIkJhcnljZW50cmljIFRlY2huaXF1ZVwiIGFzIG5hbWVkIGhlcmUgaHR0cDovL3d3dy5ibGFja3Bhd24uY29tL3RleHRzL3BvaW50aW5wb2x5L2RlZmF1bHQuaHRtbCBCdXQgd2l0aG91dCB0aGUgZGl2aXNpb25cclxuICovXG5cblJheS5wb2ludEluVHJpYW5nbGUgPSBwb2ludEluVHJpYW5nbGU7XG5cbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7XG4gIGMudnN1YihhLCB2MCk7XG4gIGIudnN1YihhLCB2MSk7XG4gIHAudnN1YihhLCB2Mik7XG4gIGNvbnN0IGRvdDAwID0gdjAuZG90KHYwKTtcbiAgY29uc3QgZG90MDEgPSB2MC5kb3QodjEpO1xuICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7XG4gIGNvbnN0IGRvdDExID0gdjEuZG90KHYxKTtcbiAgY29uc3QgZG90MTIgPSB2MS5kb3QodjIpO1xuICBsZXQgdTtcbiAgbGV0IHY7XG4gIHJldHVybiAodSA9IGRvdDExICogZG90MDIgLSBkb3QwMSAqIGRvdDEyKSA+PSAwICYmICh2ID0gZG90MDAgKiBkb3QxMiAtIGRvdDAxICogZG90MDIpID49IDAgJiYgdSArIHYgPCBkb3QwMCAqIGRvdDExIC0gZG90MDEgKiBkb3QwMTtcbn1cblxuY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGEgPSBuZXcgVmVjMygpO1xuY29uc3QgYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuUExBTkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0UGxhbmU7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhPcHRpb25zID0ge1xuICBmYWNlTGlzdDogWzBdXG59O1xuY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7XG5jb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCA9IFtdO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5IRUlHSFRGSUVMRF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RIZWlnaHRmaWVsZDtcbmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5TUEhFUkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0U3BoZXJlO1xuY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhfdmVjdG9yID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTl0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RDb252ZXg7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyA9IFtdO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5UUklNRVNIXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaW1lc2g7XG5jb25zdCB2MCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3QgPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikge1xuICAvLyB2MCBpcyB2ZWN0b3IgZnJvbSBmcm9tIHRvIHBvc2l0aW9uXG4gIHBvc2l0aW9uLnZzdWIoZnJvbSwgdjApO1xuICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb21cblxuICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpO1xuICBpbnRlcnNlY3QudmFkZChmcm9tLCBpbnRlcnNlY3QpO1xuICBjb25zdCBkaXN0YW5jZSA9IHBvc2l0aW9uLmRpc3RhbmNlVG8oaW50ZXJzZWN0KTtcbiAgcmV0dXJuIGRpc3RhbmNlO1xufVxuXG4vKipcclxuICogU3dlZXAgYW5kIHBydW5lIGJyb2FkcGhhc2UgYWxvbmcgb25lIGF4aXMuXHJcbiAqXHJcbiAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge1dvcmxkfSBbd29ybGRdXHJcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcclxuICovXG5jbGFzcyBTQVBCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS5cbiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi5cbiAgLy8gQXhpcyB0byBzb3J0IHRoZSBib2RpZXMgYWxvbmcuIFNldCB0byAwIGZvciB4IGF4aXMsIGFuZCAxIGZvciB5IGF4aXMuIEZvciBiZXN0IHBlcmZvcm1hbmNlLCBjaG9vc2UgYW4gYXhpcyB0aGF0IHRoZSBib2RpZXMgYXJlIHNwcmVhZCBvdXQgbW9yZSBvbi5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYXhpc0xpc3QgPSBbXTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuXG4gICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgICBheGlzTGlzdC5wdXNoKGV2ZW50LmJvZHkpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7XG5cbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAod29ybGQpIHtcbiAgICAgIHRoaXMuc2V0V29ybGQod29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGFuZ2UgdGhlIHdvcmxkXHJcbiAgICogQG1ldGhvZCBzZXRXb3JsZFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGQod29ybGQpIHtcbiAgICAvLyBDbGVhciB0aGUgb2xkIGF4aXMgYXJyYXlcbiAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXhpc0xpc3QucHVzaCh3b3JsZC5ib2RpZXNbaV0pO1xuICAgIH0gLy8gUmVtb3ZlIG9sZCBoYW5kbGVycywgaWYgYW55XG5cblxuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7XG4gICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTsgLy8gQWRkIGhhbmRsZXJzIHRvIHVwZGF0ZSB0aGUgbGlzdCBvZiBib2RpZXMuXG5cbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpO1xuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbGxlY3QgYWxsIGNvbGxpc2lvbiBwYWlyc1xyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0gIHtBcnJheX0gcDFcclxuICAgKiBAcGFyYW0gIHtBcnJheX0gcDJcclxuICAgKi9cblxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuc29ydExpc3QoKTtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9IC8vIExvb2sgdGhyb3VnaCB0aGUgbGlzdFxuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBmb3IgKGogPSBpICsgMTsgaiA8IE47IGorKykge1xuICAgICAgICBjb25zdCBiaiA9IGJvZGllc1tqXTtcblxuICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFTQVBCcm9hZHBoYXNlLmNoZWNrQm91bmRzKGJpLCBiaiwgYXhpc0luZGV4KSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcDEsIHAyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3J0TGlzdCgpIHtcbiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgY29uc3QgTiA9IGF4aXNMaXN0Lmxlbmd0aDsgLy8gVXBkYXRlIEFBQkJzXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGF4aXNMaXN0W2ldO1xuXG4gICAgICBpZiAoYmkuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICAgIGJpLmNvbXB1dGVBQUJCKCk7XG4gICAgICB9XG4gICAgfSAvLyBTb3J0IHRoZSBsaXN0XG5cblxuICAgIGlmIChheGlzSW5kZXggPT09IDApIHtcbiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFgoYXhpc0xpc3QpO1xuICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTtcbiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WihheGlzTGlzdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHRoZSB2YXJpYW5jZSBvZiB0aGUgYm9keSBwb3NpdGlvbnMgYW5kIGVzdGltYXRlcyB0aGUgYmVzdFxyXG4gICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguXHJcbiAgICogQG1ldGhvZCBhdXRvRGV0ZWN0QXhpc1xyXG4gICAqL1xuXG5cbiAgYXV0b0RldGVjdEF4aXMoKSB7XG4gICAgbGV0IHN1bVggPSAwO1xuICAgIGxldCBzdW1YMiA9IDA7XG4gICAgbGV0IHN1bVkgPSAwO1xuICAgIGxldCBzdW1ZMiA9IDA7XG4gICAgbGV0IHN1bVogPSAwO1xuICAgIGxldCBzdW1aMiA9IDA7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcbiAgICBjb25zdCBpbnZOID0gMSAvIE47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3QgY2VudGVyWCA9IGIucG9zaXRpb24ueDtcbiAgICAgIHN1bVggKz0gY2VudGVyWDtcbiAgICAgIHN1bVgyICs9IGNlbnRlclggKiBjZW50ZXJYO1xuICAgICAgY29uc3QgY2VudGVyWSA9IGIucG9zaXRpb24ueTtcbiAgICAgIHN1bVkgKz0gY2VudGVyWTtcbiAgICAgIHN1bVkyICs9IGNlbnRlclkgKiBjZW50ZXJZO1xuICAgICAgY29uc3QgY2VudGVyWiA9IGIucG9zaXRpb24uejtcbiAgICAgIHN1bVogKz0gY2VudGVyWjtcbiAgICAgIHN1bVoyICs9IGNlbnRlclogKiBjZW50ZXJaO1xuICAgIH1cblxuICAgIGNvbnN0IHZhcmlhbmNlWCA9IHN1bVgyIC0gc3VtWCAqIHN1bVggKiBpbnZOO1xuICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOO1xuICAgIGNvbnN0IHZhcmlhbmNlWiA9IHN1bVoyIC0gc3VtWiAqIHN1bVogKiBpbnZOO1xuXG4gICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWSkge1xuICAgICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWikge1xuICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YXJpYW5jZVkgPiB2YXJpYW5jZVopIHtcbiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5heGlzSW5kZXggPSAyO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkge1xuICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRMaXN0KCk7XG4gICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgbGV0IGF4aXMgPSAneCc7XG5cbiAgICBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgICBheGlzID0gJ3knO1xuICAgIH1cblxuICAgIGlmIChheGlzSW5kZXggPT09IDIpIHtcbiAgICAgIGF4aXMgPSAneic7XG4gICAgfVxuXG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IGxvd2VyID0gYWFiYi5sb3dlckJvdW5kW2F4aXNdO1xuICAgIGNvbnN0IHVwcGVyID0gYWFiYi51cHBlckJvdW5kW2F4aXNdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGlzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYiA9IGF4aXNMaXN0W2ldO1xuXG4gICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYi5jb21wdXRlQUFCQigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WFxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXG5cblNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFggPSBhID0+IHtcbiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHYgPSBhW2ldO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueCA8PSB2LmFhYmIubG93ZXJCb3VuZC54KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhW2ogKyAxXSA9IGFbal07XG4gICAgfVxuXG4gICAgYVtqICsgMV0gPSB2O1xuICB9XG5cbiAgcmV0dXJuIGE7XG59O1xuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WVxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WSA9IGEgPT4ge1xuICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdiA9IGFbaV07XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC55IDw9IHYuYWFiYi5sb3dlckJvdW5kLnkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFbaiArIDFdID0gYVtqXTtcbiAgICB9XG5cbiAgICBhW2ogKyAxXSA9IHY7XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGluc2VydGlvblNvcnRaXHJcbiAqIEBwYXJhbSAge0FycmF5fSBhXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cblxuXG5TQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaID0gYSA9PiB7XG4gIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB2ID0gYVtpXTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYVtqICsgMV0gPSBhW2pdO1xuICAgIH1cblxuICAgIGFbaiArIDFdID0gdjtcbiAgfVxuXG4gIHJldHVybiBhO1xufTtcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGUgYm91bmRzIG9mIHR3byBib2RpZXMgb3ZlcmxhcCwgYWxvbmcgdGhlIGdpdmVuIFNBUCBheGlzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgY2hlY2tCb3VuZHNcclxuICogQHBhcmFtICB7Qm9keX0gYmlcclxuICogQHBhcmFtICB7Qm9keX0gYmpcclxuICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXhcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyA9IChiaSwgYmosIGF4aXNJbmRleCkgPT4ge1xuICBsZXQgYmlQb3M7XG4gIGxldCBialBvcztcblxuICBpZiAoYXhpc0luZGV4ID09PSAwKSB7XG4gICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54O1xuICAgIGJqUG9zID0gYmoucG9zaXRpb24ueDtcbiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7XG4gICAgYmpQb3MgPSBiai5wb3NpdGlvbi55O1xuICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgIGJpUG9zID0gYmkucG9zaXRpb24uejtcbiAgICBialBvcyA9IGJqLnBvc2l0aW9uLno7XG4gIH1cblxuICBjb25zdCByaSA9IGJpLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICAvLyBib3VuZEExID0gYmlQb3MgLSByaSxcbiAgYm91bmRBMiA9IGJpUG9zICsgcmksXG4gICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajtcblxuICByZXR1cm4gYm91bmRCMSA8IGJvdW5kQTI7XG59O1xuXG5mdW5jdGlvbiBVdGlscygpIHt9XG4vKipcclxuICogRXh0ZW5kIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXMuXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBkZWZhdWx0c1xyXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgb2JqZWN0LiBNYXkgYmUgZmFsc3k6IGluIHRoaXMgY2FzZSwgYSBuZXcgb2JqZWN0IGlzIGNyZWF0ZWQgYW5kIHJldHVybmVkLlxyXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtb2RpZmllZCBvcHRpb25zIG9iamVjdC5cclxuICovXG5cblV0aWxzLmRlZmF1bHRzID0gKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpID0+IHtcbiAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKCEoa2V5IGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuLyoqXHJcbiAqIENvbnN0cmFpbnQgYmFzZSBjbGFzc1xyXG4gKiBAY2xhc3MgQ29uc3RyYWludFxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ9dHJ1ZV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YWtlVXBCb2RpZXM9dHJ1ZV1cclxuICovXG5jbGFzcyBDb25zdHJhaW50IHtcbiAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuXG4gIC8vIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBib2RpZXMgdG8gY29sbGlkZSB3aGVuIHRoZXkgYXJlIGNvbm5lY3RlZC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgY29sbGlkZUNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgIHdha2VVcEJvZGllczogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuZXF1YXRpb25zID0gW107XG4gICAgdGhpcy5ib2R5QSA9IGJvZHlBO1xuICAgIHRoaXMuYm9keUIgPSBib2R5QjtcbiAgICB0aGlzLmlkID0gQ29uc3RyYWludC5pZENvdW50ZXIrKztcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSBvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7XG5cbiAgICBpZiAob3B0aW9ucy53YWtlVXBCb2RpZXMpIHtcbiAgICAgIGlmIChib2R5QSkge1xuICAgICAgICBib2R5QS53YWtlVXAoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJvZHlCKSB7XG4gICAgICAgIGJvZHlCLndha2VVcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgYWxsIHRoZSBlcXVhdGlvbnMgd2l0aCBkYXRhLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlXHJcbiAgICovXG5cblxuICB1cGRhdGUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgdXBkYXRlKCkgbm90IGltcGxtZW1lbnRlZCBpbiB0aGlzIENvbnN0cmFpbnQgc3ViY2xhc3MhJyk7XG4gIH1cbiAgLyoqXHJcbiAgICogRW5hYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZW5hYmxlXHJcbiAgICovXG5cblxuICBlbmFibGUoKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykge1xuICAgICAgZXFzW2ldLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZVxyXG4gICAqL1xuXG5cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9ucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBlcXNbaV0uZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG59XG5Db25zdHJhaW50LmlkQ291bnRlciA9IDA7XG5cbi8qKlxyXG4gKiBBbiBlbGVtZW50IGNvbnRhaW5pbmcgNiBlbnRyaWVzLCAzIHNwYXRpYWwgYW5kIDMgcm90YXRpb25hbCBkZWdyZWVzIG9mIGZyZWVkb20uXHJcbiAqL1xuXG5jbGFzcyBKYWNvYmlhbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNwYXRpYWwgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgd2l0aCBvdGhlciBKYWNvYmlhbkVsZW1lbnRcclxuICAgKi9cblxuXG4gIG11bHRpcGx5RWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB3aXRoIHR3byB2ZWN0b3JzXHJcbiAgICovXG5cblxuICBtdWx0aXBseVZlY3RvcnMoc3BhdGlhbCwgcm90YXRpb25hbCkge1xuICAgIHJldHVybiBzcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgcm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBFcXVhdGlvbiBiYXNlIGNsYXNzXHJcbiAqIEBjbGFzcyBFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJpXHJcbiAqIEBwYXJhbSB7Qm9keX0gYmpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbkZvcmNlIE1pbmltdW0gKHJlYWQ6IG5lZ2F0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC5cclxuICovXG5jbGFzcyBFcXVhdGlvbiB7XG4gIC8vIFNQT09LIHBhcmFtZXRlclxuICAvLyBTUE9PSyBwYXJhbWV0ZXJcbiAgLy8gU1BPT0sgcGFyYW1ldGVyXG4gIC8vIEEgbnVtYmVyLCBwcm9wb3J0aW9uYWwgdG8gdGhlIGZvcmNlIGFkZGVkIHRvIHRoZSBib2RpZXMuXG4gIGNvbnN0cnVjdG9yKGJpLCBiaiwgbWluRm9yY2UgPSAtMWU2LCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrO1xuICAgIHRoaXMubWluRm9yY2UgPSBtaW5Gb3JjZTtcbiAgICB0aGlzLm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gICAgdGhpcy5iaSA9IGJpO1xuICAgIHRoaXMuYmogPSBiajtcbiAgICB0aGlzLmEgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlclxuXG4gICAgdGhpcy5iID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuZXBzID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QSA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTtcbiAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLm11bHRpcGxpZXIgPSAwO1xuICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXNcbiAgfVxuICAvKipcclxuICAgKiBSZWNhbGN1bGF0ZXMgYSxiLGVwcy5cclxuICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zXHJcbiAgICovXG5cblxuICBzZXRTcG9va1BhcmFtcyhzdGlmZm5lc3MsIHJlbGF4YXRpb24sIHRpbWVTdGVwKSB7XG4gICAgY29uc3QgZCA9IHJlbGF4YXRpb247XG4gICAgY29uc3QgayA9IHN0aWZmbmVzcztcbiAgICBjb25zdCBoID0gdGltZVN0ZXA7XG4gICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7XG4gICAgdGhpcy5iID0gNC4wICogZCAvICgxICsgNCAqIGQpO1xuICAgIHRoaXMuZXBzID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB0aGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBTUE9PSyBlcXVhdGlvblxyXG4gICAqIEBtZXRob2QgY29tcHV0ZUJcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlQihhLCBiLCBoKSB7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIHJldHVybiAtR3EgKiBhIC0gR1cgKiBiIC0gR2lNZiAqIGg7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUdxXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUdxKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgeGkgPSBiaS5wb3NpdGlvbjtcbiAgICBjb25zdCB4aiA9IGJqLnBvc2l0aW9uO1xuICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypXLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlR1dcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlR1coKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5O1xuICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7XG4gICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGFcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlR1dsYW1iZGEoKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB2aSA9IGJpLnZsYW1iZGE7XG4gICAgY29uc3QgdmogPSBiai52bGFtYmRhO1xuICAgIGNvbnN0IHdpID0gYmkud2xhbWJkYTtcbiAgICBjb25zdCB3aiA9IGJqLndsYW1iZGE7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7XG4gIH1cblxuICBjb21wdXRlR2lNZigpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7XG4gICAgY29uc3QgdGkgPSBiaS50b3JxdWU7XG4gICAgY29uc3QgZmogPSBiai5mb3JjZTtcbiAgICBjb25zdCB0aiA9IGJqLnRvcnF1ZTtcbiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTtcbiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTtcbiAgICBmaS5zY2FsZShpbnZNYXNzaSwgaU1maSk7XG4gICAgZmouc2NhbGUoaW52TWFzc2osIGlNZmopO1xuICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRpLCBpbnZJaV92bXVsdF90YXVpKTtcbiAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdCh0aiwgaW52SWpfdm11bHRfdGF1aik7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyhpTWZpLCBpbnZJaV92bXVsdF90YXVpKSArIEdCLm11bHRpcGx5VmVjdG9ycyhpTWZqLCBpbnZJal92bXVsdF90YXVqKTtcbiAgfVxuXG4gIGNvbXB1dGVHaU1HdCgpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7XG4gICAgY29uc3QgaW52SWogPSBiai5pbnZJbmVydGlhV29ybGRTb2x2ZTtcbiAgICBsZXQgcmVzdWx0ID0gaW52TWFzc2kgKyBpbnZNYXNzajtcbiAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7XG4gICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQS5yb3RhdGlvbmFsKTtcbiAgICBpbnZJai52bXVsdChHQi5yb3RhdGlvbmFsLCB0bXAkMSk7XG4gICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuXHJcbiAgICogQG1ldGhvZCBhZGRUb1dsYW1iZGFcclxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGFcclxuICAgKi9cblxuXG4gIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdGVtcCA9IGFkZFRvV2xhbWJkYV90ZW1wOyAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5XG4gICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHXG5cbiAgICBiaS52bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihiaS5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Euc3BhdGlhbCwgYmkudmxhbWJkYSk7XG4gICAgYmoudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmouaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdCLnNwYXRpYWwsIGJqLnZsYW1iZGEpOyAvLyBBZGQgdG8gYW5ndWxhciB2ZWxvY2l0eVxuXG4gICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Eucm90YXRpb25hbCwgdGVtcCk7XG4gICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpO1xuICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApO1xuICAgIGJqLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiai53bGFtYmRhKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlSW52Q1xyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZXBzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcHV0ZUdpTUd0KCkgKyB0aGlzLmVwcztcbiAgfVxuXG59XG5FcXVhdGlvbi5pZCA9IDA7XG4vKipcclxuICogQ29tcHV0ZXMgRyppbnYoTSkqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy5cclxuICogQG1ldGhvZCBjb21wdXRlR2lNZlxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAqL1xuXG5jb25zdCBpTWZpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGlNZmogPSBuZXcgVmVjMygpO1xuY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnZJal92bXVsdF90YXVqID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBDb21wdXRlcyBHKmludihNKSpHJ1xyXG4gKiBAbWV0aG9kIGNvbXB1dGVHaU1HdFxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAqL1xuXG5jb25zdCB0bXAkMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhZGRUb1dsYW1iZGFfdGVtcCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBDb250YWN0L25vbi1wZW5ldHJhdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uXHJcbiAqIEBjbGFzcyBDb250YWN0RXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgQ29udGFjdEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBcImJvdW5jaW5lc3NcIjogdTEgPSAtZSp1MFxuICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIDAsIG1heEZvcmNlKTtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4wO1xuICAgIHRoaXMucmkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucmogPSBuZXcgVmVjMygpO1xuICAgIHRoaXMubmkgPSBuZXcgVmVjMygpO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHJpID0gdGhpcy5yaTtcbiAgICBjb25zdCByaiA9IHRoaXMucmo7XG4gICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTtcbiAgICBjb25zdCByanhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7XG4gICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmkgPSBiaS5mb3JjZTtcbiAgICBjb25zdCB0YXVpID0gYmkudG9ycXVlO1xuICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7XG4gICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmogPSBiai5mb3JjZTtcbiAgICBjb25zdCB0YXVqID0gYmoudG9ycXVlO1xuICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IG4gPSB0aGlzLm5pOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIHJpLmNyb3NzKG4sIHJpeG4pO1xuICAgIHJqLmNyb3NzKG4sIHJqeG4pOyAvLyBnID0geGorcmogLSh4aStyaSlcbiAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdXG5cbiAgICBuLm5lZ2F0ZShHQS5zcGF0aWFsKTtcbiAgICByaXhuLm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTtcbiAgICBHQi5zcGF0aWFsLmNvcHkobik7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeG4pOyAvLyBDYWxjdWxhdGUgdGhlIHBlbmV0cmF0aW9uIHZlY3RvclxuXG4gICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7XG4gICAgcGVuZXRyYXRpb25WZWMudmFkZChyaiwgcGVuZXRyYXRpb25WZWMpO1xuICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTtcbiAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgY29uc3QgZyA9IG4uZG90KHBlbmV0cmF0aW9uVmVjKTsgLy8gQ29tcHV0ZSBpdGVyYXRpb25cblxuICAgIGNvbnN0IGVQbHVzT25lID0gdGhpcy5yZXN0aXR1dGlvbiArIDE7XG4gICAgY29uc3QgR1cgPSBlUGx1c09uZSAqIHZqLmRvdChuKSAtIGVQbHVzT25lICogdmkuZG90KG4pICsgd2ouZG90KHJqeG4pIC0gd2kuZG90KHJpeG4pO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC5cclxuICAgKiBAbWV0aG9kIGdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxcclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkge1xuICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7XG4gICAgY29uc3QgdmogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92ajtcbiAgICBjb25zdCB4aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpO1xuICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7XG4gICAgY29uc3QgcmVsVmVsID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsO1xuICAgIHRoaXMuYmkucG9zaXRpb24udmFkZCh0aGlzLnJpLCB4aSk7XG4gICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTtcbiAgICB0aGlzLmJpLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhpLCB2aSk7XG4gICAgdGhpcy5iai5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aiwgdmopO1xuICAgIHZpLnZzdWIodmosIHJlbFZlbCk7XG4gICAgcmV0dXJuIHRoaXMubmkuZG90KHJlbFZlbCk7XG4gIH1cblxufVxuY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTsgLy8gVGVtcCB2ZWN0b3JzXG5cbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDMgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmogPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGkgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIENvbm5lY3RzIHR3byBib2RpZXMgYXQgZ2l2ZW4gb2Zmc2V0IHBvaW50cy5cclxuICogQGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICogQGV4dGVuZHMgQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLlxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCIEJvZHkgdGhhdCB3aWxsIGJlIGNvbnN0cmFpbmVkIGluIGEgc2ltaWxhciB3YXkgdG8gdGhlIHNhbWUgcG9pbnQgYXMgYm9keUEuIFdlIHdpbGwgdGhlcmVmb3JlIGdldCBhIGxpbmsgYmV0d2VlbiBib2R5QSBhbmQgYm9keUIuIElmIG5vdCBzcGVjaWZpZWQsIGJvZHlBIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gYSBzdGF0aWMgcG9pbnQuXHJcbiAqIEBwYXJhbSB7VmVjM30gcGl2b3RCIFNlZSBwaXZvdEEuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7XHJcbiAqICAgICBjb25zdCBib2R5QiA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTtcclxuICogICAgIGJvZHlBLnBvc2l0aW9uLnNldCgtMSwgMCwgMCk7XHJcbiAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7XHJcbiAqICAgICBib2R5QS5hZGRTaGFwZShzaGFwZUEpO1xyXG4gKiAgICAgYm9keUIuYWRkU2hhcGUoc2hhcGVCKTtcclxuICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5Qik7XHJcbiAqICAgICBjb25zdCBsb2NhbFBpdm90QSA9IG5ldyBWZWMzKDEsIDAsIDApO1xyXG4gKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7XHJcbiAqICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keUEsIGxvY2FsUGl2b3RBLCBib2R5QiwgbG9jYWxQaXZvdEIpO1xyXG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcclxuICovXG5jbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7XG4gIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuXG4gIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBwaXZvdEEgPSBuZXcgVmVjMygpLCBib2R5QiwgcGl2b3RCID0gbmV3IFZlYzMoKSwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIpO1xuICAgIHRoaXMucGl2b3RBID0gcGl2b3RBLmNsb25lKCk7XG4gICAgdGhpcy5waXZvdEIgPSBwaXZvdEIuY2xvbmUoKTtcbiAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblggPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7XG4gICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsgLy8gRXF1YXRpb25zIHRvIGJlIGZlZCB0byB0aGUgc29sdmVyXG5cbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHgsIHksIHopOyAvLyBNYWtlIHRoZSBlcXVhdGlvbnMgYmlkaXJlY3Rpb25hbFxuXG4gICAgeC5taW5Gb3JjZSA9IHkubWluRm9yY2UgPSB6Lm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICAgIHgubmkuc2V0KDEsIDAsIDApO1xuICAgIHkubmkuc2V0KDAsIDEsIDApO1xuICAgIHoubmkuc2V0KDAsIDAsIDEpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YO1xuICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWTtcbiAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblo7IC8vIFJvdGF0ZSB0aGUgcGl2b3RzIHRvIHdvcmxkIHNwYWNlXG5cbiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTtcbiAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RCLCB4LnJqKTtcbiAgICB5LnJpLmNvcHkoeC5yaSk7XG4gICAgeS5yai5jb3B5KHgucmopO1xuICAgIHoucmkuY29weSh4LnJpKTtcbiAgICB6LnJqLmNvcHkoeC5yaik7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uZSBlcXVhdGlvbi4gV29ya3MgdG8ga2VlcCB0aGUgZ2l2ZW4gYm9keSB3b3JsZCB2ZWN0b3JzIGFsaWduZWQsIG9yIHRpbHRlZCB3aXRoaW4gYSBnaXZlbiBhbmdsZSBmcm9tIGVhY2ggb3RoZXIuXHJcbiAqIEBjbGFzcyBDb25lRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIExvY2FsIGF4aXMgaW4gQVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEJcclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmdsZV0gVGhlIFwiY29uZSBhbmdsZVwiIHRvIGtlZXBcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIC8vIFRoZSBjb25lIGFuZ2xlIHRvIGtlZXAuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzE7XG4gICAgY29uc3Qgbmp4bmkgPSB0bXBWZWMyO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7XG4gICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gVGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvciBpczpcbiAgICAvLyBjb3ModGhldGEpID0gYSAqIGIgLyAobGVuZ3RoKGEpICogbGVuZ3RoKGIpID0geyBsZW4oYSkgPSBsZW4oYikgPSAxIH0gPSBhICogYlxuICAgIC8vIGcgPSBhICogYlxuICAgIC8vIGdkb3QgPSAoYiB4IGEpICogd2kgKyAoYSB4IGIpICogd2pcbiAgICAvLyBHID0gWzAgYnhhIDAgYXhiXVxuICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdXG5cbiAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpO1xuICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7XG4gICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cblxufVxuY29uc3QgdG1wVmVjMSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMyID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIFJvdGF0aW9uYWwgY29uc3RyYWludC4gV29ya3MgdG8ga2VlcCB0aGUgbG9jYWwgdmVjdG9ycyBvcnRob2dvbmFsIHRvIGVhY2ggb3RoZXIgaW4gd29ybGQgc3BhY2UuXHJcbiAqIEBjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZV1cclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTtcbiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzIkMTtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICBuaS5jcm9zcyhuaiwgbml4bmopO1xuICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIGcgPSBuaSAqIG5qXG4gICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2pcbiAgICAvLyBHID0gWzAgbmp4bmkgMCBuaXhual1cbiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopO1xuICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IHRtcFZlYzEkMSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEFdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsgLy8gU2V0IHBpdm90IHBvaW50IGluIGJldHdlZW5cblxuICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDtcbiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnR3aXN0RXF1YXRpb24gPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgdGhpcy50d2lzdEFuZ2xlID0gdHlwZW9mIG9wdGlvbnMudHdpc3RBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnR3aXN0QW5nbGUgOiAwOyAvLyBNYWtlIHRoZSBjb25lIGVxdWF0aW9uIHB1c2ggdGhlIGJvZGllcyB0b3dhcmQgdGhlIGNvbmUgYXhpcywgbm90IG91dHdhcmRcblxuICAgIGMubWF4Rm9yY2UgPSAwO1xuICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cbiAgICB0Lm1heEZvcmNlID0gMDtcbiAgICB0Lm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2goYywgdCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247XG4gICAgY29uc3QgdHdpc3QgPSB0aGlzLnR3aXN0RXF1YXRpb247XG4gICAgc3VwZXIudXBkYXRlKCk7IC8vIFVwZGF0ZSB0aGUgYXhlcyB0byB0aGUgY29uZSBjb25zdHJhaW50XG5cbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5heGlzQSwgY29uZS5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnRcblxuICAgIHRoaXMuYXhpc0EudGFuZ2VudHModHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTtcbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTtcbiAgICB0aGlzLmF4aXNCLnRhbmdlbnRzKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7XG4gICAgY29uZS5hbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgdHdpc3QubWF4QW5nbGUgPSB0aGlzLnR3aXN0QW5nbGU7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uc3RyYWlucyB0d28gYm9kaWVzIHRvIGJlIGF0IGEgY29uc3RhbnQgZGlzdGFuY2UgZnJvbSBlYWNoIG90aGVycyBjZW50ZXIgb2YgbWFzcy5cclxuICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtkaXN0YW5jZV0gVGhlIGRpc3RhbmNlIHRvIGtlZXAuIElmIHVuZGVmaW5lZCwgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBib2R5QSBhbmQgYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBkaXN0YW5jZSwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIpO1xuXG4gICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRpc3RhbmNlID0gYm9keUEucG9zaXRpb24uZGlzdGFuY2VUbyhib2R5Qi5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOyAvLyBNYWtlIGl0IGJpZGlyZWN0aW9uYWxcblxuICAgIGVxLm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIGVxLm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjtcbiAgICBjb25zdCBoYWxmRGlzdCA9IHRoaXMuZGlzdGFuY2UgKiAwLjU7XG4gICAgY29uc3Qgbm9ybWFsID0gZXEubmk7XG4gICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTtcbiAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgbm9ybWFsLnNjYWxlKGhhbGZEaXN0LCBlcS5yaSk7XG4gICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIExvY2sgY29uc3RyYWludC4gV2lsbCByZW1vdmUgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBib2RpZXMuXHJcbiAqIEBjbGFzcyBMb2NrQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuXG5cbiAgICBjb25zdCBwaXZvdEEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7XG4gICAgYm9keUEucG9zaXRpb24udmFkZChib2R5Qi5wb3NpdGlvbiwgaGFsZldheSk7XG4gICAgaGFsZldheS5zY2FsZSgwLjUsIGhhbGZXYXkpO1xuICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7XG4gICAgYm9keUEucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RBKTsgLy8gVGhlIHBvaW50LXRvLXBvaW50IGNvbnN0cmFpbnQgd2lsbCBrZWVwIGEgcG9pbnQgc2hhcmVkIGJldHdlZW4gdGhlIGJvZGllc1xuXG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlc1xuXG4gICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy54QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy55QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy56QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7XG4gICAgdGhpcy56QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7IC8vIC4uLmFuZCB0aGUgZm9sbG93aW5nIHJvdGF0aW9uYWwgZXF1YXRpb25zIHdpbGwga2VlcCBhbGwgcm90YXRpb25hbCBET0YncyBpbiBwbGFjZVxuXG4gICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjIgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjMgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uO1xuICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xO1xuICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yO1xuICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsXG5cbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlCLCByMS5heGlzQik7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUEsIHIyLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpO1xuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpBLCByMy5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEIsIHIzLmF4aXNCKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBSb3RhdGlvbmFsIG1vdG9yIGNvbnN0cmFpbnQuIFRyaWVzIHRvIGtlZXAgdGhlIHJlbGF0aXZlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyB0byBhIGdpdmVuIHZhbHVlLlxyXG4gKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZVxyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuXG4gIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy5cbiAgLy8gTW90b3IgdmVsb2NpdHkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudGFyZ2V0VmVsb2NpdHkgPSAwO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIGcgPSAwXG4gICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqXG4gICAgLy8gZ2RvdCA9IEcgKiBXID0gRyAqIFt2aSB3aSB2aiB3al1cbiAgICAvLyA9PlxuICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl1cblxuICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7XG4gICAgYXhpc0IubmVnYXRlKEdCLnJvdGF0aW9uYWwpO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKSAtIHRoaXMudGFyZ2V0VmVsb2NpdHk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEhpbmdlIGNvbnN0cmFpbnQuIFRoaW5rIG9mIGl0IGFzIGEgZG9vciBoaW5nZS4gSXQgdHJpZXMgdG8ga2VlcCB0aGUgZG9vciBpbiB0aGUgY29ycmVjdCBwbGFjZSBhbmQgd2l0aCB0aGUgY29ycmVjdCBvcmllbnRhdGlvbi5cclxuICogQGNsYXNzIEhpbmdlQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBBbiBheGlzIHRoYXQgYm9keUEgY2FuIHJvdGF0ZSBhcm91bmQsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS5cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBIaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgLy8gUm90YXRpb24gYXhpcywgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLlxuICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIGF4aXNBLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICBheGlzQi5ub3JtYWxpemUoKTtcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDtcbiAgICBjb25zdCByb3RhdGlvbmFsMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCByb3RhdGlvbmFsMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbihib2R5QSwgYm9keUIsIG1heEZvcmNlKTtcbiAgICBtb3Rvci5lbmFibGVkID0gZmFsc2U7IC8vIE5vdCBlbmFibGVkIGJ5IGRlZmF1bHRcbiAgICAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXJcblxuICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90YXRpb25hbDEsIHJvdGF0aW9uYWwyLCBtb3Rvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBlbmFibGVNb3RvclxyXG4gICAqL1xuXG5cbiAgZW5hYmxlTW90b3IoKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yXHJcbiAgICovXG5cblxuICBkaXNhYmxlTW90b3IoKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWRcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRcclxuICAgKi9cblxuXG4gIHNldE1vdG9yU3BlZWQoc3BlZWQpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24udGFyZ2V0VmVsb2NpdHkgPSBzcGVlZDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldE1vdG9yTWF4Rm9yY2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Rm9yY2VcclxuICAgKi9cblxuXG4gIHNldE1vdG9yTWF4Rm9yY2UobWF4Rm9yY2UpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjtcbiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTtcbiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjtcbiAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxO1xuICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjtcbiAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXNcblxuICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpO1xuICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQoYXhpc0IsIHdvcmxkQXhpc0IpO1xuICAgIHdvcmxkQXhpc0EudGFuZ2VudHMocjEuYXhpc0EsIHIyLmF4aXNBKTtcbiAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpO1xuICAgIHIyLmF4aXNCLmNvcHkod29ybGRBeGlzQik7XG5cbiAgICBpZiAodGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQpIHtcbiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpO1xuICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLCBtb3Rvci5heGlzQik7XG4gICAgfVxuICB9XG5cbn1cbmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudFxyXG4gKiBAY2xhc3MgRnJpY3Rpb25FcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gVGFuZ2VudC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBzbGlwRm9yY2UpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7XG4gICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy50ID0gbmV3IFZlYzMoKTtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCByaSA9IHRoaXMucmk7XG4gICAgY29uc3QgcmogPSB0aGlzLnJqO1xuICAgIGNvbnN0IHJpeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxO1xuICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHQgPSB0aGlzLnQ7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgcmkuY3Jvc3ModCwgcml4dCk7XG4gICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XVxuICAgIC8vIEFuZCByZW1lbWJlciwgdGhpcyBpcyBhIHB1cmUgdmVsb2NpdHkgY29uc3RyYWludCwgZyBpcyBhbHdheXMgemVybyFcblxuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpO1xuICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpO1xuICAgIEdCLnNwYXRpYWwuY29weSh0KTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5jb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuXHJcbiAqIEBjbGFzcyBDb250YWN0TWF0ZXJpYWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xXHJcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlc3RpdHV0aW9uPTAuM11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcz0xZTddXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzPTFlN11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uPTNdXHJcbiAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQlxyXG4gKi9cbmNsYXNzIENvbnRhY3RNYXRlcmlhbCB7XG4gIC8vIElkZW50aWZpZXIgb2YgdGhpcyBtYXRlcmlhbC5cbiAgLy8gUGFydGljaXBhdGluZyBtYXRlcmlhbHMuXG4gIC8vIEZyaWN0aW9uIGNvZWZmaWNpZW50LlxuICAvLyBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy5cbiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMuXG4gIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zXG4gIGNvbnN0cnVjdG9yKG0xLCBtMiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBmcmljdGlvbjogMC4zLFxuICAgICAgcmVzdGl0dXRpb246IDAuMyxcbiAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU3LFxuICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMyxcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M6IDFlNyxcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOiAzXG4gICAgfSk7XG4gICAgdGhpcy5pZCA9IENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIrKztcbiAgICB0aGlzLm1hdGVyaWFscyA9IFttMSwgbTJdO1xuICAgIHRoaXMuZnJpY3Rpb24gPSBvcHRpb25zLmZyaWN0aW9uO1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSBvcHRpb25zLnJlc3RpdHV0aW9uO1xuICAgIHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uO1xuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcztcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjtcbiAgfVxuXG59XG5Db250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuLyoqXHJcbiAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLlxyXG4gKiBAY2xhc3MgTWF0ZXJpYWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIE1hdGVyaWFsIHtcbiAgLy8gTWF0ZXJpYWwgbmFtZS5cbiAgLy8gTWF0ZXJpYWwgaWQuXG4gIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC5cbiAgLy8gUmVzdGl0dXRpb24gZm9yIHRoaXMgbWF0ZXJpYWwuIElmIG5vbi1uZWdhdGl2ZSwgaXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHJlc3RpdHV0aW9uIGdpdmVuIGJ5IENvbnRhY3RNYXRlcmlhbHMuIElmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCB0aGUgdmFsdWUgZnJvbSAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCBpbiB0aGUgV29ybGQgd2lsbCBiZSB1c2VkLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXhcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pZCA9IE1hdGVyaWFsLmlkQ291bnRlcisrO1xuICAgIHRoaXMuZnJpY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5mcmljdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZyaWN0aW9uIDogLTE7XG4gICAgdGhpcy5yZXN0aXR1dGlvbiA9IHR5cGVvZiBvcHRpb25zLnJlc3RpdHV0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucmVzdGl0dXRpb24gOiAtMTtcbiAgfVxuXG59XG5NYXRlcmlhbC5pZENvdW50ZXIgPSAwO1xuXG4vKipcclxuICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy5cclxuICpcclxuICogQGNsYXNzIFNwcmluZ1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0OiAxXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGlmZm5lc3NdICAgIEEgbnVtYmVyID49IDAuIERlZmF1bHQ6IDEwMFxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQl1cclxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdXHJcbiAqL1xuY2xhc3MgU3ByaW5nIHtcbiAgLy8gUmVzdCBsZW5ndGggb2YgdGhlIHNwcmluZy5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuXG4gIC8vIERhbXBpbmcgb2YgdGhlIHNwcmluZy5cbiAgLy8gRmlyc3QgY29ubmVjdGVkIGJvZHkuXG4gIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS5cbiAgLy8gQW5jaG9yIGZvciBib2R5QSBpbiBsb2NhbCBib2R5QSBjb29yZGluYXRlcy5cbiAgLy8gQW5jaG9yIGZvciBib2R5QiBpbiBsb2NhbCBib2R5QiBjb29yZGluYXRlcy5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlc3RMZW5ndGggPSB0eXBlb2Ygb3B0aW9ucy5yZXN0TGVuZ3RoID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucmVzdExlbmd0aCA6IDE7XG4gICAgdGhpcy5zdGlmZm5lc3MgPSBvcHRpb25zLnN0aWZmbmVzcyB8fCAxMDA7XG4gICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7XG4gICAgdGhpcy5ib2R5QSA9IGJvZHlBO1xuICAgIHRoaXMuYm9keUIgPSBib2R5QjtcbiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5sb2NhbEFuY2hvckIgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7XG4gICAgICB0aGlzLmxvY2FsQW5jaG9yQS5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JBKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckIpIHtcbiAgICAgIHRoaXMubG9jYWxBbmNob3JCLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckIpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQSkge1xuICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikge1xuICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckIob3B0aW9ucy53b3JsZEFuY2hvckIpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JBXHJcbiAgICogQHBhcmFtIHtWZWMzfSB3b3JsZEFuY2hvckFcclxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHtcbiAgICB0aGlzLmJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQSwgdGhpcy5sb2NhbEFuY2hvckEpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBzZXRXb3JsZEFuY2hvckJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQlxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQikge1xuICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy5cclxuICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQVxyXG4gICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKi9cblxuXG4gIGdldFdvcmxkQW5jaG9yQShyZXN1bHQpIHtcbiAgICB0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCByZXN1bHQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXHJcbiAgICovXG5cblxuICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7XG4gICAgdGhpcy5ib2R5Qi5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQiwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBBcHBseSB0aGUgc3ByaW5nIGZvcmNlIHRvIHRoZSBjb25uZWN0ZWQgYm9kaWVzLlxyXG4gICAqIEBtZXRob2QgYXBwbHlGb3JjZVxyXG4gICAqL1xuXG5cbiAgYXBwbHlGb3JjZSgpIHtcbiAgICBjb25zdCBrID0gdGhpcy5zdGlmZm5lc3M7XG4gICAgY29uc3QgZCA9IHRoaXMuZGFtcGluZztcbiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoO1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjtcbiAgICBjb25zdCByX3VuaXQgPSBhcHBseUZvcmNlX3JfdW5pdDtcbiAgICBjb25zdCB1ID0gYXBwbHlGb3JjZV91O1xuICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7XG4gICAgY29uc3QgdG1wID0gYXBwbHlGb3JjZV90bXA7XG4gICAgY29uc3Qgd29ybGRBbmNob3JBID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckE7XG4gICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7XG4gICAgY29uc3QgcmkgPSBhcHBseUZvcmNlX3JpO1xuICAgIGNvbnN0IHJqID0gYXBwbHlGb3JjZV9yajtcbiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjtcbiAgICBjb25zdCByal94X2YgPSBhcHBseUZvcmNlX3JqX3hfZjsgLy8gR2V0IHdvcmxkIGFuY2hvcnNcblxuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7XG4gICAgdGhpcy5nZXRXb3JsZEFuY2hvckIod29ybGRBbmNob3JCKTsgLy8gR2V0IG9mZnNldCBwb2ludHNcblxuICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7XG4gICAgd29ybGRBbmNob3JCLnZzdWIoYm9keUIucG9zaXRpb24sIHJqKTsgLy8gQ29tcHV0ZSBkaXN0YW5jZSB2ZWN0b3IgYmV0d2VlbiB3b3JsZCBhbmNob3IgcG9pbnRzXG5cbiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpO1xuICAgIGNvbnN0IHJsZW4gPSByLmxlbmd0aCgpO1xuICAgIHJfdW5pdC5jb3B5KHIpO1xuICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdVxuXG4gICAgYm9keUIudmVsb2NpdHkudnN1Yihib2R5QS52ZWxvY2l0eSwgdSk7IC8vIEFkZCByb3RhdGlvbmFsIHZlbG9jaXR5XG5cbiAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmosIHRtcCk7XG4gICAgdS52YWRkKHRtcCwgdSk7XG4gICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApO1xuICAgIHUudnN1Yih0bXAsIHUpOyAvLyBGID0gLSBrICogKCB4IC0gTCApIC0gRCAqICggdSApXG5cbiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllc1xuXG4gICAgYm9keUEuZm9yY2UudnN1YihmLCBib2R5QS5mb3JjZSk7XG4gICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2VcblxuICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7XG4gICAgcmouY3Jvc3MoZiwgcmpfeF9mKTtcbiAgICBib2R5QS50b3JxdWUudnN1YihyaV94X2YsIGJvZHlBLnRvcnF1ZSk7XG4gICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpO1xuICB9XG5cbn1cbmNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3UgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JpX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBAY2xhc3MgV2hlZWxJbmZvXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5kaXJlY3Rpb25Mb2NhbF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5kaXJlY3Rpb25Xb3JsZF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhsZVdvcmxkXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlc3RMZW5ndGg9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJhZGl1cz0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblN0aWZmbmVzcz0xMDBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nUmVsYXhhdGlvbj0xMF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uU2xpcD0xMDAwMF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0ZWVyaW5nPTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGVsdGFSb3RhdGlvbj0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm9sbEluZmx1ZW5jZT0wLjAxXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbD10cnVlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkZvcmNlPTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lkSW5mbz0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkxlbmd0aD0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbD0xXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ9ZmFsc2VdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPS0wLjFdXHJcbiAqL1xuY2xhc3MgV2hlZWxJbmZvIHtcbiAgLy8gTWF4IHRyYXZlbCBkaXN0YW5jZSBvZiB0aGUgc3VzcGVuc2lvbiwgaW4gbWV0ZXJzLlxuICAvLyBTcGVlZCB0byBhcHBseSB0byB0aGUgd2hlZWwgcm90YXRpb24gd2hlbiB0aGUgd2hlZWwgaXMgc2xpZGluZy5cbiAgLy8gSWYgdGhlIGN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgc2hvdWxkIGJlIHVzZWQuXG4gIC8vIENvbm5lY3Rpb24gcG9pbnQsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5IGZyYW1lLlxuICAvLyBSb3RhdGlvbiB2YWx1ZSwgaW4gcmFkaWFucy5cbiAgLy8gVGhlIHJlc3VsdCBmcm9tIHJheWNhc3RpbmcuXG4gIC8vIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSxcbiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDogbmV3IFZlYzMoKSxcbiAgICAgIGRpcmVjdGlvbkxvY2FsOiBuZXcgVmVjMygpLFxuICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBheGxlTG9jYWw6IG5ldyBWZWMzKCksXG4gICAgICBheGxlV29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSxcbiAgICAgIHN1c3BlbnNpb25NYXhMZW5ndGg6IDIsXG4gICAgICByYWRpdXM6IDEsXG4gICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsXG4gICAgICBkYW1waW5nQ29tcHJlc3Npb246IDEwLFxuICAgICAgZGFtcGluZ1JlbGF4YXRpb246IDEwLFxuICAgICAgZnJpY3Rpb25TbGlwOiAxMDAwMCxcbiAgICAgIHN0ZWVyaW5nOiAwLFxuICAgICAgcm90YXRpb246IDAsXG4gICAgICBkZWx0YVJvdGF0aW9uOiAwLFxuICAgICAgcm9sbEluZmx1ZW5jZTogMC4wMSxcbiAgICAgIG1heFN1c3BlbnNpb25Gb3JjZTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSxcbiAgICAgIGNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbjogMSxcbiAgICAgIHN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5OiAwLFxuICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLFxuICAgICAgc2xpcEluZm86IDAsXG4gICAgICBza2lkSW5mbzogMCxcbiAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsXG4gICAgICBtYXhTdXNwZW5zaW9uVHJhdmVsOiAxLFxuICAgICAgdXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDogZmFsc2UsXG4gICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xXG4gICAgfSk7XG4gICAgdGhpcy5tYXhTdXNwZW5zaW9uVHJhdmVsID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uVHJhdmVsO1xuICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDtcbiAgICB0aGlzLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQuY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbkxvY2FsID0gb3B0aW9ucy5kaXJlY3Rpb25Mb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5heGxlTG9jYWwgPSBvcHRpb25zLmF4bGVMb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuYXhsZVdvcmxkID0gb3B0aW9ucy5heGxlV29ybGQuY2xvbmUoKTtcbiAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICB0aGlzLnN1c3BlbnNpb25NYXhMZW5ndGggPSBvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg7XG4gICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cztcbiAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5kYW1waW5nQ29tcHJlc3Npb24gPSBvcHRpb25zLmRhbXBpbmdDb21wcmVzc2lvbjtcbiAgICB0aGlzLmRhbXBpbmdSZWxheGF0aW9uID0gb3B0aW9ucy5kYW1waW5nUmVsYXhhdGlvbjtcbiAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwO1xuICAgIHRoaXMuc3RlZXJpbmcgPSAwO1xuICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgIHRoaXMuZGVsdGFSb3RhdGlvbiA9IDA7XG4gICAgdGhpcy5yb2xsSW5mbHVlbmNlID0gb3B0aW9ucy5yb2xsSW5mbHVlbmNlO1xuICAgIHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uRm9yY2U7XG4gICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgdGhpcy5icmFrZSA9IDA7XG4gICAgdGhpcy5pc0Zyb250V2hlZWwgPSBvcHRpb25zLmlzRnJvbnRXaGVlbDtcbiAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDE7XG4gICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5zdXNwZW5zaW9uRm9yY2UgPSAwO1xuICAgIHRoaXMuc2xpcEluZm8gPSAwO1xuICAgIHRoaXMuc2tpZEluZm8gPSAwO1xuICAgIHRoaXMuc3VzcGVuc2lvbkxlbmd0aCA9IDA7XG4gICAgdGhpcy5zaWRlSW1wdWxzZSA9IDA7XG4gICAgdGhpcy5mb3J3YXJkSW1wdWxzZSA9IDA7XG4gICAgdGhpcy5yYXljYXN0UmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHRoaXMuaXNJbkNvbnRhY3QgPSBmYWxzZTtcbiAgfVxuXG4gIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHtcbiAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gdGhpcy5yYXljYXN0UmVzdWx0O1xuXG4gICAgaWYgKHRoaXMuaXNJbkNvbnRhY3QpIHtcbiAgICAgIGNvbnN0IHByb2plY3QgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChyYXljYXN0UmVzdWx0LmRpcmVjdGlvbldvcmxkKTtcbiAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgICBjaGFzc2lzLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHJlbHBvcywgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuICAgICAgY29uc3QgcHJvalZlbCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcblxuICAgICAgaWYgKHByb2plY3QgPj0gLTAuMSkge1xuICAgICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wO1xuICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMCAvIDAuMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGludiA9IC0xIC8gcHJvamVjdDtcbiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7XG4gICAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gaW52O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3QgaW4gY29udGFjdCA6IHBvc2l0aW9uIHdoZWVsIGluIGEgbmljZSAocmVzdCBsZW5ndGgpIHBvc2l0aW9uXG4gICAgICByYXljYXN0UmVzdWx0LnN1c3BlbnNpb25MZW5ndGggPSB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgIHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7XG4gICAgfVxuICB9XG5cbn1cbmNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuXHJcbiAqIEBjbGFzcyBSYXljYXN0VmVoaWNsZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XSBUaGUgY2FyIGNoYXNzaXMgYm9keS5cclxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFJpZ2h0QXhpc10gQXhpcyB0byB1c2UgZm9yIHJpZ2h0LiB4PTAsIHk9MSwgej0yXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhMZWZ0QXhpc11cclxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFVwQXhpc11cclxuICovXG5jbGFzcyBSYXljYXN0VmVoaWNsZSB7XG4gIC8vIFdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhlIGNhciBpcyBzbGlkaW5nLlxuICAvLyBJbmRleCBvZiB0aGUgcmlnaHQgYXhpcywgMD14LCAxPXksIDI9elxuICAvLyBJbmRleCBvZiB0aGUgZm9yd2FyZCBheGlzLCAwPXgsIDE9eSwgMj16XG4gIC8vIEluZGV4IG9mIHRoZSB1cCBheGlzLCAwPXgsIDE9eSwgMj16XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNoYXNzaXNCb2R5ID0gb3B0aW9ucy5jaGFzc2lzQm9keTtcbiAgICB0aGlzLndoZWVsSW5mb3MgPSBbXTtcbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLmluZGV4UmlnaHRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFJpZ2h0QXhpcyA6IDE7XG4gICAgdGhpcy5pbmRleEZvcndhcmRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhGb3J3YXJkQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgOiAwO1xuICAgIHRoaXMuaW5kZXhVcEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFVwQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4VXBBeGlzIDogMjtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG5cbiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHt9O1xuXG4gICAgdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSB3aGVlbC4gRm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcHRpb25zLCBzZWUgV2hlZWxJbmZvLlxyXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcclxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXG5cblxuICBhZGRXaGVlbChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBpbmZvID0gbmV3IFdoZWVsSW5mbyhvcHRpb25zKTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgdGhpcy53aGVlbEluZm9zLnB1c2goaW5mbyk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC5cclxuICAgKiBAbWV0aG9kIHNldFN0ZWVyaW5nVmFsdWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIHNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTtcbiAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgd2hlZWwgZm9yY2UgdG8gYXBwbHkgb24gb25lIG9mIHRoZSB3aGVlbHMgZWFjaCB0aW1lIHN0ZXBcclxuICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2VcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5lbmdpbmVGb3JjZSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgYnJha2luZyBmb3JjZSBvZiBhIHdoZWVsXHJcbiAgICogQG1ldGhvZCBzZXRCcmFrZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBicmFrZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpIHtcbiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyB0byB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCBhZGRUb1dvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIGFkZFRvV29ybGQod29ybGQpIHtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhhdC51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTtcbiAgICB9O1xuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IG9uZSBvZiB0aGUgd2hlZWwgYXhsZXMsIHdvcmxkLW9yaWVudGVkLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gYXhpc0luZGV4XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICovXG5cblxuICBnZXRWZWhpY2xlQXhpc1dvcmxkKGF4aXNJbmRleCwgcmVzdWx0KSB7XG4gICAgcmVzdWx0LnNldChheGlzSW5kZXggPT09IDAgPyAxIDogMCwgYXhpc0luZGV4ID09PSAxID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMiA/IDEgOiAwKTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZXN1bHQsIHJlc3VsdCk7XG4gIH1cblxuICB1cGRhdGVWZWhpY2xlKHRpbWVTdGVwKSB7XG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDMuNiAqIGNoYXNzaXNCb2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xuICAgIGNvbnN0IGZvcndhcmRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZm9yd2FyZFdvcmxkKTtcblxuICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHtcbiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciAqPSAtMTtcbiAgICB9IC8vIHNpbXVsYXRlIHN1c3BlbnNpb25cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgdGhpcy5jYXN0UmF5KHdoZWVsSW5mb3NbaV0pO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7XG4gICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZVxuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgbGV0IHN1c3BlbnNpb25Gb3JjZSA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZTtcblxuICAgICAgaWYgKHN1c3BlbnNpb25Gb3JjZSA+IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZSkge1xuICAgICAgICBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2U7XG4gICAgICB9XG5cbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUoc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAsIGltcHVsc2UpO1xuICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKTtcbiAgICBjb25zdCBoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHZlbCA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07IC8vY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcbiAgICAgIC8vd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG5cbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvblxuXG4gICAgICBsZXQgbSA9IDE7XG5cbiAgICAgIHN3aXRjaCAodGhpcy5pbmRleFVwQXhpcykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbSA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZndkKTtcbiAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUocHJvaiwgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaik7XG4gICAgICAgIGZ3ZC52c3ViKGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2osIGZ3ZCk7XG4gICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpO1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gbSAqIHByb2oyICogdGltZVN0ZXAgLyB3aGVlbC5yYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIGlmICgod2hlZWwuc2xpZGluZyB8fCAhd2hlZWwuaXNJbkNvbnRhY3QpICYmIHdoZWVsLmVuZ2luZUZvcmNlICE9PSAwICYmIHdoZWVsLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQpIHtcbiAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nXG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAod2hlZWwuZW5naW5lRm9yY2UgPiAwID8gMSA6IC0xKSAqIHdoZWVsLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgKiB0aW1lU3RlcDtcbiAgICAgIH0gLy8gTG9jayB3aGVlbHNcblxuXG4gICAgICBpZiAoTWF0aC5hYnMod2hlZWwuYnJha2UpID4gTWF0aC5hYnMod2hlZWwuZW5naW5lRm9yY2UpKSB7XG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZVxuXG4gICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uICo9IDAuOTk7IC8vIGRhbXBpbmcgb2Ygcm90YXRpb24gd2hlbiBub3QgaW4gY29udGFjdFxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN1c3BlbnNpb24oZGVsdGFUaW1lKSB7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuICAgIGNvbnN0IGNoYXNzaXNNYXNzID0gY2hhc3Npc0JvZHkubWFzcztcbiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zO1xuICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW3dfaXRdO1xuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgbGV0IGZvcmNlOyAvLyBTcHJpbmdcblxuICAgICAgICBjb25zdCBzdXNwX2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlbmd0aF9kaWZmID0gc3VzcF9sZW5ndGggLSBjdXJyZW50X2xlbmd0aDtcbiAgICAgICAgZm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uU3RpZmZuZXNzICogbGVuZ3RoX2RpZmYgKiB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb247IC8vIERhbXBlclxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZF9yZWxfdmVsID0gd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk7XG4gICAgICAgIGxldCBzdXNwX2RhbXBpbmc7XG5cbiAgICAgICAgaWYgKHByb2plY3RlZF9yZWxfdmVsIDwgMCkge1xuICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdDb21wcmVzc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nUmVsYXhhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcmNlIC09IHN1c3BfZGFtcGluZyAqIHByb2plY3RlZF9yZWxfdmVsO1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSBmb3JjZSAqIGNoYXNzaXNNYXNzO1xuXG4gICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPCAwKSB7XG4gICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCByZW1vdmVGcm9tV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIHdvcmxkLnJlbW92ZUJvZHkodGhpcy5jaGFzc2lzQm9keSk7XG4gICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgfVxuXG4gIGNhc3RSYXkod2hlZWwpIHtcbiAgICBjb25zdCByYXl2ZWN0b3IgPSBjYXN0UmF5X3JheXZlY3RvcjtcbiAgICBjb25zdCB0YXJnZXQgPSBjYXN0UmF5X3RhcmdldDtcbiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBsZXQgZGVwdGggPSAtMTtcbiAgICBjb25zdCByYXlsZW4gPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLnJhZGl1cztcbiAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZShyYXlsZW4sIHJheXZlY3Rvcik7XG4gICAgY29uc3Qgc291cmNlID0gd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkO1xuICAgIHNvdXJjZS52YWRkKHJheXZlY3RvciwgdGFyZ2V0KTtcbiAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdDtcbiAgICByYXljYXN0UmVzdWx0LnJlc2V0KCk7IC8vIFR1cm4gb2ZmIHJheSBjb2xsaXNpb24gd2l0aCB0aGUgY2hhc3NpcyB0ZW1wb3JhcmlseVxuXG4gICAgY29uc3Qgb2xkU3RhdGUgPSBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IGZhbHNlOyAvLyBDYXN0IHJheSBhZ2FpbnN0IHdvcmxkXG5cbiAgICB0aGlzLndvcmxkLnJheVRlc3Qoc291cmNlLCB0YXJnZXQsIHJheWNhc3RSZXN1bHQpO1xuICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7XG4gICAgY29uc3Qgb2JqZWN0ID0gcmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuZ3JvdW5kT2JqZWN0ID0gMDtcblxuICAgIGlmIChvYmplY3QpIHtcbiAgICAgIGRlcHRoID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgd2hlZWwuaXNJbkNvbnRhY3QgPSB0cnVlO1xuICAgICAgY29uc3QgaGl0RGlzdGFuY2UgPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlO1xuICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IGhpdERpc3RhbmNlIC0gd2hlZWwucmFkaXVzOyAvLyBjbGFtcCBvbiBtYXggc3VzcGVuc2lvbiB0cmF2ZWxcblxuICAgICAgY29uc3QgbWluU3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoIC0gd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICAgIGNvbnN0IG1heFN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG5cbiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoIDwgbWluU3VzcGVuc2lvbkxlbmd0aCkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPiBtYXhTdXNwZW5zaW9uTGVuZ3RoKSB7XG4gICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBtYXhTdXNwZW5zaW9uTGVuZ3RoO1xuICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LnJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3Qod2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgICAgY29uc3QgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQgPSBuZXcgVmVjMygpO1xuICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7XG4gICAgICBjb25zdCBwcm9qVmVsID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuXG4gICAgICBpZiAoZGVub21pbmF0b3IgPj0gLTAuMSkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDA7XG4gICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnYgPSAtMSAvIGRlbm9taW5hdG9yO1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7XG4gICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9wdXQgd2hlZWwgaW5mbyBhcyBpbiByZXN0IHBvc2l0aW9uXG4gICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyAwICogd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wO1xuICAgICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wO1xuICAgIH1cblxuICAgIHJldHVybiBkZXB0aDtcbiAgfVxuXG4gIHVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpIHtcbiAgICB3aGVlbC5pc0luQ29udGFjdCA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjaGFzc2lzQm9keS5wb2ludFRvV29ybGRGcmFtZSh3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwsIHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCk7XG4gICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmRpcmVjdGlvbkxvY2FsLCB3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgb25lIG9mIHRoZSB3aGVlbCB0cmFuc2Zvcm0uXHJcbiAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVXaGVlbFRyYW5zZm9ybVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleCBUaGUgd2hlZWwgaW5kZXggdG8gdXBkYXRlLlxyXG4gICAqL1xuXG5cbiAgdXBkYXRlV2hlZWxUcmFuc2Zvcm0od2hlZWxJbmRleCkge1xuICAgIGNvbnN0IHVwID0gdG1wVmVjNDtcbiAgICBjb25zdCByaWdodCA9IHRtcFZlYzU7XG4gICAgY29uc3QgZndkID0gdG1wVmVjNjtcbiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTtcbiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpO1xuICAgIHdoZWVsLmRpcmVjdGlvbkxvY2FsLnNjYWxlKC0xLCB1cCk7XG4gICAgcmlnaHQuY29weSh3aGVlbC5heGxlTG9jYWwpO1xuICAgIHVwLmNyb3NzKHJpZ2h0LCBmd2QpO1xuICAgIGZ3ZC5ub3JtYWxpemUoKTtcbiAgICByaWdodC5ub3JtYWxpemUoKTsgLy8gUm90YXRlIGFyb3VuZCBzdGVlcmluZyBvdmVyIHRoZSB3aGVlbEF4bGVcblxuICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7XG4gICAgY29uc3Qgc3RlZXJpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHN0ZWVyaW5nT3JuLnNldEZyb21BeGlzQW5nbGUodXAsIHN0ZWVyaW5nKTtcbiAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgcm90YXRpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZShyaWdodCwgd2hlZWwucm90YXRpb24pOyAvLyBXb3JsZCByb3RhdGlvbiBvZiB0aGUgd2hlZWxcblxuICAgIGNvbnN0IHEgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5xdWF0ZXJuaW9uO1xuICAgIHRoaXMuY2hhc3Npc0JvZHkucXVhdGVybmlvbi5tdWx0KHN0ZWVyaW5nT3JuLCBxKTtcbiAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpO1xuICAgIHEubm9ybWFsaXplKCk7IC8vIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSB3aGVlbFxuXG4gICAgY29uc3QgcCA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIHAuY29weSh3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgcC5zY2FsZSh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoLCBwKTtcbiAgICBwLnZhZGQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCBwKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHdvcmxkIHRyYW5zZm9ybSBvZiBvbmUgb2YgdGhlIHdoZWVsc1xyXG4gICAqIEBtZXRob2QgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKiBAcmV0dXJuIHtUcmFuc2Zvcm19XHJcbiAgICovXG5cblxuICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLndvcmxkVHJhbnNmb3JtO1xuICB9XG5cbiAgdXBkYXRlRnJpY3Rpb24odGltZVN0ZXApIHtcbiAgICBjb25zdCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2o7IC8vY2FsY3VsYXRlIHRoZSBpbXB1bHNlLCBzbyB0aGF0IHRoZSB3aGVlbHMgZG9uJ3QgbW92ZSBzaWRld2FyZHNcblxuICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7XG4gICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUztcbiAgICBjb25zdCBheGxlID0gdXBkYXRlRnJpY3Rpb25fYXhsZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcblxuICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSAwO1xuICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwO1xuXG4gICAgICBpZiAoIWZvcndhcmRXU1tpXSkge1xuICAgICAgICBmb3J3YXJkV1NbaV0gPSBuZXcgVmVjMygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWF4bGVbaV0pIHtcbiAgICAgICAgYXhsZVtpXSA9IG5ldyBWZWMzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuXG4gICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGF4bGVpID0gYXhsZVtpXTtcbiAgICAgICAgY29uc3Qgd2hlZWxUcmFucyA9IHRoaXMuZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZChpKTsgLy8gR2V0IHdvcmxkIGF4bGVcblxuICAgICAgICB3aGVlbFRyYW5zLnZlY3RvclRvV29ybGRGcmFtZShkaXJlY3Rpb25zW3RoaXMuaW5kZXhSaWdodEF4aXNdLCBheGxlaSk7XG4gICAgICAgIGNvbnN0IHN1cmZOb3JtYWxXUyA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7XG4gICAgICAgIGNvbnN0IHByb2ogPSBheGxlaS5kb3Qoc3VyZk5vcm1hbFdTKTtcbiAgICAgICAgc3VyZk5vcm1hbFdTLnNjYWxlKHByb2osIHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaik7XG4gICAgICAgIGF4bGVpLnZzdWIoc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qLCBheGxlaSk7XG4gICAgICAgIGF4bGVpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBzdXJmTm9ybWFsV1MuY3Jvc3MoYXhsZWksIGZvcndhcmRXU1tpXSk7XG4gICAgICAgIGZvcndhcmRXU1tpXS5ub3JtYWxpemUoKTtcbiAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGNoYXNzaXNCb2R5LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBheGxlaSk7XG4gICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlICo9IHNpZGVGcmljdGlvblN0aWZmbmVzczI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZUZhY3RvciA9IDE7XG4gICAgY29uc3QgZndkRmFjdG9yID0gMC41O1xuICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgICAgbGV0IHJvbGxpbmdGcmljdGlvbiA9IDA7XG4gICAgICB3aGVlbC5zbGlwSW5mbyA9IDE7XG5cbiAgICAgIGlmIChncm91bmRPYmplY3QpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UgPSAwO1xuICAgICAgICBjb25zdCBtYXhJbXB1bHNlID0gd2hlZWwuYnJha2UgPyB3aGVlbC5icmFrZSA6IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlOyAvLyBidFdoZWVsQ29udGFjdFBvaW50IGNvbnRhY3RQdChjaGFzc2lzQm9keSxncm91bmRPYmplY3Qsd2hlZWxJbmZyYXljYXN0SW5mby5oaXRQb2ludFdvcmxkLGZvcndhcmRXU1t3aGVlbF0sbWF4SW1wdWxzZSk7XG4gICAgICAgIC8vIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY29udGFjdFB0KTtcblxuICAgICAgICByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNoYXNzaXNCb2R5LCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZm9yd2FyZFdTW2ldLCBtYXhJbXB1bHNlKTtcbiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uICs9IHdoZWVsLmVuZ2luZUZvcmNlICogdGltZVN0ZXA7IC8vIHJvbGxpbmdGcmljdGlvbiA9IDA7XG5cbiAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4SW1wdWxzZSAvIHJvbGxpbmdGcmljdGlvbjtcbiAgICAgICAgd2hlZWwuc2xpcEluZm8gKj0gZmFjdG9yO1xuICAgICAgfSAvL3N3aXRjaCBiZXR3ZWVuIGFjdGl2ZSByb2xsaW5nICh0aHJvdHRsZSksIGJyYWtpbmcgYW5kIG5vbi1hY3RpdmUgcm9sbGluZyBmcmljdGlvbiAobnRocm90dGxlL2JyZWFrKVxuXG5cbiAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gMDtcbiAgICAgIHdoZWVsLnNraWRJbmZvID0gMTtcblxuICAgICAgaWYgKGdyb3VuZE9iamVjdCkge1xuICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7XG4gICAgICAgIGNvbnN0IG1heGltcCA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwICogd2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICBjb25zdCBtYXhpbXBTaWRlID0gbWF4aW1wO1xuICAgICAgICBjb25zdCBtYXhpbXBTcXVhcmVkID0gbWF4aW1wICogbWF4aW1wU2lkZTtcbiAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSByb2xsaW5nRnJpY3Rpb247IC8vd2hlZWxJbmZvLmVuZ2luZUZvcmNlKiB0aW1lU3RlcDtcblxuICAgICAgICBjb25zdCB4ID0gd2hlZWwuZm9yd2FyZEltcHVsc2UgKiBmd2RGYWN0b3I7XG4gICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3I7XG4gICAgICAgIGNvbnN0IGltcHVsc2VTcXVhcmVkID0geCAqIHggKyB5ICogeTtcbiAgICAgICAgd2hlZWwuc2xpZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpbXB1bHNlU3F1YXJlZCA+IG1heGltcFNxdWFyZWQpIHtcbiAgICAgICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlO1xuICAgICAgICAgIHdoZWVsLnNsaWRpbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IG1heGltcCAvIE1hdGguc3FydChpbXB1bHNlU3F1YXJlZCk7XG4gICAgICAgICAgd2hlZWwuc2tpZEluZm8gKj0gZmFjdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG5cbiAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7XG4gICAgICAgICAgaWYgKHdoZWVsLnNraWRJbmZvIDwgMSkge1xuICAgICAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87XG4gICAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGFwcGx5IHRoZSBpbXB1bHNlc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCByZWxfcG9zID0gbmV3IFZlYzMoKTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxfcG9zKTsgLy8gY2Fubm9ucyBhcHBseWltcHVsc2UgaXMgdXNpbmcgd29ybGQgY29vcmQgZm9yIHRoZSBwb3NpdGlvblxuICAgICAgLy9yZWxfcG9zLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTtcblxuICAgICAgaWYgKHdoZWVsLmZvcndhcmRJbXB1bHNlICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpO1xuICAgICAgICBmb3J3YXJkV1NbaV0uc2NhbGUod2hlZWwuZm9yd2FyZEltcHVsc2UsIGltcHVsc2UpO1xuICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsX3Bvcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG4gICAgICAgIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTtcbiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoZ3JvdW5kT2JqZWN0LnBvc2l0aW9uLCByZWxfcG9zMik7IC8vcmVsX3BvczIuY29weSh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQpO1xuXG4gICAgICAgIGNvbnN0IHNpZGVJbXAgPSBuZXcgVmVjMygpO1xuICAgICAgICBheGxlW2ldLnNjYWxlKHdoZWVsLnNpZGVJbXB1bHNlLCBzaWRlSW1wKTsgLy8gU2NhbGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZSB1cCBkaXJlY3Rpb24gd2l0aCByb2xsSW5mbHVlbmNlLlxuICAgICAgICAvLyBJZiByb2xsSW5mbHVlbmNlIGlzIDEsIHRoZSBpbXB1bHNlIHdpbGwgYmUgYXBwbGllZCBvbiB0aGUgaGl0UG9pbnQgKGVhc3kgdG8gcm9sbCBvdmVyKSwgaWYgaXQgaXMgemVybyBpdCB3aWxsIGJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgcGxhbmUgYXMgdGhlIGNlbnRlciBvZiBtYXNzIChub3QgZWFzeSB0byByb2xsIG92ZXIpLlxuXG4gICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvTG9jYWxGcmFtZShyZWxfcG9zLCByZWxfcG9zKTtcbiAgICAgICAgcmVsX3Bvc1sneHl6J1t0aGlzLmluZGV4VXBBeGlzXV0gKj0gd2hlZWwucm9sbEluZmx1ZW5jZTtcbiAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpO1xuICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3Bvcyk7IC8vYXBwbHkgZnJpY3Rpb24gaW1wdWxzZSBvbiB0aGUgZ3JvdW5kXG5cbiAgICAgICAgc2lkZUltcC5zY2FsZSgtMSwgc2lkZUltcCk7XG4gICAgICAgIGdyb3VuZE9iamVjdC5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3BvczIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5jb25zdCB0bXBWZWM0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzUgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjNiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBSYXkgPSBuZXcgUmF5KCk7XG5jb25zdCBjYXN0UmF5X3JheXZlY3RvciA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYXN0UmF5X3RhcmdldCA9IG5ldyBWZWMzKCk7XG5jb25zdCBkaXJlY3Rpb25zID0gW25ldyBWZWMzKDEsIDAsIDApLCBuZXcgVmVjMygwLCAxLCAwKSwgbmV3IFZlYzMoMCwgMCwgMSldO1xuY29uc3QgdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gbmV3IFZlYzMoKTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX2F4bGUgPSBbXTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUyA9IFtdO1xuY29uc3Qgc2lkZUZyaWN0aW9uU3RpZmZuZXNzMiA9IDE7XG5jb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDEgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsID0gbmV3IFZlYzMoKTtcblxuZnVuY3Rpb24gY2FsY1JvbGxpbmdGcmljdGlvbihib2R5MCwgYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQsIG1heEltcHVsc2UpIHtcbiAgbGV0IGoxID0gMDtcbiAgY29uc3QgY29udGFjdFBvc1dvcmxkID0gZnJpY3Rpb25Qb3NXb3JsZDsgLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpO1xuICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG5cbiAgY29uc3QgdmVsMSA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMTtcbiAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjtcbiAgY29uc3QgdmVsID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWw7IC8vIGNvbnRhY3RQb3NXb3JsZC52c3ViKGJvZHkwLnBvc2l0aW9uLCByZWxfcG9zMSk7XG4gIC8vIGNvbnRhY3RQb3NXb3JsZC52c3ViKGJvZHkxLnBvc2l0aW9uLCByZWxfcG9zMik7XG5cbiAgYm9keTAuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwxKTtcbiAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwyKTtcbiAgdmVsMS52c3ViKHZlbDIsIHZlbCk7XG4gIGNvbnN0IHZyZWwgPSBmcmljdGlvbkRpcmVjdGlvbldvcmxkLmRvdCh2ZWwpO1xuICBjb25zdCBkZW5vbTAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHkwLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkKTtcbiAgY29uc3QgZGVub20xID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7XG4gIGNvbnN0IHJlbGF4YXRpb24gPSAxO1xuICBjb25zdCBqYWNEaWFnQUJJbnYgPSByZWxheGF0aW9uIC8gKGRlbm9tMCArIGRlbm9tMSk7IC8vIGNhbGN1bGF0ZSBqIHRoYXQgbW92ZXMgdXMgdG8gemVybyByZWxhdGl2ZSB2ZWxvY2l0eVxuXG4gIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7XG5cbiAgaWYgKG1heEltcHVsc2UgPCBqMSkge1xuICAgIGoxID0gbWF4SW1wdWxzZTtcbiAgfVxuXG4gIGlmIChqMSA8IC1tYXhJbXB1bHNlKSB7XG4gICAgajEgPSAtbWF4SW1wdWxzZTtcbiAgfVxuXG4gIHJldHVybiBqMTtcbn1cblxuY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbSA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keSwgcG9zLCBub3JtYWwpIHtcbiAgY29uc3QgcjAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwO1xuICBjb25zdCBjMCA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfYzA7XG4gIGNvbnN0IHZlYyA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjO1xuICBjb25zdCBtID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tO1xuICBwb3MudnN1Yihib2R5LnBvc2l0aW9uLCByMCk7XG4gIHIwLmNyb3NzKG5vcm1hbCwgYzApO1xuICBib2R5LmludkluZXJ0aWFXb3JsZC52bXVsdChjMCwgbSk7XG4gIG0uY3Jvc3MocjAsIHZlYyk7XG4gIHJldHVybiBib2R5Lmludk1hc3MgKyBub3JtYWwuZG90KHZlYyk7XG59XG5cbmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7XG5jb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDIgPSBuZXcgVmVjMygpO1xuY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwgPSBuZXcgVmVjMygpOyAvL2JpbGF0ZXJhbCBjb25zdHJhaW50IGJldHdlZW4gdHdvIGR5bmFtaWMgb2JqZWN0c1xuXG5mdW5jdGlvbiByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGJvZHkxLCBwb3MxLCBib2R5MiwgcG9zMiwgbm9ybWFsKSB7XG4gIGNvbnN0IG5vcm1hbExlblNxciA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgaWYgKG5vcm1hbExlblNxciA+IDEuMSkge1xuICAgIHJldHVybiAwOyAvLyBubyBpbXB1bHNlXG4gIH0gLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpO1xuICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG4gIC8vIHBvczEudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczEpO1xuICAvLyBwb3MyLnZzdWIoYm9keTIucG9zaXRpb24sIHJlbF9wb3MyKTtcblxuXG4gIGNvbnN0IHZlbDEgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDE7XG4gIGNvbnN0IHZlbDIgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDI7XG4gIGNvbnN0IHZlbCA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsO1xuICBib2R5MS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MxLCB2ZWwxKTtcbiAgYm9keTIuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMiwgdmVsMik7XG4gIHZlbDEudnN1Yih2ZWwyLCB2ZWwpO1xuICBjb25zdCByZWxfdmVsID0gbm9ybWFsLmRvdCh2ZWwpO1xuICBjb25zdCBjb250YWN0RGFtcGluZyA9IDAuMjtcbiAgY29uc3QgbWFzc1Rlcm0gPSAxIC8gKGJvZHkxLmludk1hc3MgKyBib2R5Mi5pbnZNYXNzKTtcbiAgY29uc3QgaW1wdWxzZSA9IC1jb250YWN0RGFtcGluZyAqIHJlbF92ZWwgKiBtYXNzVGVybTtcbiAgcmV0dXJuIGltcHVsc2U7XG59XG5cbi8qKlxyXG4gKiBTcGhlcmljYWwgc2hhcGVcclxuICogQGNsYXNzIFNwaGVyZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU3BoZXJlIGV4dGVuZHMgU2hhcGUge1xuICBjb25zdHJ1Y3RvcihyYWRpdXMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5TUEhFUkVcbiAgICB9KTtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wO1xuXG4gICAgaWYgKHRoaXMucmFkaXVzIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3BoZXJlIHJhZGl1cyBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBJID0gMi4wICogbWFzcyAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXMgLyA1LjA7XG4gICAgdGFyZ2V0LnggPSBJO1xuICAgIHRhcmdldC55ID0gSTtcbiAgICB0YXJnZXQueiA9IEk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIE1hdGgucG93KHRoaXMucmFkaXVzLCAzKSAvIDMuMDtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLnJhZGl1cztcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgciA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IGF4ZXMgPSBbJ3gnLCAneScsICd6J107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGF4ID0gYXhlc1tpXTtcbiAgICAgIG1pbltheF0gPSBwb3NbYXhdIC0gcjtcbiAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjtcbiAgICB9XG4gIH1cblxufVxuXG4vKipcclxuICogU2ltcGxlIHZlaGljbGUgaGVscGVyIGNsYXNzIHdpdGggc3BoZXJpY2FsIHJpZ2lkIGJvZHkgd2hlZWxzLlxyXG4gKiBAY2xhc3MgUmlnaWRWZWhpY2xlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XVxyXG4gKi9cbmNsYXNzIFJpZ2lkVmVoaWNsZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMud2hlZWxCb2RpZXMgPSBbXTtcbiAgICB0aGlzLmNvb3JkaW5hdGVTeXN0ZW0gPSB0eXBlb2Ygb3B0aW9ucy5jb29yZGluYXRlU3lzdGVtICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY29vcmRpbmF0ZVN5c3RlbS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMiwgMyk7XG5cbiAgICBpZiAob3B0aW9ucy5jaGFzc2lzQm9keSkge1xuICAgICAgdGhpcy5jaGFzc2lzQm9keSA9IG9wdGlvbnMuY2hhc3Npc0JvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNoYXNzaXMgYm9keSBnaXZlbi4gQ3JlYXRlIGl0IVxuICAgICAgdGhpcy5jaGFzc2lzQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgbWFzczogMSxcbiAgICAgICAgc2hhcGU6IG5ldyBCb3gobmV3IFZlYzMoNSwgMiwgMC41KSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTtcbiAgICB0aGlzLndoZWVsQXhlcyA9IFtdO1xuICAgIHRoaXMud2hlZWxGb3JjZXMgPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSB3aGVlbFxyXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNGcm9udFdoZWVsXVxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dIFBvc2l0aW9uIG9mIHRoZSB3aGVlbCwgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5LlxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uXSBTbGlkZSBkaXJlY3Rpb24gb2YgdGhlIHdoZWVsIGFsb25nIHRoZSBzdXNwZW5zaW9uLlxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc10gQXhpcyBvZiByb3RhdGlvbiBvZiB0aGUgd2hlZWwsIGxvY2FsbHkgZGVmaW5lZCBpbiB0aGUgY2hhc3Npcy5cclxuICAgKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmJvZHldIFRoZSB3aGVlbCBib2R5LlxyXG4gICAqL1xuXG5cbiAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHdoZWVsQm9keTtcblxuICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgIHdoZWVsQm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gd2hlZWwgYm9keSBnaXZlbi4gQ3JlYXRlIGl0IVxuICAgICAgd2hlZWxCb2R5ID0gbmV3IEJvZHkoe1xuICAgICAgICBtYXNzOiAxLFxuICAgICAgICBzaGFwZTogbmV3IFNwaGVyZSgxLjIpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLndoZWVsQm9kaWVzLnB1c2god2hlZWxCb2R5KTtcbiAgICB0aGlzLndoZWVsRm9yY2VzLnB1c2goMCk7IC8vIFBvc2l0aW9uIGNvbnN0cmFpbiB3aGVlbHNcbiAgICBjb25zdCBwb3NpdGlvbiA9IHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucG9zaXRpb24uY2xvbmUoKSA6IG5ldyBWZWMzKCk7IC8vIFNldCBwb3NpdGlvbiBsb2NhbGx5IHRvIHRoZSBjaGFzc2lzXG5cbiAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCB3b3JsZFBvc2l0aW9uKTtcbiAgICB3aGVlbEJvZHkucG9zaXRpb24uc2V0KHdvcmxkUG9zaXRpb24ueCwgd29ybGRQb3NpdGlvbi55LCB3b3JsZFBvc2l0aW9uLnopOyAvLyBDb25zdHJhaW4gd2hlZWxcblxuICAgIGNvbnN0IGF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5heGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYXhpcy5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7XG4gICAgdGhpcy53aGVlbEF4ZXMucHVzaChheGlzKTtcbiAgICBjb25zdCBoaW5nZUNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KHRoaXMuY2hhc3Npc0JvZHksIHdoZWVsQm9keSwge1xuICAgICAgcGl2b3RBOiBwb3NpdGlvbixcbiAgICAgIGF4aXNBOiBheGlzLFxuICAgICAgcGl2b3RCOiBWZWMzLlpFUk8sXG4gICAgICBheGlzQjogYXhpcyxcbiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGhpbmdlQ29uc3RyYWludCk7XG4gICAgcmV0dXJuIHRoaXMud2hlZWxCb2RpZXMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHN0ZWVyaW5nIHZhbHVlIG9mIGEgd2hlZWwuXHJcbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICogQHRvZG8gY2hlY2sgY29vcmRpbmF0ZVN5c3RlbVxyXG4gICAqL1xuXG5cbiAgc2V0U3RlZXJpbmdWYWx1ZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIC8vIFNldCBhbmdsZSBvZiB0aGUgaGluZ2UgYXhpc1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3ModmFsdWUpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbih2YWx1ZSk7XG4gICAgY29uc3QgeCA9IGF4aXMueDtcbiAgICBjb25zdCB5ID0gYXhpcy55O1xuICAgIHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF0uYXhpc0Euc2V0KGMgKiB4IC0gcyAqIHksIHMgKiB4ICsgYyAqIHksIDApO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdGFyZ2V0IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGhpbmdlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRNb3RvclNwZWVkKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50c1t3aGVlbEluZGV4XTtcbiAgICBoaW5nZUNvbnN0cmFpbnQuZW5hYmxlTW90b3IoKTtcbiAgICBoaW5nZUNvbnN0cmFpbnQubW90b3JUYXJnZXRWZWxvY2l0eSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdGFyZ2V0IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGhpbmdlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3JcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGRpc2FibGVNb3Rvcih3aGVlbEluZGV4KSB7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50c1t3aGVlbEluZGV4XTtcbiAgICBoaW5nZUNvbnN0cmFpbnQuZGlzYWJsZU1vdG9yKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSB3aGVlbCBmb3JjZSB0byBhcHBseSBvbiBvbmUgb2YgdGhlIHdoZWVscyBlYWNoIHRpbWUgc3RlcFxyXG4gICAqIEBtZXRob2Qgc2V0V2hlZWxGb3JjZVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRXaGVlbEZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgdGhpcy53aGVlbEZvcmNlc1t3aGVlbEluZGV4XSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIEFwcGx5IGEgdG9ycXVlIG9uIG9uZSBvZiB0aGUgd2hlZWxzLlxyXG4gICAqIEBtZXRob2QgYXBwbHlXaGVlbEZvcmNlXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGFwcGx5V2hlZWxGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3aGVlbEJvZHkgPSB0aGlzLndoZWVsQm9kaWVzW3doZWVsSW5kZXhdO1xuICAgIGNvbnN0IGJvZHlUb3JxdWUgPSB3aGVlbEJvZHkudG9ycXVlO1xuICAgIGF4aXMuc2NhbGUodmFsdWUsIHRvcnF1ZSk7XG4gICAgd2hlZWxCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0b3JxdWUsIHRvcnF1ZSk7XG4gICAgYm9keVRvcnF1ZS52YWRkKHRvcnF1ZSwgYm9keVRvcnF1ZSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxyXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAgICovXG5cblxuICBhZGRUb1dvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMud2hlZWxCb2RpZXMuY29uY2F0KFt0aGlzLmNoYXNzaXNCb2R5XSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQuYWRkQm9keShib2RpZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludHNbaV0pO1xuICAgIH1cblxuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLl91cGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfdXBkYXRlKCkge1xuICAgIGNvbnN0IHdoZWVsRm9yY2VzID0gdGhpcy53aGVlbEZvcmNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxGb3JjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXBwbHlXaGVlbEZvcmNlKHdoZWVsRm9yY2VzW2ldLCBpKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCByZW1vdmVGcm9tV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMud2hlZWxCb2RpZXMuY29uY2F0KFt0aGlzLmNoYXNzaXNCb2R5XSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQucmVtb3ZlQm9keShib2RpZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludHNbaV0pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgY3VycmVudCByb3RhdGlvbmFsIHZlbG9jaXR5IG9mIGEgd2hlZWxcclxuICAgKiBAbWV0aG9kIGdldFdoZWVsU3BlZWRcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGdldFdoZWVsU3BlZWQod2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3aGVlbEJvZHkgPSB0aGlzLndoZWVsQm9kaWVzW3doZWVsSW5kZXhdO1xuICAgIGNvbnN0IHcgPSB3aGVlbEJvZHkuYW5ndWxhclZlbG9jaXR5O1xuICAgIHRoaXMuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKGF4aXMsIHdvcmxkQXhpcyk7XG4gICAgcmV0dXJuIHcuZG90KHdvcmxkQXhpcyk7XG4gIH1cblxufVxuY29uc3QgdG9ycXVlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHdvcmxkQXhpcyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBTbW9vdGhlZC1wYXJ0aWNsZSBoeWRyb2R5bmFtaWNzIHN5c3RlbVxyXG4gKiBAY2xhc3MgU1BIU3lzdGVtXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFNQSFN5c3RlbSB7XG4gIC8vIERlbnNpdHkgb2YgdGhlIHN5c3RlbSAoa2cvbTMpLlxuICAvLyBEaXN0YW5jZSBiZWxvdyB3aGljaCB0d28gcGFydGljbGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIG5laWdoYm9ycy4gSXQgc2hvdWxkIGJlIGFkanVzdGVkIHNvIHRoZXJlIGFyZSBhYm91dCAxNS0yMCBuZWlnaGJvciBwYXJ0aWNsZXMgd2l0aGluIHRoaXMgcmFkaXVzLlxuICAvLyBWaXNjb3NpdHkgb2YgdGhlIHN5c3RlbS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgICB0aGlzLmRlbnNpdHkgPSAxO1xuICAgIHRoaXMuc21vb3RoaW5nUmFkaXVzID0gMTtcbiAgICB0aGlzLnNwZWVkT2ZTb3VuZCA9IDE7XG4gICAgdGhpcy52aXNjb3NpdHkgPSAwLjAxO1xuICAgIHRoaXMuZXBzID0gMC4wMDAwMDE7IC8vIFN0dWZmIENvbXB1dGVkIHBlciBwYXJ0aWNsZVxuXG4gICAgdGhpcy5wcmVzc3VyZXMgPSBbXTtcbiAgICB0aGlzLmRlbnNpdGllcyA9IFtdO1xuICAgIHRoaXMubmVpZ2hib3JzID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgcGFydGljbGUgdG8gdGhlIHN5c3RlbS5cclxuICAgKiBAbWV0aG9kIGFkZFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICAgKi9cblxuXG4gIGFkZChwYXJ0aWNsZSkge1xuICAgIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuXG4gICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA8IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5uZWlnaGJvcnMucHVzaChbXSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIHBhcnRpY2xlIGZyb20gdGhlIHN5c3RlbS5cclxuICAgKiBAbWV0aG9kIHJlbW92ZVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICAgKi9cblxuXG4gIHJlbW92ZShwYXJ0aWNsZSkge1xuICAgIGNvbnN0IGlkeCA9IHRoaXMucGFydGljbGVzLmluZGV4T2YocGFydGljbGUpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMucGFydGljbGVzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICBpZiAodGhpcy5uZWlnaGJvcnMubGVuZ3RoID4gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubmVpZ2hib3JzLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldE5laWdoYm9ycyhwYXJ0aWNsZSwgbmVpZ2hib3JzKSB7XG4gICAgY29uc3QgTiA9IHRoaXMucGFydGljbGVzLmxlbmd0aDtcbiAgICBjb25zdCBpZCA9IHBhcnRpY2xlLmlkO1xuICAgIGNvbnN0IFIyID0gdGhpcy5zbW9vdGhpbmdSYWRpdXMgKiB0aGlzLnNtb290aGluZ1JhZGl1cztcbiAgICBjb25zdCBkaXN0ID0gU1BIU3lzdGVtX2dldE5laWdoYm9yc19kaXN0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgcC5wb3NpdGlvbi52c3ViKHBhcnRpY2xlLnBvc2l0aW9uLCBkaXN0KTtcblxuICAgICAgaWYgKGlkICE9PSBwLmlkICYmIGRpc3QubGVuZ3RoU3F1YXJlZCgpIDwgUjIpIHtcbiAgICAgICAgbmVpZ2hib3JzLnB1c2gocCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IE4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgY29uc3QgZGlzdCA9IFNQSFN5c3RlbV91cGRhdGVfZGlzdDtcbiAgICBjb25zdCBjcyA9IHRoaXMuc3BlZWRPZlNvdW5kO1xuICAgIGNvbnN0IGVwcyA9IHRoaXMuZXBzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldOyAvLyBDdXJyZW50IHBhcnRpY2xlXG5cbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMubmVpZ2hib3JzW2ldOyAvLyBHZXQgbmVpZ2hib3JzXG5cbiAgICAgIG5laWdoYm9ycy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5nZXROZWlnaGJvcnMocCwgbmVpZ2hib3JzKTtcbiAgICAgIG5laWdoYm9ycy5wdXNoKHRoaXMucGFydGljbGVzW2ldKTsgLy8gQWRkIGN1cnJlbnQgdG9vXG5cbiAgICAgIGNvbnN0IG51bU5laWdoYm9ycyA9IG5laWdoYm9ycy5sZW5ndGg7IC8vIEFjY3VtdWxhdGUgZGVuc2l0eSBmb3IgdGhlIHBhcnRpY2xlXG5cbiAgICAgIGxldCBzdW0gPSAwLjA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1OZWlnaGJvcnM7IGorKykge1xuICAgICAgICAvL3ByaW50ZihcIkN1cnJlbnQgcGFydGljbGUgaGFzIHBvc2l0aW9uICVmICVmICVmXFxuXCIsb2JqZWN0c1tpZF0ucG9zLngoKSxvYmplY3RzW2lkXS5wb3MueSgpLG9iamVjdHNbaWRdLnBvcy56KCkpO1xuICAgICAgICBwLnBvc2l0aW9uLnZzdWIobmVpZ2hib3JzW2pdLnBvc2l0aW9uLCBkaXN0KTtcbiAgICAgICAgY29uc3QgbGVuID0gZGlzdC5sZW5ndGgoKTtcbiAgICAgICAgY29uc3Qgd2VpZ2h0ID0gdGhpcy53KGxlbik7XG4gICAgICAgIHN1bSArPSBuZWlnaGJvcnNbal0ubWFzcyAqIHdlaWdodDtcbiAgICAgIH0gLy8gU2F2ZVxuXG5cbiAgICAgIHRoaXMuZGVuc2l0aWVzW2ldID0gc3VtO1xuICAgICAgdGhpcy5wcmVzc3VyZXNbaV0gPSBjcyAqIGNzICogKHRoaXMuZGVuc2l0aWVzW2ldIC0gdGhpcy5kZW5zaXR5KTtcbiAgICB9IC8vIEFkZCBmb3JjZXNcbiAgICAvLyBTdW0gdG8gdGhlc2UgYWNjZWxlcmF0aW9uc1xuXG5cbiAgICBjb25zdCBhX3ByZXNzdXJlID0gU1BIU3lzdGVtX3VwZGF0ZV9hX3ByZXNzdXJlO1xuICAgIGNvbnN0IGFfdmlzYyA9IFNQSFN5c3RlbV91cGRhdGVfYV92aXNjO1xuICAgIGNvbnN0IGdyYWRXID0gU1BIU3lzdGVtX3VwZGF0ZV9ncmFkVztcbiAgICBjb25zdCByX3ZlYyA9IFNQSFN5c3RlbV91cGRhdGVfcl92ZWM7XG4gICAgY29uc3QgdSA9IFNQSFN5c3RlbV91cGRhdGVfdTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XG4gICAgICBhX3ByZXNzdXJlLnNldCgwLCAwLCAwKTtcbiAgICAgIGFfdmlzYy5zZXQoMCwgMCwgMCk7IC8vIEluaXQgdmFyc1xuXG4gICAgICBsZXQgUGlqO1xuICAgICAgbGV0IG5hYmxhO1xuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLm5laWdoYm9yc1tpXTtcbiAgICAgIGNvbnN0IG51bU5laWdoYm9ycyA9IG5laWdoYm9ycy5sZW5ndGg7IC8vcHJpbnRmKFwiTmVpZ2hib3JzOiBcIik7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1OZWlnaGJvcnM7IGorKykge1xuICAgICAgICBjb25zdCBuZWlnaGJvciA9IG5laWdoYm9yc1tqXTsgLy9wcmludGYoXCIlZCBcIixuaik7XG4gICAgICAgIC8vIEdldCByIG9uY2UgZm9yIGFsbC4uXG5cbiAgICAgICAgcGFydGljbGUucG9zaXRpb24udnN1YihuZWlnaGJvci5wb3NpdGlvbiwgcl92ZWMpO1xuICAgICAgICBjb25zdCByID0gcl92ZWMubGVuZ3RoKCk7IC8vIFByZXNzdXJlIGNvbnRyaWJ1dGlvblxuXG4gICAgICAgIFBpaiA9IC1uZWlnaGJvci5tYXNzICogKHRoaXMucHJlc3N1cmVzW2ldIC8gKHRoaXMuZGVuc2l0aWVzW2ldICogdGhpcy5kZW5zaXRpZXNbaV0gKyBlcHMpICsgdGhpcy5wcmVzc3VyZXNbal0gLyAodGhpcy5kZW5zaXRpZXNbal0gKiB0aGlzLmRlbnNpdGllc1tqXSArIGVwcykpO1xuICAgICAgICB0aGlzLmdyYWR3KHJfdmVjLCBncmFkVyk7IC8vIEFkZCB0byBwcmVzc3VyZSBhY2NlbGVyYXRpb25cblxuICAgICAgICBncmFkVy5zY2FsZShQaWosIGdyYWRXKTtcbiAgICAgICAgYV9wcmVzc3VyZS52YWRkKGdyYWRXLCBhX3ByZXNzdXJlKTsgLy8gVmlzY29zaXR5IGNvbnRyaWJ1dGlvblxuXG4gICAgICAgIG5laWdoYm9yLnZlbG9jaXR5LnZzdWIocGFydGljbGUudmVsb2NpdHksIHUpO1xuICAgICAgICB1LnNjYWxlKDEuMCAvICgwLjAwMDEgKyB0aGlzLmRlbnNpdGllc1tpXSAqIHRoaXMuZGVuc2l0aWVzW2pdKSAqIHRoaXMudmlzY29zaXR5ICogbmVpZ2hib3IubWFzcywgdSk7XG4gICAgICAgIG5hYmxhID0gdGhpcy5uYWJsYXcocik7XG4gICAgICAgIHUuc2NhbGUobmFibGEsIHUpOyAvLyBBZGQgdG8gdmlzY29zaXR5IGFjY2VsZXJhdGlvblxuXG4gICAgICAgIGFfdmlzYy52YWRkKHUsIGFfdmlzYyk7XG4gICAgICB9IC8vIENhbGN1bGF0ZSBmb3JjZVxuXG5cbiAgICAgIGFfdmlzYy5zY2FsZShwYXJ0aWNsZS5tYXNzLCBhX3Zpc2MpO1xuICAgICAgYV9wcmVzc3VyZS5zY2FsZShwYXJ0aWNsZS5tYXNzLCBhX3ByZXNzdXJlKTsgLy8gQWRkIGZvcmNlIHRvIHBhcnRpY2xlc1xuXG4gICAgICBwYXJ0aWNsZS5mb3JjZS52YWRkKGFfdmlzYywgcGFydGljbGUuZm9yY2UpO1xuICAgICAgcGFydGljbGUuZm9yY2UudmFkZChhX3ByZXNzdXJlLCBwYXJ0aWNsZS5mb3JjZSk7XG4gICAgfVxuICB9IC8vIENhbGN1bGF0ZSB0aGUgd2VpZ2h0IHVzaW5nIHRoZSBXKHIpIHdlaWdodGZ1bmN0aW9uXG5cblxuICB3KHIpIHtcbiAgICAvLyAzMTVcbiAgICBjb25zdCBoID0gdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgcmV0dXJuIDMxNS4wIC8gKDY0LjAgKiBNYXRoLlBJICogaCAqKiA5KSAqIChoICogaCAtIHIgKiByKSAqKiAzO1xuICB9IC8vIGNhbGN1bGF0ZSBncmFkaWVudCBvZiB0aGUgd2VpZ2h0IGZ1bmN0aW9uXG5cblxuICBncmFkdyhyVmVjLCByZXN1bHRWZWMpIHtcbiAgICBjb25zdCByID0gclZlYy5sZW5ndGgoKTtcbiAgICBjb25zdCBoID0gdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgclZlYy5zY2FsZSg5NDUuMCAvICgzMi4wICogTWF0aC5QSSAqIGggKiogOSkgKiAoaCAqIGggLSByICogcikgKiogMiwgcmVzdWx0VmVjKTtcbiAgfSAvLyBDYWxjdWxhdGUgbmFibGEoVylcblxuXG4gIG5hYmxhdyhyKSB7XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIGNvbnN0IG5hYmxhID0gOTQ1LjAgLyAoMzIuMCAqIE1hdGguUEkgKiBoICoqIDkpICogKGggKiBoIC0gciAqIHIpICogKDcgKiByICogciAtIDMgKiBoICogaCk7XG4gICAgcmV0dXJuIG5hYmxhO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBHZXQgbmVpZ2hib3JzIHdpdGhpbiBzbW9vdGhpbmcgdm9sdW1lLCBzYXZlIGluIHRoZSBhcnJheSBuZWlnaGJvcnNcclxuICogQG1ldGhvZCBnZXROZWlnaGJvcnNcclxuICogQHBhcmFtIHtCb2R5fSBwYXJ0aWNsZVxyXG4gKiBAcGFyYW0ge0FycmF5fSBuZWlnaGJvcnNcclxuICovXG5cbmNvbnN0IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdCA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycyBmb3IgY2FsY3VsYXRpb25cblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9kaXN0ID0gbmV3IFZlYzMoKTsgLy8gUmVsYXRpdmUgdmVsb2NpdHlcblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9hX3ByZXNzdXJlID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfYV92aXNjID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFcgPSBuZXcgVmVjMygpO1xuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX3UgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIEN5bGluZGVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RvcFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQm90dG9tXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG51bVNlZ21lbnRzIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgdG8gYnVpbGQgdGhlIGN5bGluZGVyIG91dCBvZlxyXG4gKi9cblxuY2xhc3MgQ3lsaW5kZXIgZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uIHtcbiAgY29uc3RydWN0b3IocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMpIHtcbiAgICBjb25zdCBOID0gbnVtU2VnbWVudHM7XG4gICAgY29uc3QgdmVydGljZXMgPSBbXTtcbiAgICBjb25zdCBheGVzID0gW107XG4gICAgY29uc3QgZmFjZXMgPSBbXTtcbiAgICBjb25zdCBib3R0b21mYWNlID0gW107XG4gICAgY29uc3QgdG9wZmFjZSA9IFtdO1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnRcblxuICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbigwKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKDApKSk7XG4gICAgYm90dG9tZmFjZS5wdXNoKDApOyAvLyBGaXJzdCB0b3AgcG9pbnRcblxuICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c1RvcCAqIHNpbigwKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3MoMCkpKTtcbiAgICB0b3BmYWNlLnB1c2goMSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykge1xuICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpO1xuICAgICAgY29uc3QgdGhldGFOID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAwLjUpO1xuXG4gICAgICBpZiAoaSA8IE4gLSAxKSB7XG4gICAgICAgIC8vIEJvdHRvbVxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4odGhldGEpLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3ModGhldGEpKSk7XG4gICAgICAgIGJvdHRvbWZhY2UucHVzaCgyICogaSArIDIpOyAvLyBUb3BcblxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4odGhldGEpLCBoZWlnaHQgKiAwLjUsIHJhZGl1c1RvcCAqIGNvcyh0aGV0YSkpKTtcbiAgICAgICAgdG9wZmFjZS5wdXNoKDIgKiBpICsgMyk7IC8vIEZhY2VcblxuICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAyICogaSArIDMsIDIgKiBpICsgMl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMSwgMF0pOyAvLyBDb25uZWN0XG4gICAgICB9IC8vIEF4aXM6IHdlIGNhbiBjdXQgb2ZmIGhhbGYgb2YgdGhlbSBpZiB3ZSBoYXZlIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzXG5cblxuICAgICAgaWYgKE4gJSAyID09PSAxIHx8IGkgPCBOIC8gMikge1xuICAgICAgICBheGVzLnB1c2gobmV3IFZlYzMoLXNpbih0aGV0YU4pLCAwLCBjb3ModGhldGFOKSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZhY2VzLnB1c2goYm90dG9tZmFjZSk7XG4gICAgYXhlcy5wdXNoKG5ldyBWZWMzKDAsIDEsIDApKTsgLy8gUmVvcmRlciB0b3AgZmFjZVxuXG4gICAgY29uc3QgdGVtcCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3BmYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wLnB1c2godG9wZmFjZVt0b3BmYWNlLmxlbmd0aCAtIGkgLSAxXSk7XG4gICAgfVxuXG4gICAgZmFjZXMucHVzaCh0ZW1wKTtcbiAgICBzdXBlcih7XG4gICAgICB2ZXJ0aWNlcyxcbiAgICAgIGZhY2VzLFxuICAgICAgYXhlc1xuICAgIH0pO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIFBhcnRpY2xlIHNoYXBlLlxyXG4gKiBAY2xhc3MgUGFydGljbGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICovXG5jbGFzcyBQYXJ0aWNsZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuUEFSVElDTEVcbiAgICB9KTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC5zZXQoMCwgMCwgMCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwO1xuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICAvLyBHZXQgZWFjaCBheGlzIG1heFxuICAgIG1pbi5jb3B5KHBvcyk7XG4gICAgbWF4LmNvcHkocG9zKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLlxyXG4gKiBAY2xhc3MgUGxhbmVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBQbGFuZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuUExBTkVcbiAgICB9KTsgLy8gV29ybGQgb3JpZW50ZWQgbm9ybWFsXG5cbiAgICB0aGlzLndvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICB9XG5cbiAgY29tcHV0ZVdvcmxkTm9ybWFsKHF1YXQpIHtcbiAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDtcbiAgICBuLnNldCgwLCAwLCAxKTtcbiAgICBxdWF0LnZtdWx0KG4sIG4pO1xuICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiAoLy8gVGhlIHBsYW5lIGlzIGluZmluaXRlLi4uXG4gICAgICBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLy8gVGhlIHBsYW5lIEFBQkIgaXMgaW5maW5pdGUsIGV4Y2VwdCBpZiB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGFsb25nIGFueSBheGlzXG4gICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHpcblxuICAgIHF1YXQudm11bHQodGVtcE5vcm1hbCwgdGVtcE5vcm1hbCk7XG4gICAgY29uc3QgbWF4VmFsID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBtaW4uc2V0KC1tYXhWYWwsIC1tYXhWYWwsIC1tYXhWYWwpO1xuICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCk7XG5cbiAgICBpZiAodGVtcE5vcm1hbC54ID09PSAxKSB7XG4gICAgICBtYXgueCA9IHBvcy54O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC54ID09PSAtMSkge1xuICAgICAgbWluLnggPSBwb3MueDtcbiAgICB9XG5cbiAgICBpZiAodGVtcE5vcm1hbC55ID09PSAxKSB7XG4gICAgICBtYXgueSA9IHBvcy55O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkge1xuICAgICAgbWluLnkgPSBwb3MueTtcbiAgICB9XG5cbiAgICBpZiAodGVtcE5vcm1hbC56ID09PSAxKSB7XG4gICAgICBtYXgueiA9IHBvcy56O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC56ID09PSAtMSkge1xuICAgICAgbWluLnogPSBwb3MuejtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuXG59XG5jb25zdCB0ZW1wTm9ybWFsID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS5cclxuICogQGNsYXNzIEhlaWdodGZpZWxkXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi5cclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZWxlbWVudFNpemU9MC4xXSBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggZGlyZWN0aW9uLlxyXG4gKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5XHJcbiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlc1xyXG4gKiBAdG9kbyBSZWZhY3RvciBlbGVtZW50U2l6ZSB0byBlbGVtZW50U2l6ZVggYW5kIGVsZW1lbnRTaXplWVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgLy8gR2VuZXJhdGUgc29tZSBoZWlnaHQgZGF0YSAoeS12YWx1ZXMpLlxyXG4gKiAgICAgY29uc3QgZGF0YSA9IFtdO1xyXG4gKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7XHJcbiAqICAgICAgICAgY29uc3QgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpO1xyXG4gKiAgICAgICAgIGRhdGEucHVzaCh5KTtcclxuICogICAgIH1cclxuICpcclxuICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGVcclxuICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwge1xyXG4gKiAgICAgICAgIGVsZW1lbnRTaXplOiAxIC8vIERpc3RhbmNlIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggYW5kIFkgZGlyZWN0aW9uc1xyXG4gKiAgICAgfSk7XHJcbiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpO1xyXG4gKiAgICAgaGVpZ2h0ZmllbGRCb2R5LmFkZFNoYXBlKGhlaWdodGZpZWxkU2hhcGUpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpO1xyXG4gKi9cbmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuXG4gIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS5cbiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLlxuICAvLyBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50LiBUbyBkbzogZWxlbWVudFNpemVYIGFuZCBZXG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgZWxlbWVudFNpemU6IDFcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRFxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XG4gICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWU7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7XG5cbiAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1heFZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMucGlsbGFyQ29udmV4ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyBcImlfal9pc1VwcGVyXCIgPT4geyBjb252ZXg6IC4uLiwgb2Zmc2V0OiAuLi4gfVxuICAgIC8vIGZvciBleGFtcGxlOlxuICAgIC8vIF9jYWNoZWRQaWxsYXJzW1wiMF8yXzFcIl1cblxuICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxsIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGRhdGEgYXJyYXkuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVcclxuICAgKi9cblxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSAubWluVmFsdWUgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZU1pblZhbHVlXHJcbiAgICovXG5cblxuICB1cGRhdGVNaW5WYWx1ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgIG1pblZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIC5tYXhWYWx1ZSBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlTWF4VmFsdWVcclxuICAgKi9cblxuXG4gIHVwZGF0ZU1heFZhbHVlKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IG1heFZhbHVlID0gZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTtcblxuICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgbWF4VmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgaGVpZ2h0IHZhbHVlIGF0IGFuIGluZGV4LiBEb24ndCBmb3JnZXQgdG8gdXBkYXRlIG1heFZhbHVlIGFuZCBtaW5WYWx1ZSBhZnRlciB5b3UncmUgZG9uZS5cclxuICAgKiBAbWV0aG9kIHNldEhlaWdodFZhbHVlQXRJbmRleFxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0geGlcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHlpXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgZGF0YVt4aV1beWldID0gdmFsdWU7IC8vIEludmFsaWRhdGUgY2FjaGVcblxuICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGZhbHNlKTtcblxuICAgIGlmICh4aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHlpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpO1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoeWkgPiAwICYmIHhpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWkgLSAxLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IG1heC9taW4gaW4gYSByZWN0YW5nbGUgaW4gdGhlIG1hdHJpeCBkYXRhXHJcbiAgICogQG1ldGhvZCBnZXRSZWN0TWluTWF4XHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblhcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhYXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFlcclxuICAgKiBAcGFyYW0gIHthcnJheX0gW3Jlc3VsdF0gQW4gYXJyYXkgdG8gc3RvcmUgdGhlIHJlc3VsdHMgaW4uXHJcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSByZXN1bHQgYXJyYXksIGlmIGl0IHdhcyBwYXNzZWQgaW4uIE1pbmltdW0gd2lsbCBiZSBhdCBwb3NpdGlvbiAwIGFuZCBtYXggYXQgMS5cclxuICAgKi9cblxuXG4gIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCA9IFtdKSB7XG4gICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlXG5cbiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHtcbiAgICAgICAgICBtYXggPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlO1xuICAgIHJlc3VsdFsxXSA9IG1heDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGluZGV4IG9mIGEgbG9jYWwgcG9zaXRpb24gb24gdGhlIGhlaWdodGZpZWxkLiBUaGUgaW5kZXhlcyBpbmRpY2F0ZSB0aGUgcmVjdGFuZ2xlcywgc28gaWYgeW91ciB0ZXJyYWluIGlzIG1hZGUgb2YgTiB4IE4gaGVpZ2h0IGRhdGEgcG9pbnRzLCB5b3Ugd2lsbCBoYXZlIHJlY3RhbmdsZSBpbmRleGVzIHJhbmdpbmcgZnJvbSAwIHRvIE4tMS5cclxuICAgKiBAbWV0aG9kIGdldEluZGV4T2ZQb3NpdGlvblxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geVxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgVHdvLWVsZW1lbnQgYXJyYXlcclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKi9cblxuXG4gIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7XG4gICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG4gICAgY29uc3QgdyA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBsZXQgeGkgPSBNYXRoLmZsb29yKHggLyB3KTtcbiAgICBsZXQgeWkgPSBNYXRoLmZsb29yKHkgLyB3KTtcbiAgICByZXN1bHRbMF0gPSB4aTtcbiAgICByZXN1bHRbMV0gPSB5aTtcblxuICAgIGlmIChjbGFtcCkge1xuICAgICAgLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXNcbiAgICAgIGlmICh4aSA8IDApIHtcbiAgICAgICAgeGkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoeWkgPCAwKSB7XG4gICAgICAgIHlpID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHhpID49IGRhdGEubGVuZ3RoIC0gMSkge1xuICAgICAgICB4aSA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkge1xuICAgICAgICB5aSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW5cblxuXG4gICAgaWYgKHhpIDwgMCB8fCB5aSA8IDAgfHwgeGkgPj0gZGF0YS5sZW5ndGggLSAxIHx8IHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7XG4gICAgdGhpcy5nZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgaWR4LCBlZGdlQ2xhbXApO1xuICAgIGxldCB4aSA9IGlkeFswXTtcbiAgICBsZXQgeWkgPSBpZHhbMV07XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcblxuICAgIGlmIChlZGdlQ2xhbXApIHtcbiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpO1xuICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGxvd2VyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0geGkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0geWkpICoqIDI7XG4gICAgY29uc3QgdXBwZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSAoeGkgKyAxKSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSAoeWkgKyAxKSkgKiogMjtcbiAgICBjb25zdCB1cHBlciA9IGxvd2VyRGlzdDIgPiB1cHBlckRpc3QyO1xuICAgIHRoaXMuZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYyk7XG4gICAgcmV0dXJuIHVwcGVyO1xuICB9XG5cbiAgZ2V0Tm9ybWFsQXQoeCwgeSwgZWRnZUNsYW1wLCByZXN1bHQpIHtcbiAgICBjb25zdCBhID0gZ2V0Tm9ybWFsQXRfYTtcbiAgICBjb25zdCBiID0gZ2V0Tm9ybWFsQXRfYjtcbiAgICBjb25zdCBjID0gZ2V0Tm9ybWFsQXRfYztcbiAgICBjb25zdCBlMCA9IGdldE5vcm1hbEF0X2UwO1xuICAgIGNvbnN0IGUxID0gZ2V0Tm9ybWFsQXRfZTE7XG4gICAgdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7XG4gICAgYi52c3ViKGEsIGUwKTtcbiAgICBjLnZzdWIoYSwgZTEpO1xuICAgIGUwLmNyb3NzKGUxLCByZXN1bHQpO1xuICAgIHJlc3VsdC5ub3JtYWxpemUoKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGRcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhpXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB5aVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0QWFiYkF0SW5kZXgoeGksIHlpLCB7XG4gICAgbG93ZXJCb3VuZCxcbiAgICB1cHBlckJvdW5kXG4gIH0pIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBsb3dlckJvdW5kLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pO1xuICAgIHVwcGVyQm91bmQuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvblxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGVkZ2VDbGFtcFxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cblxuXG4gIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgYSA9IGdldEhlaWdodEF0X2E7XG4gICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7XG4gICAgY29uc3QgYyA9IGdldEhlaWdodEF0X2M7XG4gICAgY29uc3QgaWR4ID0gZ2V0SGVpZ2h0QXRfaWR4O1xuICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTtcbiAgICBsZXQgeGkgPSBpZHhbMF07XG4gICAgbGV0IHlpID0gaWR4WzFdO1xuXG4gICAgaWYgKGVkZ2VDbGFtcCkge1xuICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7XG4gICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cHBlciA9IHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpO1xuICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTtcbiAgICBjb25zdCB3ID0gZ2V0SGVpZ2h0QXRfd2VpZ2h0cztcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICByZXR1cm4geGkgKyBcIl9cIiArIHlpICsgXCJfXCIgKyAoZ2V0VXBwZXJUcmlhbmdsZSA/IDEgOiAwKTtcbiAgfVxuXG4gIGdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTtcbiAgfVxuXG4gIHNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgY29udmV4LCBvZmZzZXQpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXSA9IHtcbiAgICAgIGNvbnZleCxcbiAgICAgIG9mZnNldFxuICAgIH07XG4gIH1cblxuICBjbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB0cmlhbmdsZSBmcm9tIHRoZSBoZWlnaHRmaWVsZFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geGlcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gdXBwZXJcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBhXHJcbiAgICogQHBhcmFtICB7VmVjM30gYlxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGNcclxuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTtcbiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHNcbiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7XG4gICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTtcbiAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB0cmlhbmdsZSBpbiB0aGUgdGVycmFpbiBpbiB0aGUgZm9ybSBvZiBhIHRyaWFuZ3VsYXIgY29udmV4IHNoYXBlLlxyXG4gICAqIEBtZXRob2QgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXJcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0galxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGdldFVwcGVyVHJpYW5nbGVcclxuICAgKi9cblxuXG4gIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDtcbiAgICBsZXQgb2Zmc2V0UmVzdWx0ID0gdGhpcy5waWxsYXJPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7XG4gICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gZGF0YS5vZmZzZXQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICAgIG9mZnNldFJlc3VsdCA9IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDtcbiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZVxuXG4gICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgaWYgKCFyZXN1bHQudmVydGljZXNbaV0pIHtcbiAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFJldXNlIGZhY2VzIGlmIHBvc3NpYmxlXG5cblxuICAgIGZhY2VzLmxlbmd0aCA9IDU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgaWYgKCFmYWNlc1tpXSkge1xuICAgICAgICBmYWNlc1tpXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzO1xuICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlO1xuXG4gICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmVcbiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZVxuICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXJcbiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1sxXS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzRdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7XG4gICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyB0b3AgdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMF1bMF0gPSAwO1xuICAgICAgZmFjZXNbMF1bMV0gPSAxO1xuICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMV1bMF0gPSA1O1xuICAgICAgZmFjZXNbMV1bMV0gPSA0O1xuICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1syXVswXSA9IDA7XG4gICAgICBmYWNlc1syXVsxXSA9IDI7XG4gICAgICBmYWNlc1syXVsyXSA9IDU7XG4gICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzNdWzBdID0gMTtcbiAgICAgIGZhY2VzWzNdWzFdID0gMDtcbiAgICAgIGZhY2VzWzNdWzJdID0gMztcbiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzRdWzBdID0gNDtcbiAgICAgIGZhY2VzWzRdWzFdID0gNTtcbiAgICAgIGZhY2VzWzRdWzJdID0gMjtcbiAgICAgIGZhY2VzWzRdWzNdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lXG4gICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGVcbiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyXG4gICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpO1xuICAgICAgdmVydHNbNF0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzVdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIFRvcCB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1swXVswXSA9IDA7XG4gICAgICBmYWNlc1swXVsxXSA9IDE7XG4gICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1sxXVswXSA9IDU7XG4gICAgICBmYWNlc1sxXVsxXSA9IDQ7XG4gICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzJdWzBdID0gMjtcbiAgICAgIGZhY2VzWzJdWzFdID0gNTtcbiAgICAgIGZhY2VzWzJdWzJdID0gMztcbiAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbM11bMF0gPSAzO1xuICAgICAgZmFjZXNbM11bMV0gPSA0O1xuICAgICAgZmFjZXNbM11bMl0gPSAxO1xuICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbNF1bMF0gPSAxO1xuICAgICAgZmFjZXNbNF1bMV0gPSA0O1xuICAgICAgZmFjZXNbNF1bMl0gPSA1O1xuICAgICAgZmFjZXNbNF1bM10gPSAyO1xuICAgIH1cblxuICAgIHJlc3VsdC5jb21wdXRlTm9ybWFscygpO1xuICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTtcbiAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB0aGlzLnNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgcmVzdWx0LCBvZmZzZXRSZXN1bHQpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZVxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRPRE86IGRvIGl0IHByb3Blcmx5XG4gICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGhlaWdodCB2YWx1ZXMgZnJvbSBhbiBpbWFnZS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIuXHJcbiAgICogQG1ldGhvZCBzZXRIZWlnaHRzRnJvbUltYWdlXHJcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlXHJcbiAgICovXG5cblxuICBzZXRIZWlnaHRzRnJvbUltYWdlKGltYWdlLCBzY2FsZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHgsXG4gICAgICB6LFxuICAgICAgeVxuICAgIH0gPSBzY2FsZTtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5kYXRhO1xuICAgIG1hdHJpeC5sZW5ndGggPSAwO1xuICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmhlaWdodDsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbWFnZURhdGEud2lkdGg7IGorKykge1xuICAgICAgICBjb25zdCBhID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0XTtcbiAgICAgICAgY29uc3QgYiA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDFdO1xuICAgICAgICBjb25zdCBjID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMl07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChhICsgYiArIGMpIC8gNCAvIDI1NSAqIHo7XG5cbiAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cudW5zaGlmdChoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICBtYXRyaXgudW5zaGlmdChyb3cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0cml4LnB1c2gocm93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxufVxuY29uc3QgZ2V0SGVpZ2h0QXRfaWR4ID0gW107XG5jb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEhlaWdodEF0X2EgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0SGVpZ2h0QXRfYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2EgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2UwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2UxID0gbmV3IFZlYzMoKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXJ5Y2VudHJpY19jb29yZGluYXRlX3N5c3RlbVxuXG5mdW5jdGlvbiBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcmVzdWx0KSB7XG4gIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7XG4gIHJlc3VsdC55ID0gKChjeSAtIGF5KSAqICh4IC0gY3gpICsgKGF4IC0gY3gpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7XG4gIHJlc3VsdC56ID0gMSAtIHJlc3VsdC54IC0gcmVzdWx0Lnk7XG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgT2N0cmVlTm9kZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge09jdHJlZX0gW29wdGlvbnMucm9vdF1cclxuICogQHBhcmFtIHtBQUJCfSBbb3B0aW9ucy5hYWJiXVxyXG4gKi9cbmNsYXNzIE9jdHJlZU5vZGUge1xuICAvLyBUaGUgcm9vdCBub2RlXG4gIC8vIEJvdW5kYXJ5IG9mIHRoaXMgbm9kZVxuICAvLyBDb250YWluZWQgZGF0YSBhdCB0aGUgY3VycmVudCBub2RlIGxldmVsXG4gIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZVxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDtcbiAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBJbnNlcnQgZGF0YSBpbnRvIHRoaXMgbm9kZVxyXG4gICAqIEBtZXRob2QgaW5zZXJ0XHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudERhdGFcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZVxyXG4gICAqL1xuXG5cbiAgaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCA9IDApIHtcbiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZVxuXG4gICAgaWYgKCF0aGlzLmFhYmIuY29udGFpbnMoYWFiYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gb2JqZWN0IGNhbm5vdCBiZSBhZGRlZFxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMubWF4RGVwdGggfHwgdGhpcy5yb290Lm1heERlcHRoO1xuXG4gICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHtcbiAgICAgIC8vIFN1YmRpdmlkZSBpZiB0aGVyZSBhcmUgbm8gY2hpbGRyZW4geWV0XG4gICAgICBsZXQgc3ViZGl2aWRlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnN1YmRpdmlkZSgpO1xuICAgICAgICBzdWJkaXZpZGVkID0gdHJ1ZTtcbiAgICAgIH0gLy8gYWRkIHRvIHdoaWNoZXZlciBub2RlIHdpbGwgYWNjZXB0IGl0XG5cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgICBpZiAoY2hpbGRyZW5baV0uaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCArIDEpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1YmRpdmlkZWQpIHtcbiAgICAgICAgLy8gTm8gY2hpbGRyZW4gYWNjZXB0ZWQhIE1pZ2h0IGFzIHdlbGwganVzdCByZW1vdmUgZW0gc2luY2UgdGhleSBjb250YWluIG5vbmVcbiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIFRvbyBkZWVwLCBvciBjaGlsZHJlbiBkaWRudCB3YW50IGl0LiBhZGQgaXQgaW4gY3VycmVudCBub2RlXG5cblxuICAgIG5vZGVEYXRhLnB1c2goZWxlbWVudERhdGEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENyZWF0ZSA4IGVxdWFsbHkgc2l6ZWQgY2hpbGRyZW4gbm9kZXMgYW5kIHB1dCB0aGVtIGluIHRoZSAuY2hpbGRyZW4gYXJyYXkuXHJcbiAgICogQG1ldGhvZCBzdWJkaXZpZGVcclxuICAgKi9cblxuXG4gIHN1YmRpdmlkZSgpIHtcbiAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiO1xuICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgY2hpbGRyZW4ucHVzaChuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDApXG4gICAgICB9KVxuICAgIH0pKTtcbiAgICB1LnZzdWIobCwgaGFsZkRpYWdvbmFsKTtcbiAgICBoYWxmRGlhZ29uYWwuc2NhbGUoMC41LCBoYWxmRGlhZ29uYWwpO1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3QgfHwgdGhpcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdFxuXG4gICAgICBjaGlsZC5yb290ID0gcm9vdDsgLy8gQ29tcHV0ZSBib3VuZHNcblxuICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGNoaWxkLmFhYmIubG93ZXJCb3VuZDtcbiAgICAgIGxvd2VyQm91bmQueCAqPSBoYWxmRGlhZ29uYWwueDtcbiAgICAgIGxvd2VyQm91bmQueSAqPSBoYWxmRGlhZ29uYWwueTtcbiAgICAgIGxvd2VyQm91bmQueiAqPSBoYWxmRGlhZ29uYWwuejtcbiAgICAgIGxvd2VyQm91bmQudmFkZChsLCBsb3dlckJvdW5kKTsgLy8gVXBwZXIgYm91bmQgaXMgYWx3YXlzIGxvd2VyIGJvdW5kICsgaGFsZkRpYWdvbmFsXG5cbiAgICAgIGxvd2VyQm91bmQudmFkZChoYWxmRGlhZ29uYWwsIGNoaWxkLmFhYmIudXBwZXJCb3VuZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkJcclxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSBcInJlc3VsdFwiIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCkge1xuICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBhYm9ydCBpZiB0aGUgcmFuZ2UgZG9lcyBub3QgaW50ZXJzZWN0IHRoaXMgbm9kZVxuICAgIC8vIGlmICghdGhpcy5hYWJiLm92ZXJsYXBzKGFhYmIpKXtcbiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAvLyB9XG4gICAgLy8gQWRkIG9iamVjdHMgYXQgdGhpcyBsZXZlbFxuICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZURhdGEpO1xuICAgIC8vIEFkZCBjaGlsZCBkYXRhXG4gICAgLy8gQHRvZG8gdW53cmFwIHJlY3Vyc2lvbiBpbnRvIGEgcXVldWUgLyBsb29wLCB0aGF0J3MgZmFzdGVyIGluIEpTXG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47IC8vIGZvciAobGV0IGkgPSAwLCBOID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgIT09IE47IGkrKykge1xuICAgIC8vICAgICBjaGlsZHJlbltpXS5hYWJiUXVlcnkoYWFiYiwgcmVzdWx0KTtcbiAgICAvLyB9XG5cbiAgICBjb25zdCBxdWV1ZSA9IFt0aGlzXTtcblxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5wb3AoKTtcblxuICAgICAgaWYgKG5vZGUuYWFiYi5vdmVybGFwcyhhYWJiKSkge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGUuZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHF1ZXVlLCBub2RlLmNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuXHJcbiAgICogQG1ldGhvZCByYXlRdWVyeVxyXG4gICAqIEBwYXJhbSAge1JheX0gcmF5XHJcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2FycmF5fSBUaGUgXCJyZXN1bHRcIiBvYmplY3RcclxuICAgKi9cblxuXG4gIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7XG4gICAgLy8gVXNlIGFhYmIgcXVlcnkgZm9yIG5vdy5cbiAgICAvLyBAdG9kbyBpbXBsZW1lbnQgcmVhbCByYXkgcXVlcnkgd2hpY2ggbmVlZHMgbGVzcyBsb29rdXBzXG4gICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTtcbiAgICB0bXBBQUJCJDEudG9Mb2NhbEZyYW1lKHRyZWVUcmFuc2Zvcm0sIHRtcEFBQkIkMSk7XG4gICAgdGhpcy5hYWJiUXVlcnkodG1wQUFCQiQxLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCByZW1vdmVFbXB0eU5vZGVzXHJcbiAgICovXG5cblxuICByZW1vdmVFbXB0eU5vZGVzKCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbW92ZUVtcHR5Tm9kZXMoKTtcblxuICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aCAmJiAhdGhpcy5jaGlsZHJlbltpXS5kYXRhLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuLyoqXHJcbiAqIEBjbGFzcyBPY3RyZWVcclxuICogQHBhcmFtIHtBQUJCfSBhYWJiIFRoZSB0b3RhbCBBQUJCIG9mIHRoZSB0cmVlXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heERlcHRoPThdIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGhcclxuICogQGV4dGVuZHMgT2N0cmVlTm9kZVxyXG4gKi9cblxuXG5jbGFzcyBPY3RyZWUgZXh0ZW5kcyBPY3RyZWVOb2RlIHtcbiAgLy8gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aFxuICBjb25zdHJ1Y3RvcihhYWJiLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcih7XG4gICAgICByb290OiBudWxsLFxuICAgICAgYWFiYlxuICAgIH0pO1xuICAgIHRoaXMubWF4RGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5tYXhEZXB0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heERlcHRoIDogODtcbiAgfVxuXG59XG5jb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wQUFCQiQxID0gbmV3IEFBQkIoKTtcblxuLyoqXHJcbiAqIEBjbGFzcyBUcmltZXNoXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlc1xyXG4gKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBleGFtcGxlXHJcbiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZVxyXG4gKiAgICAgY29uc3QgdmVydGljZXMgPSBbXHJcbiAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDBcclxuICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMVxyXG4gKiAgICAgICAgIDAsIDEsIDAgIC8vIHZlcnRleCAyXHJcbiAqICAgICBdO1xyXG4gKiAgICAgY29uc3QgaW5kaWNlcyA9IFtcclxuICogICAgICAgICAwLCAxLCAyICAvLyB0cmlhbmdsZSAwXHJcbiAqICAgICBdO1xyXG4gKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpO1xyXG4gKi9cbmNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7XG4gIC8vIEFycmF5IG9mIGludGVnZXJzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggdHJpYW5nbGUgY29uc2lzdHMgb2YuIFRoZSBsZW5ndGggb2YgdGhpcyBhcnJheSBpcyB0aHVzIDMgdGltZXMgdGhlIG51bWJlciBvZiB0cmlhbmdsZXMuXG4gIC8vIFRoZSBub3JtYWxzIGRhdGEuXG4gIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLlxuICAvLyBSZWZlcmVuY2VzIHRvIHZlcnRleCBwYWlycywgbWFraW5nIHVwIGFsbCB1bmlxdWUgZWRnZXMgaW4gdGhlIHRyaW1lc2guXG4gIC8vIExvY2FsIHNjYWxpbmcgb2YgdGhlIG1lc2guIFVzZSAuc2V0U2NhbGUoKSB0byBzZXQgaXQuXG4gIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LlxuICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0hcbiAgICB9KTtcbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyk7XG4gICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShpbmRpY2VzLmxlbmd0aCk7XG4gICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTtcbiAgICB0aGlzLmVkZ2VzID0gbnVsbDtcbiAgICB0aGlzLnNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7XG4gICAgdGhpcy50cmVlID0gbmV3IE9jdHJlZSgpO1xuICAgIHRoaXMudXBkYXRlRWRnZXMoKTtcbiAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTtcbiAgICB0aGlzLnVwZGF0ZUFBQkIoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgdGhpcy51cGRhdGVUcmVlKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCB1cGRhdGVUcmVlXHJcbiAgICovXG5cblxuICB1cGRhdGVUcmVlKCkge1xuICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWU7XG4gICAgdHJlZS5yZXNldCgpO1xuICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOyAvLyBUaGUgbG9jYWwgbWVzaCBBQUJCIGlzIHNjYWxlZCwgYnV0IHRoZSBvY3RyZWUgQUFCQiBzaG91bGQgYmUgdW5zY2FsZWRcblxuICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56O1xuICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlc1xuXG4gICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTtcbiAgICBjb25zdCBhID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBjID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwb2ludHMgPSBbYSwgYiwgY107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vdGhpcy5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpO1xuICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7XG5cbiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7XG4gICAgICB0cmVlLmluc2VydCh0cmlhbmdsZUFBQkIsIGkpO1xuICAgIH1cblxuICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0cmlhbmdsZXMgaW4gYSBsb2NhbCBBQUJCIGZyb20gdGhlIHRyaW1lc2guXHJcbiAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkJcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSBvZiBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHF1ZXJpZWQgdHJpYW5nbGVzLlxyXG4gICAqL1xuXG5cbiAgZ2V0VHJpYW5nbGVzSW5BQUJCKGFhYmIsIHJlc3VsdCkge1xuICAgIHVuc2NhbGVkQUFCQi5jb3B5KGFhYmIpOyAvLyBTY2FsZSBpdCB0byBsb2NhbFxuXG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgIGNvbnN0IGlzeCA9IHNjYWxlLng7XG4gICAgY29uc3QgaXN5ID0gc2NhbGUueTtcbiAgICBjb25zdCBpc3ogPSBzY2FsZS56O1xuICAgIGNvbnN0IGwgPSB1bnNjYWxlZEFBQkIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdW5zY2FsZWRBQUJCLnVwcGVyQm91bmQ7XG4gICAgbC54IC89IGlzeDtcbiAgICBsLnkgLz0gaXN5O1xuICAgIGwueiAvPSBpc3o7XG4gICAgdS54IC89IGlzeDtcbiAgICB1LnkgLz0gaXN5O1xuICAgIHUueiAvPSBpc3o7XG4gICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0U2NhbGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlXHJcbiAgICovXG5cblxuICBzZXRTY2FsZShzY2FsZSkge1xuICAgIGNvbnN0IHdhc1VuaWZvcm0gPSB0aGlzLnNjYWxlLnggPT09IHRoaXMuc2NhbGUueSAmJiB0aGlzLnNjYWxlLnkgPT09IHRoaXMuc2NhbGUuejtcbiAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7XG5cbiAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHtcbiAgICAgIC8vIE5vbi11bmlmb3JtIHNjYWxpbmcuIE5lZWQgdG8gdXBkYXRlIG5vcm1hbHMuXG4gICAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpO1xuICAgIHRoaXMudXBkYXRlQUFCQigpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZU5vcm1hbHNcclxuICAgKi9cblxuXG4gIHVwZGF0ZU5vcm1hbHMoKSB7XG4gICAgY29uc3QgbiA9IGNvbXB1dGVOb3JtYWxzX247IC8vIEdlbmVyYXRlIG5vcm1hbHNcblxuICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTtcbiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGIsIHZiKTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGMsIHZjKTtcbiAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTtcbiAgICAgIG5vcm1hbHNbaTNdID0gbi54O1xuICAgICAgbm9ybWFsc1tpMyArIDFdID0gbi55O1xuICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56O1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIC5lZGdlcyBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlRWRnZXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUVkZ2VzKCkge1xuICAgIGNvbnN0IGVkZ2VzID0ge307XG5cbiAgICBjb25zdCBhZGQgPSAoYSwgYikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gYSA8IGIgPyBhICsgXCJfXCIgKyBiIDogYiArIFwiX1wiICsgYTtcbiAgICAgIGVkZ2VzW2tleV0gPSB0cnVlO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTtcbiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTtcbiAgICAgIGFkZChhLCBiKTtcbiAgICAgIGFkZChiLCBjKTtcbiAgICAgIGFkZChjLCBhKTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZWRnZXMpO1xuICAgIHRoaXMuZWRnZXMgPSBuZXcgSW50MTZBcnJheShrZXlzLmxlbmd0aCAqIDIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpO1xuICAgICAgdGhpcy5lZGdlc1syICogaV0gPSBwYXJzZUludChpbmRpY2VzWzBdLCAxMCk7XG4gICAgICB0aGlzLmVkZ2VzWzIgKiBpICsgMV0gPSBwYXJzZUludChpbmRpY2VzWzFdLCAxMCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBlZGdlIHZlcnRleFxyXG4gICAqIEBtZXRob2QgZ2V0RWRnZVZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4XHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBmaXJzdE9yU2Vjb25kIDAgb3IgMSwgZGVwZW5kaW5nIG9uIHdoaWNoIG9uZSBvZiB0aGUgdmVydGljZXMgeW91IG5lZWQuXHJcbiAgICogQHBhcmFtICB7VmVjM30gdmVydGV4U3RvcmUgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIGZpcnN0T3JTZWNvbmQsIHZlcnRleFN0b3JlKSB7XG4gICAgY29uc3QgdmVydGV4SW5kZXggPSB0aGlzLmVkZ2VzW2VkZ2VJbmRleCAqIDIgKyAoZmlyc3RPclNlY29uZCA/IDEgOiAwKV07XG4gICAgdGhpcy5nZXRWZXJ0ZXgodmVydGV4SW5kZXgsIHZlcnRleFN0b3JlKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS5cclxuICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3JcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlXHJcbiAgICovXG5cblxuICBnZXRFZGdlVmVjdG9yKGVkZ2VJbmRleCwgdmVjdG9yU3RvcmUpIHtcbiAgICBjb25zdCB2YSA9IGdldEVkZ2VWZWN0b3JfdmE7XG4gICAgY29uc3QgdmIgPSBnZXRFZGdlVmVjdG9yX3ZiO1xuICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDAsIHZhKTtcbiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAxLCB2Yik7XG4gICAgdmIudnN1Yih2YSwgdmVjdG9yU3RvcmUpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB2ZXJ0ZXggaS5cclxuICAgKiBAbWV0aG9kIGdldFZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGdldFZlcnRleChpLCBvdXQpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG5cbiAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpO1xuXG4gICAgb3V0LnggKj0gc2NhbGUueDtcbiAgICBvdXQueSAqPSBzY2FsZS55O1xuICAgIG91dC56ICo9IHNjYWxlLno7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgcmF3IHZlcnRleCBpXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAbWV0aG9kIF9nZXRVbnNjYWxlZFZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIF9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpIHtcbiAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICByZXR1cm4gb3V0LnNldCh2ZXJ0aWNlc1tpM10sIHZlcnRpY2VzW2kzICsgMV0sIHZlcnRpY2VzW2kzICsgMl0pO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi5cclxuICAgKiBAbWV0aG9kIGdldFdvcmxkVmVydGV4XHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gcG9zXHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGdldFdvcmxkVmVydGV4KGksIHBvcywgcXVhdCwgb3V0KSB7XG4gICAgdGhpcy5nZXRWZXJ0ZXgoaSwgb3V0KTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zLCBxdWF0LCBvdXQsIG91dCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLlxyXG4gICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVWZXJ0aWNlc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGFcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBiXHJcbiAgICogQHBhcmFtICB7VmVjM30gY1xyXG4gICAqL1xuXG5cbiAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7XG4gICAgY29uc3QgaTMgPSBpICogMztcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7XG4gICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0cmlhbmdsZSBpLlxyXG4gICAqIEBtZXRob2QgZ2V0Tm9ybWFsXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICogQHJldHVybiB7VmVjM30gVGhlIFwidGFyZ2V0XCIgdmVjdG9yIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgZ2V0Tm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQodGhpcy5ub3JtYWxzW2kzXSwgdGhpcy5ub3JtYWxzW2kzICsgMV0sIHRoaXMubm9ybWFsc1tpMyArIDJdKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcInRhcmdldFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhXG4gICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGNsaV9hYWJiKTtcbiAgICBjb25zdCB4ID0gY2xpX2FhYmIudXBwZXJCb3VuZC54IC0gY2xpX2FhYmIubG93ZXJCb3VuZC54O1xuICAgIGNvbnN0IHkgPSBjbGlfYWFiYi51cHBlckJvdW5kLnkgLSBjbGlfYWFiYi5sb3dlckJvdW5kLnk7XG4gICAgY29uc3QgeiA9IGNsaV9hYWJiLnVwcGVyQm91bmQueiAtIGNsaV9hYWJiLmxvd2VyQm91bmQuejtcbiAgICByZXR1cm4gdGFyZ2V0LnNldCgxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaFxyXG4gICAqIEBtZXRob2QgY29tcHV0ZUxvY2FsQUFCQlxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKi9cblxuXG4gIGNvbXB1dGVMb2NhbEFBQkIoYWFiYikge1xuICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDtcbiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydDtcbiAgICB0aGlzLmdldFZlcnRleCgwLCB2KTtcbiAgICBsLmNvcHkodik7XG4gICAgdS5jb3B5KHYpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykge1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7XG5cbiAgICAgIGlmICh2LnggPCBsLngpIHtcbiAgICAgICAgbC54ID0gdi54O1xuICAgICAgfSBlbHNlIGlmICh2LnggPiB1LngpIHtcbiAgICAgICAgdS54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAodi55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHYueTtcbiAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7XG4gICAgICAgIHUueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueiA8IGwueikge1xuICAgICAgICBsLnogPSB2Lno7XG4gICAgICB9IGVsc2UgaWYgKHYueiA+IHUueikge1xuICAgICAgICB1LnogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgLmFhYmIgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUFBQkJcclxuICAgKi9cblxuXG4gIHVwZGF0ZUFBQkIoKSB7XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7XG4gIH1cbiAgLyoqXHJcbiAgICogV2lsbCB1cGRhdGUgdGhlIC5ib3VuZGluZ1NwaGVyZVJhZGl1cyBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXJcbiAgICBsZXQgbWF4MiA9IDA7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSB2ZXJ0aWNlcy5sZW5ndGggLyAzOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xuICAgICAgY29uc3Qgbm9ybTIgPSB2Lmxlbmd0aFNxdWFyZWQoKTtcblxuICAgICAgaWYgKG5vcm0yID4gbWF4Mikge1xuICAgICAgICBtYXgyID0gbm9ybTI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvc1xyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW5cclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXhcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLypcclxuICAgICAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLyAzLFxyXG4gICAgICAgICAgICB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XHJcbiAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7XHJcbiAgICAgICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4O1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xyXG4gICAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xyXG4gICAgICAgICAgICBwb3MudmFkZCh2LCB2KTtcclxuICAgICAgICAgICAgaWYgKHYueCA8IG1pbnggfHwgbWlueD09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtaW54ID0gdi54O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1heHggPSB2Lng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodi55IDwgbWlueSB8fCBtaW55PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWF4eSA9IHYueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICh2LnogPCBtaW56IHx8IG1pbno9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWlueiA9IHYuejtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtYXh6ID0gdi56O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1pbi5zZXQobWlueCxtaW55LG1pbnopO1xyXG4gICAgICAgIG1heC5zZXQobWF4eCxtYXh5LG1heHopO1xyXG4gICAgICAgICovXG4gICAgLy8gRmFzdGVyIGFwcHJveGltYXRpb24gdXNpbmcgbG9jYWwgQUFCQlxuICAgIGNvbnN0IGZyYW1lID0gY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiO1xuICAgIGZyYW1lLnBvc2l0aW9uID0gcG9zO1xuICAgIGZyYW1lLnF1YXRlcm5pb24gPSBxdWF0O1xuICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7XG4gICAgbWluLmNvcHkocmVzdWx0Lmxvd2VyQm91bmQpO1xuICAgIG1heC5jb3B5KHJlc3VsdC51cHBlckJvdW5kKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lXHJcbiAgICogQG1ldGhvZCB2b2x1bWVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG5cbn1cbmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgdW5zY2FsZWRBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGdldEVkZ2VWZWN0b3JfdmEgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXNcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxcclxuICogQHBhcmFtIHtWZWMzfSB2YVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZiXHJcbiAqIEBwYXJhbSB7VmVjM30gdmNcclxuICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICovXG5cbmNvbnN0IGNiID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFiID0gbmV3IFZlYzMoKTtcblxuVHJpbWVzaC5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4ge1xuICB2Yi52c3ViKHZhLCBhYik7XG4gIHZjLnZzdWIodmIsIGNiKTtcbiAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7XG5cbiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHtcbiAgICB0YXJnZXQubm9ybWFsaXplKCk7XG4gIH1cbn07XG5cbmNvbnN0IHZhID0gbmV3IFZlYzMoKTtcbmNvbnN0IHZiID0gbmV3IFZlYzMoKTtcbmNvbnN0IHZjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNsaV9hYWJiID0gbmV3IEFBQkIoKTtcbmNvbnN0IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTtcbmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiID0gbmV3IEFBQkIoKTtcbi8qKlxyXG4gKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy5cclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNyZWF0ZVRvcnVzXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFt0dWJlPTAuNV1cclxuICogQHBhcmFtICB7bnVtYmVyfSBbcmFkaWFsU2VnbWVudHM9OF1cclxuICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW2FyYz02LjI4MzE4NTMwNzE3OTU4Nl1cclxuICogQHJldHVybiB7VHJpbWVzaH0gQSB0b3J1c1xyXG4gKi9cblxuVHJpbWVzaC5jcmVhdGVUb3J1cyA9IChyYWRpdXMgPSAxLCB0dWJlID0gMC41LCByYWRpYWxTZWdtZW50cyA9IDgsIHR1YnVsYXJTZWdtZW50cyA9IDYsIGFyYyA9IE1hdGguUEkgKiAyKSA9PiB7XG4gIGNvbnN0IHZlcnRpY2VzID0gW107XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IHUgPSBpIC8gdHVidWxhclNlZ21lbnRzICogYXJjO1xuICAgICAgY29uc3QgdiA9IGogLyByYWRpYWxTZWdtZW50cyAqIE1hdGguUEkgKiAyO1xuICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7XG4gICAgICBjb25zdCB5ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLnNpbih1KTtcbiAgICAgIGNvbnN0IHogPSB0dWJlICogTWF0aC5zaW4odik7XG4gICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykge1xuICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTtcbiAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7XG4gICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7XG4gICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7XG4gICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7XG4gICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcbn07XG5cbi8qKlxyXG4gKiBDb25zdHJhaW50IGVxdWF0aW9uIHNvbHZlciBiYXNlIGNsYXNzLlxyXG4gKiBAY2xhc3MgU29sdmVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU29sdmVyIHtcbiAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWRcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyFcclxuICAgKiBAbWV0aG9kIHNvbHZlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkdFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkXHJcbiAgICovXG5cblxuICBzb2x2ZShkdCwgd29ybGQpIHtcbiAgICByZXR1cm4gKC8vIFNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZiBpdGVyYXRpb25zIGRvbmUhXG4gICAgICAwXG4gICAgKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIGFkZEVxdWF0aW9uKGVxKSB7XG4gICAgaWYgKGVxLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIHJlbW92ZUVxdWF0aW9uKGVxKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG4gICAgY29uc3QgaSA9IGVxcy5pbmRleE9mKGVxKTtcblxuICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgZXFzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGFsbCBlcXVhdGlvbnNcclxuICAgKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9uc1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQWxsRXF1YXRpb25zKCkge1xuICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uc3RyYWludCBlcXVhdGlvbiBHYXVzcy1TZWlkZWwgc29sdmVyLlxyXG4gKiBAY2xhc3MgR1NTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEB0b2RvIFRoZSBzcG9vayBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIGVhY2ggY29uc3RyYWludCwgbm90IGdsb2JhbGx5LlxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGZcclxuICogQGV4dGVuZHMgU29sdmVyXHJcbiAqL1xuY2xhc3MgR1NTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZVxyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWRcclxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIGxldCBpdGVyID0gMDtcbiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IHRvbFNxdWFyZWQgPSB0aGlzLnRvbGVyYW5jZSAqIHRoaXMudG9sZXJhbmNlO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGggPSBkdDtcbiAgICBsZXQgQjtcbiAgICBsZXQgaW52QztcbiAgICBsZXQgZGVsdGFsYW1iZGE7XG4gICAgbGV0IGRlbHRhbGFtYmRhVG90O1xuICAgIGxldCBHV2xhbWJkYTtcbiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3NcblxuICAgIGlmIChOZXEgIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG5cblxuICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7XG4gICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CcztcbiAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7XG4gICAgaW52Q3MubGVuZ3RoID0gTmVxO1xuICAgIEJzLmxlbmd0aCA9IE5lcTtcbiAgICBsYW1iZGEubGVuZ3RoID0gTmVxO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gZXF1YXRpb25zW2ldO1xuICAgICAgbGFtYmRhW2ldID0gMC4wO1xuICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpO1xuICAgICAgaW52Q3NbaV0gPSAxLjAgLyBjLmNvbXB1dGVDKCk7XG4gICAgfVxuXG4gICAgaWYgKE5lcSAhPT0gMCkge1xuICAgICAgLy8gUmVzZXQgdmxhbWJkYVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhO1xuICAgICAgICBjb25zdCB3bGFtYmRhID0gYi53bGFtYmRhO1xuICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTtcbiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7XG4gICAgICB9IC8vIEl0ZXJhdGUgb3ZlciBlcXVhdGlvbnNcblxuXG4gICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHtcbiAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXG4gICAgICAgICAgQiA9IEJzW2pdO1xuICAgICAgICAgIGludkMgPSBpbnZDc1tqXTtcbiAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdO1xuICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTtcbiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWxcblxuICAgICAgICAgIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPCBjLm1pbkZvcmNlKSB7XG4gICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkge1xuICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1heEZvcmNlIC0gbGFtYmRhajtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7XG4gICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKVxuXG4gICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpO1xuICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGVcblxuXG4gICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHlcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICAgIGNvbnN0IHYgPSBiLnZlbG9jaXR5O1xuICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpO1xuICAgICAgICB2LnZhZGQoYi52bGFtYmRhLCB2KTtcbiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpO1xuICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTtcbiAgICAgIH0gLy8gU2V0IHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uXG5cblxuICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDtcblxuICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbn1cbmNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOyAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBzb2x2ZS5cblxuY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTtcbmNvbnN0IEdTU29sdmVyX3NvbHZlX0JzID0gW107XG5cbi8qKlxyXG4gKiBTcGxpdHMgdGhlIGVxdWF0aW9ucyBpbnRvIGlzbGFuZHMgYW5kIHNvbHZlcyB0aGVtIGluZGVwZW5kZW50bHkuIENhbiBpbXByb3ZlIHBlcmZvcm1hbmNlLlxyXG4gKiBAY2xhc3MgU3BsaXRTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNvbHZlclxyXG4gKiBAcGFyYW0ge1NvbHZlcn0gc3Vic29sdmVyXHJcbiAqL1xuY2xhc3MgU3BsaXRTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcihzdWJzb2x2ZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgICB0aGlzLnN1YnNvbHZlciA9IHN1YnNvbHZlcjtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5ub2RlUG9vbCA9IFtdOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZVxuXG4gICAgd2hpbGUgKHRoaXMubm9kZVBvb2wubGVuZ3RoIDwgMTI4KSB7XG4gICAgICB0aGlzLm5vZGVQb29sLnB1c2godGhpcy5jcmVhdGVOb2RlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU5vZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBlcXM6IFtdLFxuICAgICAgdmlzaXRlZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8qKlxyXG4gICAqIFNvbHZlIHRoZSBzdWJzeXN0ZW1zXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxyXG4gICAqL1xuXG5cbiAgc29sdmUoZHQsIHdvcmxkKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9ub2RlcztcbiAgICBjb25zdCBub2RlUG9vbCA9IHRoaXMubm9kZVBvb2w7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgTmJvZGllcyA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc3Vic29sdmVyID0gdGhpcy5zdWJzb2x2ZXI7IC8vIENyZWF0ZSBuZWVkZWQgbm9kZXMsIHJldXNlIGlmIHBvc3NpYmxlXG5cbiAgICB3aGlsZSAobm9kZVBvb2wubGVuZ3RoIDwgTmJvZGllcykge1xuICAgICAgbm9kZVBvb2wucHVzaCh0aGlzLmNyZWF0ZU5vZGUoKSk7XG4gICAgfVxuXG4gICAgbm9kZXMubGVuZ3RoID0gTmJvZGllcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTmJvZGllczsgaSsrKSB7XG4gICAgICBub2Rlc1tpXSA9IG5vZGVQb29sW2ldO1xuICAgIH0gLy8gUmVzZXQgbm9kZSB2YWx1ZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgbm9kZS5lcXMubGVuZ3RoID0gMDtcbiAgICAgIG5vZGUudmlzaXRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOZXE7IGsrKykge1xuICAgICAgY29uc3QgZXEgPSBlcXVhdGlvbnNba107XG4gICAgICBjb25zdCBpID0gYm9kaWVzLmluZGV4T2YoZXEuYmkpO1xuICAgICAgY29uc3QgaiA9IGJvZGllcy5pbmRleE9mKGVxLmJqKTtcbiAgICAgIGNvbnN0IG5pID0gbm9kZXNbaV07XG4gICAgICBjb25zdCBuaiA9IG5vZGVzW2pdO1xuICAgICAgbmkuY2hpbGRyZW4ucHVzaChuaik7XG4gICAgICBuaS5lcXMucHVzaChlcSk7XG4gICAgICBuai5jaGlsZHJlbi5wdXNoKG5pKTtcbiAgICAgIG5qLmVxcy5wdXNoKGVxKTtcbiAgICB9XG5cbiAgICBsZXQgY2hpbGQ7XG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCBlcXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9lcXM7XG4gICAgc3Vic29sdmVyLnRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIHN1YnNvbHZlci5pdGVyYXRpb25zID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IGR1bW15V29ybGQgPSBTcGxpdFNvbHZlcl9zb2x2ZV9kdW1teVdvcmxkO1xuXG4gICAgd2hpbGUgKGNoaWxkID0gZ2V0VW52aXNpdGVkTm9kZShub2RlcykpIHtcbiAgICAgIGVxcy5sZW5ndGggPSAwO1xuICAgICAgZHVtbXlXb3JsZC5ib2RpZXMubGVuZ3RoID0gMDtcbiAgICAgIGJmcyhjaGlsZCwgdmlzaXRGdW5jLCBkdW1teVdvcmxkLmJvZGllcywgZXFzKTtcbiAgICAgIGNvbnN0IE5lcXMgPSBlcXMubGVuZ3RoO1xuICAgICAgZXFzID0gZXFzLnNvcnQoc29ydEJ5SWQpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxczsgaSsrKSB7XG4gICAgICAgIHN1YnNvbHZlci5hZGRFcXVhdGlvbihlcXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVyID0gc3Vic29sdmVyLnNvbHZlKGR0LCBkdW1teVdvcmxkKTtcbiAgICAgIHN1YnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcbiAgICAgIG4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuXG59IC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBzdWJzeXN0ZW1zXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzID0gW107IC8vIEFsbCBhbGxvY2F0ZWQgbm9kZSBvYmplY3RzXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2VxcyA9IFtdOyAvLyBUZW1wIGFycmF5XG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQgPSB7XG4gIGJvZGllczogW11cbn07IC8vIFRlbXAgb2JqZWN0XG5cbmNvbnN0IFNUQVRJQyA9IEJvZHkuU1RBVElDO1xuXG5mdW5jdGlvbiBnZXRVbnZpc2l0ZWROb2RlKG5vZGVzKSB7XG4gIGNvbnN0IE5ub2RlcyA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTm5vZGVzOyBpKyspIHtcbiAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG5cbiAgICBpZiAoIW5vZGUudmlzaXRlZCAmJiAhKG5vZGUuYm9keS50eXBlICYgU1RBVElDKSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiBiZnMocm9vdCwgdmlzaXRGdW5jLCBiZHMsIGVxcykge1xuICBxdWV1ZS5wdXNoKHJvb3QpO1xuICByb290LnZpc2l0ZWQgPSB0cnVlO1xuICB2aXNpdEZ1bmMocm9vdCwgYmRzLCBlcXMpO1xuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7IC8vIExvb3Agb3ZlciB1bnZpc2l0ZWQgY2hpbGQgbm9kZXNcblxuICAgIGxldCBjaGlsZDtcblxuICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgdmlzaXRGdW5jKGNoaWxkLCBiZHMsIGVxcyk7XG4gICAgICBxdWV1ZS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlzaXRGdW5jKG5vZGUsIGJkcywgZXFzKSB7XG4gIGJkcy5wdXNoKG5vZGUuYm9keSk7XG4gIGNvbnN0IE5lcXMgPSBub2RlLmVxcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykge1xuICAgIGNvbnN0IGVxID0gbm9kZS5lcXNbaV07XG5cbiAgICBpZiAoIWVxcy5pbmNsdWRlcyhlcSkpIHtcbiAgICAgIGVxcy5wdXNoKGVxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5SWQoYSwgYikge1xuICByZXR1cm4gYi5pZCAtIGEuaWQ7XG59XG5cbi8qKlxyXG4gKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC5cclxuICogQGNsYXNzIFBvb2xcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgUG9vbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub2JqZWN0cyA9IFtdO1xuICAgIHRoaXMudHlwZSA9IE9iamVjdDtcbiAgfVxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2VcclxuICAgKiBAbWV0aG9kIHJlbGVhc2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAgICovXG5cblxuICByZWxlYXNlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBOYXJncyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHtcbiAgICAgIHRoaXMub2JqZWN0cy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBvYmplY3RcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEByZXR1cm4ge21peGVkfVxyXG4gICAqL1xuXG5cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuXHJcbiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3RcclxuICAgKiBAcmV0dXJuIHttaXhlZH1cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgcmVzaXplXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcclxuICAgKiBAcmV0dXJuIHtQb29sfSBTZWxmLCBmb3IgY2hhaW5pbmdcclxuICAgKi9cblxuXG4gIHJlc2l6ZShzaXplKSB7XG4gICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblxuICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA+IHNpemUpIHtcbiAgICAgIG9iamVjdHMucG9wKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkge1xuICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEBjbGFzcyBWZWMzUG9vbFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgUG9vbFxyXG4gKi9cblxuY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBWZWMzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIHZlY3RvclxyXG4gICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFZlYzMoKTtcbiAgfVxuXG59XG5cbmNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHtcbiAgc3BoZXJlU3BoZXJlOiBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSxcbiAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsXG4gIHNwaGVyZUJveDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQk9YLFxuICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsXG4gIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlQ29udmV4OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZUhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBzcGhlcmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsXG4gIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSxcbiAgY29udmV4UGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlVHJpbWVzaDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuVFJJTUVTSCxcbiAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0hcbn07XG5cbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuXHJcbiAqIEBjbGFzcyBOYXJyb3dwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHNcclxuICogQHRvZG8gQ29udGFjdCByZWR1Y3Rpb25cclxuICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGVcclxuICovXG5jbGFzcyBOYXJyb3dwaGFzZSB7XG4gIC8vIEludGVybmFsIHN0b3JhZ2Ugb2YgcG9vbGVkIGNvbnRhY3QgcG9pbnRzLlxuICAvLyBQb29sZWQgdmVjdG9ycy5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107XG4gICAgdGhpcy5yZXN1bHQgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gW107XG4gICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogTWFrZSBhIGNvbnRhY3Qgb2JqZWN0LCBieSB1c2luZyB0aGUgaW50ZXJuYWwgcG9vbCBvciBjcmVhdGluZyBhIG5ldyBvbmUuXHJcbiAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb25cclxuICAgKiBAcGFyYW0ge0JvZHl9IGJpXHJcbiAgICogQHBhcmFtIHtCb2R5fSBialxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNpXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2pcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQVxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCXHJcbiAgICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHtcbiAgICBsZXQgYztcblxuICAgIGlmICh0aGlzLmNvbnRhY3RQb2ludFBvb2wubGVuZ3RoKSB7XG4gICAgICBjID0gdGhpcy5jb250YWN0UG9pbnRQb29sLnBvcCgpO1xuICAgICAgYy5iaSA9IGJpO1xuICAgICAgYy5iaiA9IGJqO1xuICAgIH0gZWxzZSB7XG4gICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopO1xuICAgIH1cblxuICAgIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsO1xuICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcbiAgICBjLnNldFNwb29rUGFyYW1zKGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwgdGhpcy53b3JsZC5kdCk7XG4gICAgY29uc3QgbWF0QSA9IHNpLm1hdGVyaWFsIHx8IGJpLm1hdGVyaWFsO1xuICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDtcblxuICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkge1xuICAgICAgYy5yZXN0aXR1dGlvbiA9IG1hdEEucmVzdGl0dXRpb24gKiBtYXRCLnJlc3RpdHV0aW9uO1xuICAgIH1cblxuICAgIGMuc2kgPSBvdmVycmlkZVNoYXBlQSB8fCBzaTtcbiAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBjcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGNvbnRhY3RFcXVhdGlvbiwgb3V0QXJyYXkpIHtcbiAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTtcbiAgICBjb25zdCBib2R5QiA9IGNvbnRhY3RFcXVhdGlvbi5iajtcbiAgICBjb25zdCBzaGFwZUEgPSBjb250YWN0RXF1YXRpb24uc2k7XG4gICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqO1xuICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZDtcbiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDsgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbVxuXG4gICAgbGV0IGZyaWN0aW9uID0gY20uZnJpY3Rpb247XG4gICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDtcbiAgICBjb25zdCBtYXRCID0gc2hhcGVCLm1hdGVyaWFsIHx8IGJvZHlCLm1hdGVyaWFsO1xuXG4gICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLmZyaWN0aW9uID49IDAgJiYgbWF0Qi5mcmljdGlvbiA+PSAwKSB7XG4gICAgICBmcmljdGlvbiA9IG1hdEEuZnJpY3Rpb24gKiBtYXRCLmZyaWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChmcmljdGlvbiA+IDApIHtcbiAgICAgIC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zXG4gICAgICBjb25zdCBtdWcgPSBmcmljdGlvbiAqIHdvcmxkLmdyYXZpdHkubGVuZ3RoKCk7XG4gICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzcztcblxuICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkge1xuICAgICAgICByZWR1Y2VkTWFzcyA9IDEgLyByZWR1Y2VkTWFzcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcG9vbCA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpO1xuICAgICAgY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTtcbiAgICAgIGMxLmJpID0gYzIuYmkgPSBib2R5QTtcbiAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjtcbiAgICAgIGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnICogcmVkdWNlZE1hc3M7XG4gICAgICBjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnICogcmVkdWNlZE1hc3M7IC8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9yc1xuXG4gICAgICBjMS5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7XG4gICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMi5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7IC8vIENvbnN0cnVjdCB0YW5nZW50c1xuXG4gICAgICBjb250YWN0RXF1YXRpb24ubmkudGFuZ2VudHMoYzEudCwgYzIudCk7IC8vIFNldCBzcG9vayBwYXJhbXNcblxuICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTtcbiAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7XG4gICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGNvbnRhY3RFcXVhdGlvbi5lbmFibGVkO1xuICAgICAgb3V0QXJyYXkucHVzaChjMSwgYzIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFRha2UgdGhlIGF2ZXJhZ2UgTiBsYXRlc3QgY29udGFjdCBwb2ludCBvbiB0aGUgcGxhbmUuXG5cblxuICBjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSB7XG4gICAgLy8gVGhlIGxhc3QgY29udGFjdEVxdWF0aW9uXG4gICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byBcImF2ZXJhZ2VcIiBmcmljdGlvbiBlcXVhdGlvbnNcblxuICAgIGlmICghdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpIHx8IG51bUNvbnRhY3RzID09PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZjIgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgYXZlcmFnZU5vcm1hbC5zZXRaZXJvKCk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNldFplcm8oKTtcbiAgICBjb25zdCBib2R5QSA9IGMuYmk7XG4gICAgY29uc3QgYm9keUIgPSBjLmJqO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG51bUNvbnRhY3RzOyBpKyspIHtcbiAgICAgIGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgIGlmIChjLmJpICE9PSBib2R5QSkge1xuICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEEpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2ZXJhZ2VOb3JtYWwudnN1YihjLm5pLCBhdmVyYWdlTm9ybWFsKTtcbiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJqKTtcbiAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lXG5cbiAgICBmMi5yai5jb3B5KGYxLnJqKTtcbiAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgIGF2ZXJhZ2VOb3JtYWwudGFuZ2VudHMoZjEudCwgZjIudCk7IC8vIHJldHVybiBlcTtcbiAgfVxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhbGwgY29udGFjdHMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9keSBwYWlyc1xyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMiBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBvbGRjb250YWN0cyBPcHRpb25hbC4gQXJyYXkgb2YgcmV1c2FibGUgY29udGFjdCBvYmplY3RzXHJcbiAgICovXG5cblxuICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7XG4gICAgLy8gU2F2ZSBvbGQgY29udGFjdCBvYmplY3RzXG4gICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDtcbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7XG4gICAgY29uc3QgcWkgPSB0bXBRdWF0MTtcbiAgICBjb25zdCBxaiA9IHRtcFF1YXQyO1xuICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyO1xuICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyO1xuXG4gICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGJvZGllc1xuICAgICAgY29uc3QgYmkgPSBwMVtrXTtcbiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsXG5cbiAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGJvZHlDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBqdXN0VGVzdCA9IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5TVEFUSUMgfHwgYmkudHlwZSAmIEJvZHkuU1RBVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQyB8fCBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpLnNoYXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTtcbiAgICAgICAgeGkudmFkZChiaS5wb3NpdGlvbiwgeGkpO1xuICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIC8vIENvbXB1dGUgd29ybGQgdHJhbnNmb3JtIG9mIHNoYXBlc1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopO1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7XG4gICAgICAgICAgeGoudmFkZChiai5wb3NpdGlvbiwgeGopO1xuICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdO1xuXG4gICAgICAgICAgaWYgKCEoc2kuY29sbGlzaW9uRmlsdGVyTWFzayAmIHNqLmNvbGxpc2lvbkZpbHRlckdyb3VwICYmIHNqLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzaS5jb2xsaXNpb25GaWx0ZXJHcm91cCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbFxuXG5cbiAgICAgICAgICBsZXQgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHNpLm1hdGVyaWFsICYmIHNqLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gc2hhcGVDb250YWN0TWF0ZXJpYWwgfHwgYm9keUNvbnRhY3RNYXRlcmlhbCB8fCB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOyAvLyBHZXQgY29udGFjdHNcblxuICAgICAgICAgIGNvbnN0IHJlc29sdmVySW5kZXggPSBzaS50eXBlIHwgc2oudHlwZTtcbiAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXNbcmVzb2x2ZXJJbmRleF07XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGVcbiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICAvLyAoaS5lLiBsYXJnZXIgaW50ZWdlciB2YWx1ZSB0eXBlIGZpcnN0IGluc3RlYWQgb2Ygc21hbGxlciBmaXJzdClcblxuICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkge1xuICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdmVybGFwXG4gICAgICAgICAgICAgIHdvcmxkLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTtcbiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICByZXR1cm4geGkuZGlzdGFuY2VTcXVhcmVkKHhqKSA8IChzaS5yYWRpdXMgKyBzai5yYWRpdXMpICoqIDI7XG4gICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2VcblxuXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICB4ai52c3ViKHhpLCByLm5pKTtcbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9uc1xuXG4gICAgci5yaS5jb3B5KHIubmkpO1xuICAgIHIucmouY29weShyLm5pKTtcbiAgICByLnJpLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7XG4gICAgci5yai5zY2FsZSgtc2oucmFkaXVzLCByLnJqKTtcbiAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICB9XG5cbiAgc3BoZXJlUGxhbmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBXZSB3aWxsIGhhdmUgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICByLm5pLnNldCgwLCAwLCAxKTtcbiAgICBxai52bXVsdChyLm5pLCByLm5pKTtcbiAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gYm9keSBpIGlzIHRoZSBzcGhlcmUsIGZsaXAgbm9ybWFsXG5cbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/XG4gICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50XG5cbiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmVcblxuICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7XG4gICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pO1xuICAgIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS52c3ViKHBsYW5lX3RvX3NwaGVyZV9vcnRobywgci5yaik7IC8vIFRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHBsYW5lXG5cbiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuXG4gICAgICBjb25zdCByaSA9IHIucmk7XG4gICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gICAgICByai52YWRkKHhqLCByaik7XG4gICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGJveEJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBzcGhlcmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsgLy8gd2UgcmVmZXIgdG8gdGhlIGJveCBhcyBib2R5IGpcblxuICAgIGNvbnN0IHNpZGVzID0gc3BoZXJlQm94X3NpZGVzO1xuICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpO1xuICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7XG4gICAgY29uc3QgUiA9IHNpLnJhZGl1cztcblxuICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBTdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgcGVuZXRyYXRpb24gaW5mb1xuXG4gICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zO1xuICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxO1xuICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyO1xuICAgIGxldCBzaWRlX2ggPSBudWxsO1xuICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7XG4gICAgbGV0IHNpZGVfZG90MSA9IDA7XG4gICAgbGV0IHNpZGVfZG90MiA9IDA7XG4gICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucylcbiAgICAgIGNvbnN0IG5zID0gc3BoZXJlQm94X25zO1xuICAgICAgbnMuY29weShzaWRlc1tpZHhdKTtcbiAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTtcbiAgICAgIG5zLm5vcm1hbGl6ZSgpOyAvLyBUaGUgbm9ybWFsL2Rpc3RhbmNlIGRvdCBwcm9kdWN0IHRlbGxzIHdoaWNoIHNpZGUgb2YgdGhlIHBsYW5lIHdlIGFyZVxuXG4gICAgICBjb25zdCBkb3QgPSBib3hfdG9fc3BoZXJlLmRvdChucyk7XG5cbiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTtcbiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjtcbiAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pO1xuICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7XG4gICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpO1xuICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTtcbiAgICAgICAgbnMxLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuczIubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpO1xuICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTtcblxuICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMoZG90IC0gaCAtIFIpO1xuXG4gICAgICAgICAgaWYgKHNpZGVfZGlzdGFuY2UgPT09IG51bGwgfHwgZGlzdCA8IHNpZGVfZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTtcbiAgICAgICAgICAgIHNpZGVfZG90MiA9IGRvdDI7XG4gICAgICAgICAgICBzaWRlX2ggPSBoO1xuICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTtcbiAgICAgICAgICAgIHNpZGVfbnMxLmNvcHkobnMxKTtcbiAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTtcbiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7XG5cbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByXG5cbiAgICAgIHIubmkuY29weShzaWRlX25zKTtcbiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgc2hvdWxkIGJlIG91dCBvZiBzcGhlcmVcblxuICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9IC8vIENoZWNrIGNvcm5lcnNcblxuXG4gICAgbGV0IHJqID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjtcblxuICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykge1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCAhPT0gMiAmJiAhZm91bmQ7IGwrKykge1xuICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTtcblxuICAgICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaykge1xuICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmoudnN1YihzaWRlc1syXSwgcmopO1xuICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyXG5cblxuICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpO1xuICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7XG5cbiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTtcbiAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7XG4gICAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpO1xuICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjNwb29sLnJlbGVhc2UocmopO1xuICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXNcblxuICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IGVkZ2VDZW50ZXIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXJcblxuICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTnNpZGVzICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7XG4gICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHtcbiAgICAgICAgICAvLyBHZXQgZWRnZSB0YW5nZW50XG4gICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTtcbiAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBzaWRlc1tqXS52YWRkKHNpZGVzW2tdLCBlZGdlQ2VudGVyKTtcbiAgICAgICAgICByLmNvcHkoeGkpO1xuICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTtcbiAgICAgICAgICByLnZzdWIoeGosIHIpO1xuICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvblxuXG4gICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmVcblxuICAgICAgICAgIGxldCBsID0gMDtcblxuICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykge1xuICAgICAgICAgICAgbCsrO1xuICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50XG5cblxuICAgICAgICAgIGRpc3QuY29weSh4aSk7XG4gICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpO1xuICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTtcbiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0XG5cbiAgICAgICAgICBjb25zdCB0ZGlzdCA9IE1hdGguYWJzKG9ydGhvbm9ybSk7XG4gICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpO1xuXG4gICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7XG4gICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqXG5cbiAgICAgICAgICAgIHJlcy5yai5jb3B5KHJlcy5yaik7XG4gICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpO1xuICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmVzLnJpLmNvcHkocmVzLnJqKTtcbiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTtcbiAgICAgICAgICAgIHJlcy5yai52YWRkKHhqLCByZXMucmopO1xuICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QocmVzLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7XG4gIH1cblxuICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkO1xuICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4KHNpLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0Qikge1xuICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcblxuICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7XG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTtcbiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpO1xuICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpO1xuICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuXG4gICAgICAgIHJpLnZzdWIoeGksIHJpKTtcbiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDtcbiAgICB4aS52c3ViKHhqLCBjb252ZXhfdG9fc3BoZXJlKTtcbiAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgZmFjZXMgPSBzai5mYWNlcztcbiAgICBjb25zdCB2ZXJ0cyA9IHNqLnZlcnRpY2VzO1xuICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gQ2hlY2sgY29ybmVyc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lclxuXG4gICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjtcbiAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTtcbiAgICAgIHhqLnZhZGQod29ybGRDb3JuZXIsIHdvcmxkQ29ybmVyKTtcbiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7XG4gICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTtcblxuICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7XG4gICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuY29weShyLnJpKTtcbiAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTtcbiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBDaGVjayBzaWRlIChwbGFuZSkgaW50ZXJzZWN0aW9uc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbCA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7XG4gICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50O1xuICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpO1xuICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWxcblxuICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTtcbiAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpO1xuICAgICAgeGkudmFkZCh3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7IC8vIFZlY3RvciBmcm9tIGEgZmFjZSBwb2ludCB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3BoZXJlXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjO1xuICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7XG4gICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7XG5cbiAgICAgIGlmIChwZW5ldHJhdGlvbiA8IDAgJiYgd29ybGRQb2ludFRvU3BoZXJlLmRvdCh3b3JsZE5vcm1hbCkgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uXG4gICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHNcblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7XG4gICAgICAgICAgY29uc3Qgd29ybGRWZXJ0ZXggPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTtcbiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7XG4gICAgICAgICAgZmFjZVZlcnRzLnB1c2god29ybGRWZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkge1xuICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3RcblxuICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmVcblxuICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7XG4gICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopO1xuXG4gICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7XG4gICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopO1xuICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblZlYzIsIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpO1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpO1xuICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVkZ2U/XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIEdldCB0d28gd29ybGQgdHJhbnNmb3JtZWQgdmVydGljZXNcbiAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMSkgJSBmYWNlLmxlbmd0aF1dLCB2MSk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7XG4gICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7XG4gICAgICAgICAgICB4ai52YWRkKHYyLCB2Mik7IC8vIENvbnN0cnVjdCBlZGdlIHZlY3RvclxuXG4gICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7XG4gICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWRcblxuICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7XG4gICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlXG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCB2MV90b194aSA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTtcbiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7XG4gICAgICAgICAgICBlZGdlVW5pdC5zY2FsZShkb3QsIHApO1xuICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlXG5cbiAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzXG4gICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MlxuXG4gICAgICAgICAgICBpZiAoZG90ID4gMCAmJiBkb3QgKiBkb3QgPCBlZGdlLmxlbmd0aFNxdWFyZWQoKSAmJiB4aV90b19wLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7XG4gICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IVxuICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgICAgICBwLnZzdWIoeGosIHIucmopO1xuICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpO1xuICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICByLm5pLnNjYWxlKFIsIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpO1xuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuXG4gICAgY29uc3Qgd29ybGRWZXJ0ZXggPSBwbGFuZUNvbnZleF92O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsO1xuICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBsZXQgbnVtQ29udGFjdHMgPSAwO1xuICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXhcbiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pO1xuICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkO1xuICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTtcbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7XG4gICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lXG4gICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4XG5cbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopO1xuICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIG51bUNvbnRhY3RzKys7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7XG4gICAgfVxuICB9XG5cbiAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgc3BoZXJlSGVpZ2h0ZmllbGQoc3BoZXJlU2hhcGUsIGhmU2hhcGUsIHNwaGVyZVBvcywgaGZQb3MsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhO1xuICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3hcblxuICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHMgPSByZXN1bHQubGVuZ3RoIC0gbnVtQ29udGFjdHNCZWZvcmU7XG5cbiAgICAgICAgaWYgKG51bUNvbnRhY3RzID4gMikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKlxyXG4gICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDFcclxuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbnVtQ29udGFjdHMgLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICByZXN1bHQucG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKi9cblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJveEhlaWdodGZpZWxkKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBjb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7XG4gICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7XG4gICAgY29uc3QgcmFkaXVzID0gY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7XG4gICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3Q7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbENvbnZleFBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIGNvbnZleFBvcywgbG9jYWxDb252ZXhQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UncmUgY2FudCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveFxuXG4gICAgaWYgKGxvY2FsQ29udmV4UG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxDb252ZXhQb3MueiArIHJhZGl1cyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZVxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlclxuICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlU3BoZXJlX25vcm1hbDtcbiAgICBub3JtYWwuc2V0KDAsIDAsIDEpO1xuICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7XG4gICAgY29uc3QgbGVuZ3RoU3F1YXJlZCA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICBpZiAobGVuZ3RoU3F1YXJlZCA8PSBzai5yYWRpdXMgKiBzai5yYWRpdXMpIHtcbiAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICByLnJqLmNvcHkobm9ybWFsKTtcbiAgICAgIHIucmouc2NhbGUoc2oucmFkaXVzLCByLnJqKTtcbiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGVcblxuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVQbGFuZV9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvcztcbiAgICB4aS52c3ViKGJqLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTtcblxuICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWxcblxuICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlXG4gICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkO1xuICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpO1xuICAgICAgeGkudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vcHJvamVjdGVkLnZhZGQoYmoucG9zaXRpb24scHJvamVjdGVkKTtcbiAgICAgIC8vIHJqIGlzIG5vdyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uXG5cbiAgICAgIHIucmouY29weShwcm9qZWN0ZWQpO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBsZXQgcGVuZXRyYXRlZEZhY2VJbmRleCA9IC0xO1xuICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7XG4gICAgY29uc3Qgd29ybGRQZW5ldHJhdGlvblZlYyA9IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWM7XG4gICAgbGV0IG1pblBlbmV0cmF0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IGxvY2FsID0gY29udmV4UGFydGljbGVfbG9jYWw7XG4gICAgbG9jYWwuY29weSh4aSk7XG4gICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luXG5cbiAgICBxai5jb25qdWdhdGUoY3FqKTtcbiAgICBjcWoudm11bHQobG9jYWwsIGxvY2FsKTtcblxuICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkge1xuICAgICAgaWYgKHNqLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSkge1xuICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2oud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlKSB7XG4gICAgICAgIHNqLmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHFqKTtcbiAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhXG5cblxuICAgICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IHNqLmZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzOyBpKyspIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXNcbiAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dO1xuICAgICAgICBjb25zdCBub3JtYWwgPSBzai53b3JsZEZhY2VOb3JtYWxzW2ldOyAvLyBDaGVjayBob3cgbXVjaCB0aGUgcGFydGljbGUgcGVuZXRyYXRlcyB0aGUgcG9seWdvbiBwbGFuZS5cblxuICAgICAgICB4aS52c3ViKHZlcnRzWzBdLCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcbiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcblxuICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLmNvcHkobm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGVuZXRyYXRlZEZhY2VJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gU2V0dXAgY29udGFjdFxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuc2NhbGUobWluUGVuZXRyYXRpb24sIHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvLyByaiBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBmYWNlXG5cbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52YWRkKHhpLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52c3ViKHhqLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7XG4gICAgICAgIC8vcHJvamVjdGVkVG9GYWNlLmNvcHkoci5yaik7XG4gICAgICAgIC8vcWoudm11bHQoci5yaixyLnJqKTtcblxuICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZVxuXG4gICAgICAgIGNvbnN0IHJpID0gci5yaTtcbiAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlVHJpbWVzaChzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBzcGhlcmVQb3MsIHRyaW1lc2hQb3MsIHNwaGVyZVF1YXQsIHRyaW1lc2hRdWF0LCBzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgZWRnZVZlcnRleEEgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBO1xuICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjtcbiAgICBjb25zdCBlZGdlVmVjdG9yID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yO1xuICAgIGNvbnN0IGVkZ2VWZWN0b3JVbml0ID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdDtcbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7XG4gICAgY29uc3QgdG1wID0gc3BoZXJlVHJpbWVzaF90bXA7XG4gICAgY29uc3QgbG9jYWxTcGhlcmVBQUJCID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkI7XG4gICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyO1xuICAgIGNvbnN0IHJlbHBvcyA9IHNwaGVyZVRyaW1lc2hfcmVscG9zO1xuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzOyAvLyBDb252ZXJ0IHNwaGVyZSBwb3NpdGlvbiB0byBsb2NhbCBpbiB0aGUgdHJpbWVzaFxuXG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBhYWJiIG9mIHRoZSBzcGhlcmUgbG9jYWxseSBpbiB0aGUgdHJpbWVzaFxuXG4gICAgY29uc3Qgc3BoZXJlUmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzO1xuICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTtcbiAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7XG4gICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlc0luQUFCQihsb2NhbFNwaGVyZUFBQkIsIHRyaWFuZ2xlcyk7IC8vZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHRyaWFuZ2xlcy5wdXNoKGkpOyAvLyBBbGxcbiAgICAvLyBWZXJ0aWNlc1xuXG4gICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjtcbiAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gc3BoZXJlU2hhcGUucmFkaXVzICogc3BoZXJlU2hhcGUucmFkaXVzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlXG5cbiAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHtcbiAgICAgICAgICAvLyBTYWZlIHVwXG4gICAgICAgICAgdjIuY29weSh2KTtcbiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTtcbiAgICAgICAgICB2LnZzdWIoc3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7XG4gICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsgLy8gcmkgaXMgdGhlIHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gdGhlIHNwaGVyZSBzdXJmYWNlXG5cbiAgICAgICAgICByLnJpLmNvcHkoci5uaSk7XG4gICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpO1xuICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICByLnJqLmNvcHkodik7XG4gICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgYWxsIGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpO1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyAoaiArIDEpICUgM10sIGVkZ2VWZXJ0ZXhCKTtcbiAgICAgICAgZWRnZVZlcnRleEIudnN1YihlZGdlVmVydGV4QSwgZWRnZVZlY3Rvcik7IC8vIFByb2plY3Qgc3BoZXJlIHBvc2l0aW9uIHRvIHRoZSBlZGdlXG5cbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QiwgdG1wKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTtcbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTtcbiAgICAgICAgbGV0IHBvc2l0aW9uQWxvbmdFZGdlQSA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uQWxvbmdFZGdlQSA+IDAgJiYgcG9zaXRpb25BbG9uZ0VkZ2VCIDwgMCkge1xuICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlclxuICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQuY29weShlZGdlVmVjdG9yKTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5zY2FsZShwb3NpdGlvbkFsb25nRWRnZUEsIHRtcCk7XG4gICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWVcblxuICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7XG5cbiAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApO1xuICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUcmlhbmdsZSBmYWNlc1xuXG5cbiAgICBjb25zdCB2YSA9IHNwaGVyZVRyaW1lc2hfdmE7XG4gICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiO1xuICAgIGNvbnN0IHZjID0gc3BoZXJlVHJpbWVzaF92YztcbiAgICBjb25zdCBub3JtYWwgPSBzcGhlcmVUcmltZXNoX25vcm1hbDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpO1xuICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7XG4gICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHZhLCB0bXApO1xuICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7XG4gICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTtcbiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodG1wLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSB0cmlhbmdsZSBwbGFuZVxuXG4gICAgICBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpO1xuXG4gICAgICBpZiAoUmF5LnBvaW50SW5UcmlhbmdsZSh0bXAsIHZhLCB2YiwgdmMpICYmIGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgci5uaS5ub3JtYWxpemUoKTtcbiAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTtcbiAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTtcbiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIHBsYW5lVHJpbWVzaChwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHBsYW5lUG9zLCB0cmltZXNoUG9zLCBwbGFuZVF1YXQsIHRyaW1lc2hRdWF0LCBwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBNYWtlIGNvbnRhY3RzIVxuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG5vcm1hbCA9IHBsYW5lVHJpbWVzaF9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2hcbiAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgoaSwgdik7IC8vIFNhZmUgdXBcblxuICAgICAgY29uc3QgdjIgPSBuZXcgVmVjMygpO1xuICAgICAgdjIuY29weSh2KTtcbiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOyAvLyBDaGVjayBwbGFuZSBzaWRlXG5cbiAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lVHJpbWVzaF9yZWxwb3M7XG4gICAgICB2LnZzdWIocGxhbmVQb3MsIHJlbHBvcyk7XG4gICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbFxuICAgICAgICAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZVxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQ7XG4gICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7XG4gICAgICAgIHYudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vIHJpIGlzIHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb25cblxuICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTtcbiAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmouY29weSh2KTtcbiAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBjb252ZXhUcmltZXNoKFxuICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sXG4gIC8vICAgYmk6IEJvZHksIGJqOiBCb2R5LCByc2k/OiBTaGFwZSB8IG51bGwsIHJzaj86IFNoYXBlIHwgbnVsbCxcbiAgLy8gICBmYWNlTGlzdEE/OiBudW1iZXJbXSB8IG51bGwsIGZhY2VMaXN0Qj86IG51bWJlcltdIHwgbnVsbCxcbiAgLy8gKSB7XG4gIC8vICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzO1xuICAvLyAgIGlmKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cyl7XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vICAgLy8gQ29uc3RydWN0IGEgdGVtcCBodWxsIGZvciBlYWNoIHRyaWFuZ2xlXG4gIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpO1xuICAvLyAgIGh1bGxCLmZhY2VzID0gW1swLDEsMl1dO1xuICAvLyAgIGNvbnN0IHZhID0gbmV3IFZlYzMoKTtcbiAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7XG4gIC8vICAgY29uc3QgdmMgPSBuZXcgVmVjMygpO1xuICAvLyAgIGh1bGxCLnZlcnRpY2VzID0gW1xuICAvLyAgICAgICB2YSxcbiAgLy8gICAgICAgdmIsXG4gIC8vICAgICAgIHZjXG4gIC8vICAgXTtcbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNqLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gIC8vICAgICAgIGNvbnN0IHRyaWFuZ2xlTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTtcbiAgLy8gICAgICAgaHVsbEIuZmFjZU5vcm1hbHMgPSBbdHJpYW5nbGVOb3JtYWxdO1xuICAvLyAgICAgICBzai5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIHZhLCB2YiwgdmMpO1xuICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICBpZighZCl7XG4gIC8vICAgICAgICAgICB0cmlhbmdsZU5vcm1hbC5zY2FsZSgtMSwgdHJpYW5nbGVOb3JtYWwpO1xuICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICAgICAgaWYoIWQpe1xuICAvLyAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAvLyAgICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICAgIGNvbnN0IHJlczogQ29udmV4UG9seWhlZHJvbkNvbnRhY3RQb2ludFtdID0gW107XG4gIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgLy8gICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLHFpLGh1bGxCLHhqLHFqLHRyaWFuZ2xlTm9ybWFsLC0xMDAsMTAwLHJlcyk7XG4gIC8vICAgICAgIGZvcihsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKyl7XG4gIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksXG4gIC8vICAgICAgICAgICAgICAgcmkgPSByLnJpLFxuICAvLyAgICAgICAgICAgICAgIHJqID0gci5yajtcbiAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7XG4gIC8vICAgICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgLy8gICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpO1xuICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7XG4gIC8vICAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gIC8vICAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7XG4gIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlXG4gIC8vICAgICAgICAgICByaS52c3ViKHhpLHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoeGoscmopO1xuICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcbiAgLy8gICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgLy8gICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgLy8gICAgICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAvLyAgICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG5cblxufVxuY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiQyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQxID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTtcblxuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEJveDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hQYXJ0aWNsZTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlU3BoZXJlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVTcGhlcmU7XG5jb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdjIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90bXAgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdmMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlVHJpbWVzaDtcbmNvbnN0IHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQbGFuZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGxhbmU7IC8vIFNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5jb20vQnVsbGV0L0J1bGxldEZ1bGwvU3BoZXJlVHJpYW5nbGVEZXRlY3Rvcl84Y3BwX3NvdXJjZS5odG1sXG5cbmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7XG4gIGxldCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7XG4gIGNvbnN0IE4gPSB2ZXJ0cy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4XG5cbiAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTtcbiAgICB2ZXJ0c1soaSArIDEpICUgTl0udnN1Yih2LCBlZGdlKTsgLy8gR2V0IGNyb3NzIHByb2R1Y3QgYmV0d2VlbiBwb2x5Z29uIG5vcm1hbCBhbmQgdGhlIGVkZ2VcblxuICAgIGNvbnN0IGVkZ2VfeF9ub3JtYWwgPSBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsOyAvL2NvbnN0IGVkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuXG4gICAgZWRnZS5jcm9zcyhub3JtYWwsIGVkZ2VfeF9ub3JtYWwpOyAvLyBHZXQgdmVjdG9yIGJldHdlZW4gcG9pbnQgYW5kIGN1cnJlbnQgdmVydGV4XG5cbiAgICBjb25zdCB2ZXJ0ZXhfdG9fcCA9IHBvaW50SW5Qb2x5Z29uX3Z0cDtcbiAgICBwLnZzdWIodiwgdmVydGV4X3RvX3ApOyAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXNcblxuICAgIGNvbnN0IHIgPSBlZGdlX3hfbm9ybWFsLmRvdCh2ZXJ0ZXhfdG9fcCk7IC8vIElmIGFsbCBzdWNoIGRvdCBwcm9kdWN0cyBoYXZlIHNhbWUgc2lnbiwgd2UgYXJlIGluc2lkZSB0aGUgcG9seWdvbi5cblxuICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCB8fCByID4gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gdHJ1ZSB8fCByIDw9IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgcG9zaXRpdmVSZXN1bHQgPSByID4gMDtcbiAgICAgIH1cblxuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LlxuICAgIH1cbiAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uXG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlcyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcbmNvbnN0IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9uczIgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDtcbmNvbnN0IGNvbnZleF90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94O1xuY29uc3QgcGxhbmVDb252ZXhfdiA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZUNvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lQ29udmV4X3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUNvbnZleDtcbmNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleENvbnZleF9xID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7IC8vIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4VHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4VHJpbWVzaFxuXG5jb25zdCBwYXJ0aWNsZVBsYW5lX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lUGFydGljbGU7XG5jb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGFydGljbGU7IC8vIFdJUFxuXG5jb25zdCBjcWogPSBuZXcgUXVhdGVybmlvbigpO1xuY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4UGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFBhcnRpY2xlO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94SGVpZ2h0ZmllbGQ7XG5jb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3QgPSBbMF07XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDtcbmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDtcblxuLyoqXHJcbiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIE92ZXJsYXBLZWVwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSBbXTtcbiAgICB0aGlzLnByZXZpb3VzID0gW107XG4gIH1cblxuICBnZXRLZXkoaSwgaikge1xuICAgIGlmIChqIDwgaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiBpIDw8IDE2IHwgajtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGpcclxuICAgKi9cblxuXG4gIHNldChpLCBqKSB7XG4gICAgLy8gSW5zZXJ0aW9uIHNvcnQuIFRoaXMgd2F5IHRoZSBkaWZmIHdpbGwgaGF2ZSBsaW5lYXIgY29tcGxleGl0eS5cbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoa2V5ID4gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIHJldHVybjsgLy8gUGFpciB3YXMgYWxyZWFkeSBhZGRlZFxuICAgIH1cblxuICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkge1xuICAgICAgY3VycmVudFtqICsgMV0gPSBjdXJyZW50W2pdO1xuICAgIH1cblxuICAgIGN1cnJlbnRbaW5kZXhdID0ga2V5O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgdGlja1xyXG4gICAqL1xuXG5cbiAgdGljaygpIHtcbiAgICBjb25zdCB0bXAgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91cztcbiAgICB0aGlzLnByZXZpb3VzID0gdG1wO1xuICAgIHRoaXMuY3VycmVudC5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0RGlmZlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnNcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVtb3ZhbHNcclxuICAgKi9cblxuXG4gIGdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscykge1xuICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7XG4gICAgY29uc3QgYWwgPSBhLmxlbmd0aDtcbiAgICBjb25zdCBibCA9IGIubGVuZ3RoO1xuICAgIGxldCBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlBID0gYVtpXTtcblxuICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBrZXlBID09PSBiW2pdO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlCID0gYltpXTtcblxuICAgICAgd2hpbGUgKGtleUIgPiBhW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHVucGFja0FuZFB1c2goYXJyYXksIGtleSkge1xuICBhcnJheS5wdXNoKChrZXkgJiAweGZmZmYwMDAwKSA+PiAxNiwga2V5ICYgMHgwMDAwZmZmZik7XG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgVHVwbGVEaWN0aW9uYXJ5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFR1cGxlRGljdGlvbmFyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGtleXM6IFtdXG4gICAgfTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cblxuXG4gIGdldChpLCBqKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICAvLyBzd2FwXG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YVtpICsgXCItXCIgKyBqXTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gICAqL1xuXG5cbiAgc2V0KGksIGosIHZhbHVlKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gaSArIFwiLVwiICsgajsgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7XG4gICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7XG5cbiAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG4gIH1cblxufVxuXG4vKipcclxuICogVGhlIHBoeXNpY3Mgd29ybGRcclxuICogQGNsYXNzIFdvcmxkXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZ3Jhdml0eV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwXVxyXG4gKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdXHJcbiAqIEBwYXJhbSB7U29sdmVyfSBbb3B0aW9ucy5zb2x2ZXJdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3RdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF1cclxuICovXG5jbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgXCJmcmVzaFwiIGluc2lkZSBldmVudCBjYWxsYmFja3MuXG4gIC8vIE1ha2VzIGJvZGllcyBnbyB0byBzbGVlcCB3aGVuIHRoZXkndmUgYmVlbiBpbmFjdGl2ZS5cbiAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuXG4gIC8vIEhvdyBvZnRlbiB0byBub3JtYWxpemUgcXVhdGVybmlvbnMuIFNldCB0byAwIGZvciBldmVyeSBzdGVwLCAxIGZvciBldmVyeSBzZWNvbmQgZXRjLi4gQSBsYXJnZXIgdmFsdWUgaW5jcmVhc2VzIHBlcmZvcm1hbmNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gYSBzbWFsbGVyIHZhbHVlICh6ZXJvIHRvIGJlIHN1cmUgbm90aGluZyBjYW4gZ28gd3JvbmcpLlxuICAvLyBTZXQgdG8gdHJ1ZSB0byB1c2UgZmFzdCBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIEl0IGlzIG9mdGVuIGVub3VnaCBhY2N1cmF0ZSB0byB1c2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBmYWxzZS5cbiAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LlxuICAvLyBOdW1iZXIgb2YgdGltZXN0ZXBzIHRha2VuIHNpbmNlIHN0YXJ0LlxuICAvLyBEZWZhdWx0IGFuZCBsYXN0IHRpbWVzdGVwIHNpemVzLlxuICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS5cbiAgLy8gQWxsIGJvZGllcyBpbiB0aGlzIHdvcmxkXG4gIC8vIFRydWUgaWYgYW55IGJvZGllcyBhcmUgbm90IHNsZWVwaW5nLCBmYWxzZSBpZiBldmVyeSBib2R5IGlzIHNsZWVwaW5nLlxuICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuXG4gIC8vIENvbGxpc2lvbk1hdHJpeCBmcm9tIHRoZSBwcmV2aW91cyBzdGVwLlxuICAvLyBBbGwgYWRkZWQgbWF0ZXJpYWxzLlxuICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC5cbiAgLy8gVGhpcyBjb250YWN0IG1hdGVyaWFsIGlzIHVzZWQgaWYgbm8gc3VpdGFibGUgY29udGFjdG1hdGVyaWFsIGlzIGZvdW5kIGZvciBhIGNvbnRhY3QuXG4gIC8vIFRpbWUgYWNjdW11bGF0b3IgZm9yIGludGVycG9sYXRpb24uIFNlZSBodHRwOi8vZ2FmZmVyb25nYW1lcy5jb20vZ2FtZS1waHlzaWNzL2ZpeC15b3VyLXRpbWVzdGVwL1xuICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuXG4gIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgd29ybGQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kdCA9IC0xO1xuICAgIHRoaXMuYWxsb3dTbGVlcCA9ICEhb3B0aW9ucy5hbGxvd1NsZWVwO1xuICAgIHRoaXMuY29udGFjdHMgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zID0gW107XG4gICAgdGhpcy5xdWF0Tm9ybWFsaXplU2tpcCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgOiAwO1xuICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7XG4gICAgdGhpcy50aW1lID0gMC4wO1xuICAgIHRoaXMuc3RlcG51bWJlciA9IDA7XG4gICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwO1xuICAgIHRoaXMubmV4dElkID0gMDtcbiAgICB0aGlzLmdyYXZpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMuZ3Jhdml0eSkge1xuICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmJyb2FkcGhhc2UgPSBvcHRpb25zLmJyb2FkcGhhc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYnJvYWRwaGFzZSA6IG5ldyBOYWl2ZUJyb2FkcGhhc2UoKTtcbiAgICB0aGlzLmJvZGllcyA9IFtdO1xuICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7XG4gICAgdGhpcy5zb2x2ZXIgPSBvcHRpb25zLnNvbHZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zb2x2ZXIgOiBuZXcgR1NTb2x2ZXIoKTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7XG4gICAgdGhpcy5tYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpO1xuICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCdkZWZhdWx0Jyk7XG4gICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHtcbiAgICAgIGZyaWN0aW9uOiAwLjMsXG4gICAgICByZXN0aXR1dGlvbjogMC4wXG4gICAgfSk7XG4gICAgdGhpcy5kb1Byb2ZpbGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvZmlsZSA9IHtcbiAgICAgIHNvbHZlOiAwLFxuICAgICAgbWFrZUNvbnRhY3RDb25zdHJhaW50czogMCxcbiAgICAgIGJyb2FkcGhhc2U6IDAsXG4gICAgICBpbnRlZ3JhdGU6IDAsXG4gICAgICBuYXJyb3dwaGFzZTogMFxuICAgIH07XG4gICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7XG4gICAgdGhpcy5zdWJzeXN0ZW1zID0gW107XG4gICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7XG4gICAgICB0eXBlOiAnYWRkQm9keScsXG4gICAgICBib2R5OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHtcbiAgICAgIHR5cGU6ICdyZW1vdmVCb2R5JyxcbiAgICAgIGJvZHk6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuaWRUb0JvZHlNYXAgPSB7fTtcbiAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMlxyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsXHJcbiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTFcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxyXG4gICAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWYgaXQgd2FzIGZvdW5kLlxyXG4gICAqL1xuXG5cbiAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikge1xuICAgIHJldHVybiB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmdldChtMS5pZCwgbTIuaWQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBudW1iZXIgb2Ygb2JqZWN0cyBpbiB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCBudW1PYmplY3RzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXG5cblxuICBudW1PYmplY3RzKCkge1xuICAgIHJldHVybiB0aGlzLmJvZGllcy5sZW5ndGg7XG4gIH1cbiAgLyoqXHJcbiAgICogU3RvcmUgb2xkIGNvbGxpc2lvbiBzdGF0ZSBpbmZvXHJcbiAgICogQG1ldGhvZCBjb2xsaXNpb25NYXRyaXhUaWNrXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25NYXRyaXhUaWNrKCkge1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeDtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IHRlbXA7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnRcclxuICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGNcclxuICAgKi9cblxuXG4gIGFkZENvbnN0cmFpbnQoYykge1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTtcbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmVzIGEgY29uc3RyYWludFxyXG4gICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludFxyXG4gICAqIEBwYXJhbSB7Q29uc3RyYWludH0gY1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQ29uc3RyYWludChjKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5jb25zdHJhaW50cy5pbmRleE9mKGMpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheWNhc3QgdGVzdFxyXG4gICAqIEBtZXRob2QgcmF5VGVzdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuXHJcbiAgICovXG5cblxuICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUmF5Y2FzdFJlc3VsdCkge1xuICAgICAgLy8gRG8gcmF5Y2FzdENsb3Nlc3RcbiAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHtcbiAgICAgICAgc2tpcEJhY2tmYWNlczogdHJ1ZVxuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gcmF5Y2FzdEFsbFxuICAgICAgdGhpcy5yYXljYXN0QWxsKGZyb20sIHRvLCB7XG4gICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWVcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC5cclxuICAgKiBAbWV0aG9kIHJheWNhc3RBbGxcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tXHJcbiAgICogQHBhcmFtICB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXHJcbiAgICovXG5cblxuICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7XG4gICAgb3B0aW9ucy5tb2RlID0gUmF5LkFMTDtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuXHJcbiAgICogQG1ldGhvZCByYXljYXN0QW55XHJcbiAgICogQHBhcmFtICB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRvXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LlxyXG4gICAqL1xuXG5cbiAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHtcbiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuXHJcbiAgICogQG1ldGhvZCByYXljYXN0Q2xvc2VzdFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGZyb21cclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXVxyXG4gICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cclxuICAgKi9cblxuXG4gIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkge1xuICAgIG9wdGlvbnMubW9kZSA9IFJheS5DTE9TRVNUO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgYWRkXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLlxyXG4gICAqIEB0b2RvIEFkZGluZyBhbiBhcnJheSBvZiBib2RpZXMgc2hvdWxkIGJlIHBvc3NpYmxlLiBUaGlzIHdvdWxkIHNhdmUgc29tZSBsb29wcyB0b29cclxuICAgKi9cblxuXG4gIGFkZEJvZHkoYm9keSkge1xuICAgIGlmICh0aGlzLmJvZGllcy5pbmNsdWRlcyhib2R5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7XG4gICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTtcbiAgICBib2R5LndvcmxkID0gdGhpcztcbiAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pO1xuICAgIGJvZHkuaW5pdFZlbG9jaXR5LmNvcHkoYm9keS52ZWxvY2l0eSk7XG4gICAgYm9keS50aW1lTGFzdFNsZWVweSA9IHRoaXMudGltZTtcblxuICAgIGlmIChib2R5IGluc3RhbmNlb2YgQm9keSkge1xuICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgYm9keS5pbml0UXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyh0aGlzLmJvZGllcy5sZW5ndGgpO1xuICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuICAgIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF0gPSBib2R5O1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmFkZEJvZHlFdmVudCk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICovXG5cblxuICByZW1vdmVCb2R5KGJvZHkpIHtcbiAgICBib2R5LndvcmxkID0gbnVsbDtcbiAgICBjb25zdCBuID0gdGhpcy5ib2RpZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICBib2RpZXMuc3BsaWNlKGlkeCwgMSk7IC8vIFRvZG86IHNob3VsZCB1c2UgYSBnYXJiYWdlIGZyZWUgbWV0aG9kXG4gICAgICAvLyBSZWNvbXB1dGUgaW5kZXhcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKG4pO1xuICAgICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keSA9IGJvZHk7XG4gICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Qm9keUJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5pZFRvQm9keU1hcFtpZF07XG4gIH0gLy8gVE9ETyBNYWtlIGEgZmFzdGVyIG1hcFxuXG5cbiAgZ2V0U2hhcGVCeUlkKGlkKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgYmwgPSBib2RpZXMubGVuZ3RoOyBpIDwgYmw7IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlcztcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbal07XG5cbiAgICAgICAgaWYgKHNoYXBlLmlkID09PSBpZCkge1xuICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkTWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtXHJcbiAgICogQHRvZG8gTmVjZXNzYXJ5P1xyXG4gICAqL1xuXG5cbiAgYWRkTWF0ZXJpYWwobSkge1xuICAgIHRoaXMubWF0ZXJpYWxzLnB1c2gobSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkXHJcbiAgICogQG1ldGhvZCBhZGRDb250YWN0TWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21hdFxyXG4gICAqL1xuXG5cbiAgYWRkQ29udGFjdE1hdGVyaWFsKGNtYXQpIHtcbiAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbFxuICAgIHRoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKGNtYXQpOyAvLyBBZGQgY3VycmVudCBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBtYXRlcmlhbCB0YWJsZVxuXG4gICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5zZXQoY21hdC5tYXRlcmlhbHNbMF0uaWQsIGNtYXQubWF0ZXJpYWxzWzFdLmlkLCBjbWF0KTtcbiAgfVxuICAvKipcclxuICAgKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS5cclxuICAgKlxyXG4gICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLlxyXG4gICAqXHJcbiAgICogQG1ldGhvZCBzdGVwXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZF0gICAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4U3ViU3RlcHM9MTBdICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogICAgIC8vIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb25cclxuICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTtcclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cDovL2J1bGxldHBoeXNpY3Mub3JnL21lZGlhd2lraS0xLjUuOC9pbmRleC5waHAvU3RlcHBpbmdfVGhlX1dvcmxkXHJcbiAgICovXG5cblxuICBzdGVwKGR0LCB0aW1lU2luY2VMYXN0Q2FsbGVkLCBtYXhTdWJTdGVwcyA9IDEwKSB7XG4gICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZ1xuICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpOyAvLyBJbmNyZW1lbnQgdGltZVxuXG4gICAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDtcbiAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBsZXQgc3Vic3RlcHMgPSAwO1xuXG4gICAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRvciA+PSBkdCAmJiBzdWJzdGVwcyA8IG1heFN1YlN0ZXBzKSB7XG4gICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciAtPSBkdDtcbiAgICAgICAgc3Vic3RlcHMrKztcblxuICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0MCA+IGR0ICogMiAqIDEwMDApIHtcbiAgICAgICAgICAvLyBUaGUgZnJhbWVyYXRlIGlzIG5vdCBpbnRlcmFjdGl2ZSBhbnltb3JlLlxuICAgICAgICAgIC8vIFdlIGFyZSBhdCBoYWxmIG9mIHRoZSB0YXJnZXQgZnJhbWVyYXRlLlxuICAgICAgICAgIC8vIEJldHRlciBiYWlsIG91dC5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZW1vdmUgdGhlIGV4Y2VzcyBhY2N1bXVsYXRvciwgc2luY2Ugd2UgbWF5IG5vdFxuICAgICAgLy8gaGF2ZSBoYWQgZW5vdWdoIHN1YnN0ZXBzIGF2YWlsYWJsZSB0byBjYXRjaCB1cFxuXG5cbiAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSB0aGlzLmFjY3VtdWxhdG9yICUgZHQ7XG4gICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAvIGR0O1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYm9kaWVzW2pdO1xuICAgICAgICBiLnByZXZpb3VzUG9zaXRpb24ubGVycChiLnBvc2l0aW9uLCB0LCBiLmludGVycG9sYXRlZFBvc2l0aW9uKTtcbiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pO1xuICAgICAgICBiLnByZXZpb3VzUXVhdGVybmlvbi5ub3JtYWxpemUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50aW1lICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7XG4gICAgfVxuICB9XG5cbiAgaW50ZXJuYWxTdGVwKGR0KSB7XG4gICAgdGhpcy5kdCA9IGR0O1xuICAgIGNvbnN0IGNvbnRhY3RzID0gdGhpcy5jb250YWN0cztcbiAgICBjb25zdCBwMSA9IFdvcmxkX3N0ZXBfcDE7XG4gICAgY29uc3QgcDIgPSBXb3JsZF9zdGVwX3AyO1xuICAgIGNvbnN0IE4gPSB0aGlzLm51bU9iamVjdHMoKTtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBzb2x2ZXIgPSB0aGlzLnNvbHZlcjtcbiAgICBjb25zdCBncmF2aXR5ID0gdGhpcy5ncmF2aXR5O1xuICAgIGNvbnN0IGRvUHJvZmlsaW5nID0gdGhpcy5kb1Byb2ZpbGluZztcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlO1xuICAgIGNvbnN0IERZTkFNSUMgPSBCb2R5LkRZTkFNSUM7XG4gICAgbGV0IHByb2ZpbGluZ1N0YXJ0ID0gLUluZmluaXR5O1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBmcmljdGlvbkVxdWF0aW9uUG9vbCA9IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgY29uc3QgZ25vcm0gPSBncmF2aXR5Lmxlbmd0aCgpO1xuICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54O1xuICAgIGNvbnN0IGd5ID0gZ3Jhdml0eS55O1xuICAgIGNvbnN0IGd6ID0gZ3Jhdml0eS56O1xuICAgIGxldCBpID0gMDtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIEFkZCBncmF2aXR5IHRvIGFsbCBvYmplY3RzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS50eXBlID09PSBEWU5BTUlDKSB7XG4gICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG4gICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTtcbiAgICAgICAgY29uc3QgbSA9IGJpLm1hc3M7XG4gICAgICAgIGYueCArPSBtICogZ3g7XG4gICAgICAgIGYueSArPSBtICogZ3k7XG4gICAgICAgIGYueiArPSBtICogZ3o7XG4gICAgICB9XG4gICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgTnN1YnN5c3RlbXMgPSB0aGlzLnN1YnN5c3RlbXMubGVuZ3RoOyBpICE9PSBOc3Vic3lzdGVtczsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7XG4gICAgfSAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uXG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBwMS5sZW5ndGggPSAwOyAvLyBDbGVhbiB1cCBwYWlyIGFycmF5cyBmcm9tIGxhc3Qgc3RlcFxuXG4gICAgcDIubGVuZ3RoID0gMDtcbiAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlzaW9uUGFpcnModGhpcywgcDEsIHAyKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIFJlbW92ZSBjb25zdHJhaW5lZCBwYWlycyB3aXRoIGNvbGxpZGVDb25uZWN0ZWQgPT0gZmFsc2VcblxuXG4gICAgbGV0IE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07XG5cbiAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBwMS5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkge1xuICAgICAgICAgIGlmIChjLmJvZHlBID09PSBwMVtqXSAmJiBjLmJvZHlCID09PSBwMltqXSB8fCBjLmJvZHlCID09PSBwMVtqXSAmJiBjLmJvZHlBID09PSBwMltqXSkge1xuICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgcDIuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4VGljaygpOyAvLyBHZW5lcmF0ZSBjb250YWN0c1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cblxuICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0cztcbiAgICBjb25zdCBOb2xkQ29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOb2xkQ29udGFjdHM7IGkrKykge1xuICAgICAgb2xkY29udGFjdHMucHVzaChjb250YWN0c1tpXSk7XG4gICAgfVxuXG4gICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2VcblxuICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHtcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25Qb29sLnB1c2godGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggPSAwO1xuICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZFxuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMsIGZyaWN0aW9uRXF1YXRpb25Qb29sKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5uYXJyb3dwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBMb29wIG92ZXIgYWxsIGNvbGxpc2lvbnNcblxuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH0gLy8gQWRkIGFsbCBmcmljdGlvbiBlcXNcblxuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbih0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTtcbiAgICB9XG5cbiAgICBjb25zdCBuY29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHtcbiAgICAgIC8vIEN1cnJlbnQgY29udGFjdFxuICAgICAgY29uc3QgYyA9IGNvbnRhY3RzW2tdOyAvLyBHZXQgY3VycmVudCBjb2xsaXNpb24gaW5kZWNlc1xuXG4gICAgICBjb25zdCBiaSA9IGMuYmk7XG4gICAgICBjb25zdCBiaiA9IGMuYmo7XG4gICAgICBjb25zdCBzaSA9IGMuc2k7XG4gICAgICBjb25zdCBzaiA9IGMuc2o7IC8vIEdldCBjb2xsaXNpb24gcHJvcGVydGllc1xuXG4gICAgICBsZXQgY207XG5cbiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkge1xuICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY20gPSB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7XG4gICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuXG5cbiAgICAgIGxldCBtdSA9IGNtLmZyaWN0aW9uOyAvLyBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247XG4gICAgICAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtXG5cbiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkge1xuICAgICAgICBpZiAoYmkubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5mcmljdGlvbiA+PSAwKSB7XG4gICAgICAgICAgbXUgPSBiaS5tYXRlcmlhbC5mcmljdGlvbiAqIGJqLm1hdGVyaWFsLmZyaWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCkge1xuICAgICAgICAgIGMucmVzdGl0dXRpb24gPSBiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiAqIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uO1xuICAgICAgICB9XG4gICAgICB9IC8vIGMuc2V0U3Bvb2tQYXJhbXMoXG4gICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLFxuICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sXG4gICAgICAvLyAgICAgICAgICAgZHRcbiAgICAgIC8vICAgICAgICk7XG5cblxuICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGMpOyAvLyAvLyBBZGQgZnJpY3Rpb24gY29uc3RyYWludCBlcXVhdGlvblxuICAgICAgLy8gaWYobXUgPiAwKXtcbiAgICAgIC8vIFx0Ly8gQ3JlYXRlIDIgdGFuZ2VudCBlcXVhdGlvbnNcbiAgICAgIC8vIFx0Y29uc3QgbXVnID0gbXUgKiBnbm9ybTtcbiAgICAgIC8vIFx0Y29uc3QgcmVkdWNlZE1hc3MgPSAoYmkuaW52TWFzcyArIGJqLmludk1hc3MpO1xuICAgICAgLy8gXHRpZihyZWR1Y2VkTWFzcyA+IDApe1xuICAgICAgLy8gXHRcdHJlZHVjZWRNYXNzID0gMS9yZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0fVxuICAgICAgLy8gXHRjb25zdCBwb29sID0gZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgICAvLyBcdGNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTtcbiAgICAgIC8vIFx0Y29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpO1xuICAgICAgLy8gXHR0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2goYzEsIGMyKTtcbiAgICAgIC8vIFx0YzEuYmkgPSBjMi5iaSA9IGJpO1xuICAgICAgLy8gXHRjMS5iaiA9IGMyLmJqID0gYmo7XG4gICAgICAvLyBcdGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnKnJlZHVjZWRNYXNzO1xuICAgICAgLy8gXHRjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnKnJlZHVjZWRNYXNzO1xuICAgICAgLy8gXHQvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnNcbiAgICAgIC8vIFx0YzEucmkuY29weShjLnJpKTtcbiAgICAgIC8vIFx0YzEucmouY29weShjLnJqKTtcbiAgICAgIC8vIFx0YzIucmkuY29weShjLnJpKTtcbiAgICAgIC8vIFx0YzIucmouY29weShjLnJqKTtcbiAgICAgIC8vIFx0Ly8gQ29uc3RydWN0IHRhbmdlbnRzXG4gICAgICAvLyBcdGMubmkudGFuZ2VudHMoYzEudCwgYzIudCk7XG4gICAgICAvLyAgICAgICAgICAgLy8gU2V0IHNwb29rIHBhcmFtc1xuICAgICAgLy8gICAgICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7XG4gICAgICAvLyAgICAgICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTtcbiAgICAgIC8vICAgICAgICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGMuZW5hYmxlZDtcbiAgICAgIC8vIFx0Ly8gQWRkIGVxdWF0aW9ucyB0byBzb2x2ZXJcbiAgICAgIC8vIFx0c29sdmVyLmFkZEVxdWF0aW9uKGMxKTtcbiAgICAgIC8vIFx0c29sdmVyLmFkZEVxdWF0aW9uKGMyKTtcbiAgICAgIC8vIH1cblxuICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykge1xuICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRCID0gYmoudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmouYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWRCID0gYmouc2xlZXBTcGVlZExpbWl0ICoqIDI7XG5cbiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEIgPj0gc3BlZWRMaW1pdFNxdWFyZWRCICogMikge1xuICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChiai5hbGxvd1NsZWVwICYmIGJqLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmkudHlwZSAhPT0gQm9keS5TVEFUSUMpIHtcbiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQSA9IGJpLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJpLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQSA9IGJpLnNsZWVwU3BlZWRMaW1pdCAqKiAyO1xuXG4gICAgICAgIGlmIChzcGVlZFNxdWFyZWRBID49IHNwZWVkTGltaXRTcXVhcmVkQSAqIDIpIHtcbiAgICAgICAgICBiai53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBOb3cgd2Uga25vdyB0aGF0IGkgYW5kIGogYXJlIGluIGNvbnRhY3QuIFNldCBjb2xsaXNpb24gbWF0cml4IHN0YXRlXG5cblxuICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGJpLCBiaiwgdHJ1ZSk7XG5cbiAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkge1xuICAgICAgICAvLyBGaXJzdCBjb250YWN0IVxuICAgICAgICAvLyBXZSByZXVzZSB0aGUgY29sbGlkZUV2ZW50IG9iamVjdCwgb3RoZXJ3aXNlIHdlIHdpbGwgZW5kIHVwIGNyZWF0aW5nIG5ldyBvYmplY3RzIGZvciBlYWNoIG5ldyBjb250YWN0LCBldmVuIGlmIHRoZXJlJ3Mgbm8gZXZlbnQgbGlzdGVuZXIgYXR0YWNoZWQuXG4gICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajtcbiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuY29udGFjdCA9IGM7XG4gICAgICAgIGJpLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpO1xuICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7XG4gICAgICAgIGJqLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnNldChiaS5pZCwgYmouaWQpO1xuICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0Q29udGFjdEV2ZW50cygpO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLm1ha2VDb250YWN0Q29uc3RyYWludHMgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIFdha2UgdXAgYm9kaWVzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlKSB7XG4gICAgICAgIGJpLndha2VVcCgpO1xuICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSAvLyBBZGQgdXNlci1hZGRlZCBjb25zdHJhaW50c1xuXG5cbiAgICBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldO1xuICAgICAgYy51cGRhdGUoKTtcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIE5lcSA9IGMuZXF1YXRpb25zLmxlbmd0aDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgY29uc3QgZXEgPSBjLmVxdWF0aW9uc1tqXTtcbiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGVxKTtcbiAgICAgIH1cbiAgICB9IC8vIFNvbHZlIHRoZSBjb25zdHJhaW5lZCBzeXN0ZW1cblxuXG4gICAgc29sdmVyLnNvbHZlKGR0LCB0aGlzKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5zb2x2ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBSZW1vdmUgYWxsIGNvbnRhY3RzIGZyb20gc29sdmVyXG5cblxuICAgIHNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTsgLy8gQXBwbHkgZGFtcGluZywgc2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9idWxsZXQvaXNzdWVzL2RldGFpbD9pZD03NCBmb3IgZGV0YWlsc1xuXG4gICAgY29uc3QgcG93ID0gTWF0aC5wb3c7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkudHlwZSAmIERZTkFNSUMpIHtcbiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXNcbiAgICAgICAgY29uc3QgbGQgPSBwb3coMS4wIC0gYmkubGluZWFyRGFtcGluZywgZHQpO1xuICAgICAgICBjb25zdCB2ID0gYmkudmVsb2NpdHk7XG4gICAgICAgIHYuc2NhbGUobGQsIHYpO1xuICAgICAgICBjb25zdCBhdiA9IGJpLmFuZ3VsYXJWZWxvY2l0eTtcblxuICAgICAgICBpZiAoYXYpIHtcbiAgICAgICAgICBjb25zdCBhZCA9IHBvdygxLjAgLSBiaS5hbmd1bGFyRGFtcGluZywgZHQpO1xuICAgICAgICAgIGF2LnNjYWxlKGFkLCBhdik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQpOyAvLyBJbnZva2UgcHJlLXN0ZXAgY2FsbGJhY2tzXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkucHJlU3RlcCkge1xuICAgICAgICBiaS5wcmVTdGVwLmNhbGwoYmkpO1xuICAgICAgfVxuICAgIH0gLy8gTGVhcCBmcm9nXG4gICAgLy8gdm5ldyA9IHYgKyBoKmYvbVxuICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3XG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyO1xuICAgIGNvbnN0IHF1YXROb3JtYWxpemUgPSBzdGVwbnVtYmVyICUgKHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgKyAxKSA9PT0gMDtcbiAgICBjb25zdCBxdWF0Tm9ybWFsaXplRmFzdCA9IHRoaXMucXVhdE5vcm1hbGl6ZUZhc3Q7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyRm9yY2VzKCk7XG4gICAgdGhpcy5icm9hZHBoYXNlLmRpcnR5ID0gdHJ1ZTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gVXBkYXRlIHdvcmxkIHRpbWVcblxuXG4gICAgdGhpcy50aW1lICs9IGR0O1xuICAgIHRoaXMuc3RlcG51bWJlciArPSAxO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQpOyAvLyBJbnZva2UgcG9zdC1zdGVwIGNhbGxiYWNrc1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IHBvc3RTdGVwID0gYmkucG9zdFN0ZXA7XG5cbiAgICAgIGlmIChwb3N0U3RlcCkge1xuICAgICAgICBwb3N0U3RlcC5jYWxsKGJpKTtcbiAgICAgIH1cbiAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZVxuXG5cbiAgICBsZXQgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHtcbiAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG4gICAgICAgIGJpLnNsZWVwVGljayh0aGlzLnRpbWUpO1xuXG4gICAgICAgIGlmIChiaS5zbGVlcFN0YXRlICE9PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICAgICAgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgYWxsIGJvZHkgZm9yY2VzIGluIHRoZSB3b3JsZCB0byB6ZXJvLlxyXG4gICAqIEBtZXRob2QgY2xlYXJGb3JjZXNcclxuICAgKi9cblxuXG4gIGNsZWFyRm9yY2VzKCkge1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzO1xuICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IGZvcmNlID0gYi5mb3JjZTtcbiAgICAgIGNvbnN0IHRhdSA9IGIudG9ycXVlO1xuICAgICAgYi5mb3JjZS5zZXQoMCwgMCwgMCk7XG4gICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7XG4gICAgfVxuICB9XG5cbn0gLy8gVGVtcCBzdHVmZlxuXG5jb25zdCB0bXBBQUJCMSA9IG5ldyBBQUJCKCk7XG5jb25zdCB0bXBSYXkkMSA9IG5ldyBSYXkoKTsgLy8gcGVyZm9ybWFuY2Uubm93KCkgZmFsbGJhY2sgb24gRGF0ZS5ub3coKVxuXG5jb25zdCBwZXJmb3JtYW5jZSA9IGdsb2JhbFRoaXMucGVyZm9ybWFuY2UgfHwge307XG5cbmlmICghcGVyZm9ybWFuY2Uubm93KSB7XG4gIGxldCBub3dPZmZzZXQgPSBEYXRlLm5vdygpO1xuXG4gIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkge1xuICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7XG4gIH1cblxuICBwZXJmb3JtYW5jZS5ub3cgPSAoKSA9PiBEYXRlLm5vdygpIC0gbm93T2Zmc2V0O1xufVxuLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS5cblxuY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0ge1xuICB0eXBlOiAncG9zdFN0ZXAnXG59OyAvLyBEaXNwYXRjaGVkIGJlZm9yZSB0aGUgd29ybGQgc3RlcHMgZm9yd2FyZCBpbiB0aW1lLlxuXG5jb25zdCBXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCA9IHtcbiAgdHlwZTogJ3ByZVN0ZXAnXG59O1xuY29uc3QgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQgPSB7XG4gIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLFxuICBib2R5OiBudWxsLFxuICBjb250YWN0OiBudWxsXG59OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHNcblxuY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdO1xuY29uc3QgV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOyAvLyBSZXVzYWJsZSBhcnJheXMgZm9yIGNvbGxpc2lvbiBwYWlyc1xuXG5jb25zdCBXb3JsZF9zdGVwX3AxID0gW107XG5jb25zdCBXb3JsZF9zdGVwX3AyID0gW107XG5cbldvcmxkLnByb3RvdHlwZS5lbWl0Q29udGFjdEV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IGFkZGl0aW9ucyA9IFtdO1xuICBjb25zdCByZW1vdmFscyA9IFtdO1xuICBjb25zdCBiZWdpbkNvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnYmVnaW5Db250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbFxuICB9O1xuICBjb25zdCBlbmRDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2VuZENvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsXG4gIH07XG4gIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2JlZ2luU2hhcGVDb250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbCxcbiAgICBzaGFwZUE6IG51bGwsXG4gICAgc2hhcGVCOiBudWxsXG4gIH07XG4gIGNvbnN0IGVuZFNoYXBlQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdlbmRTaGFwZUNvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsLFxuICAgIHNoYXBlQTogbnVsbCxcbiAgICBzaGFwZUI6IG51bGxcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpO1xuICAgIGNvbnN0IGhhc0VuZENvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZENvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QgfHwgaGFzRW5kQ29udGFjdCkge1xuICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpO1xuICAgIH1cblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5Db250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZENvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7XG4gICAgfVxuXG4gICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgaGFzQmVnaW5TaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luU2hhcGVDb250YWN0Jyk7XG4gICAgY29uc3QgaGFzRW5kU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRTaGFwZUNvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCB8fCBoYXNFbmRTaGFwZUNvbnRhY3QpIHtcbiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7XG4gICAgfVxuXG4gICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBO1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2kgKyAxXSk7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCO1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5O1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kU2hhcGVDb250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBBQUJCLCBBcnJheUNvbGxpc2lvbk1hdHJpeCwgQk9EWV9TTEVFUF9TVEFURVMsIEJPRFlfVFlQRVMsIEJvZHksIEJveCwgQnJvYWRwaGFzZSwgQ09MTElTSU9OX1RZUEVTLCBDb25lVHdpc3RDb25zdHJhaW50LCBDb25zdHJhaW50LCBDb250YWN0RXF1YXRpb24sIENvbnRhY3RNYXRlcmlhbCwgQ29udmV4UG9seWhlZHJvbiwgQ3lsaW5kZXIsIERpc3RhbmNlQ29uc3RyYWludCwgRXF1YXRpb24sIEV2ZW50VGFyZ2V0LCBGcmljdGlvbkVxdWF0aW9uLCBHU1NvbHZlciwgR3JpZEJyb2FkcGhhc2UsIEhlaWdodGZpZWxkLCBIaW5nZUNvbnN0cmFpbnQsIEphY29iaWFuRWxlbWVudCwgTG9ja0NvbnN0cmFpbnQsIE1hdDMsIE1hdGVyaWFsLCBOYWl2ZUJyb2FkcGhhc2UsIE5hcnJvd3BoYXNlLCBPYmplY3RDb2xsaXNpb25NYXRyaXgsIFBhcnRpY2xlLCBQbGFuZSwgUG9pbnRUb1BvaW50Q29uc3RyYWludCwgUG9vbCwgUXVhdGVybmlvbiwgUkFZX01PREVTLCBSYXksIFJheWNhc3RSZXN1bHQsIFJheWNhc3RWZWhpY2xlLCBSaWdpZFZlaGljbGUsIFJvdGF0aW9uYWxFcXVhdGlvbiwgUm90YXRpb25hbE1vdG9yRXF1YXRpb24sIFNBUEJyb2FkcGhhc2UsIFNIQVBFX1RZUEVTLCBTUEhTeXN0ZW0sIFNoYXBlLCBTb2x2ZXIsIFNwaGVyZSwgU3BsaXRTb2x2ZXIsIFNwcmluZywgVHJhbnNmb3JtLCBUcmltZXNoLCBWZWMzLCBWZWMzUG9vbCwgV29ybGQgfTtcbiIsImltcG9ydCB7XG4gIFdvcmxkLFxuICBOYWl2ZUJyb2FkcGhhc2UsXG4gIFNBUEJyb2FkcGhhc2UsXG4gIEJvZHksXG4gIFBsYW5lLFxuICBCb3gsXG4gIFZlYzMsXG4gIENvbnZleFBvbHloZWRyb24sXG4gIEN5bGluZGVyLFxuICBIZWlnaHRmaWVsZCxcbiAgUGFydGljbGUsXG4gIFNwaGVyZSxcbiAgVHJpbWVzaCxcbiAgUG9pbnRUb1BvaW50Q29uc3RyYWludCxcbiAgQ29uZVR3aXN0Q29uc3RyYWludCxcbiAgSGluZ2VDb25zdHJhaW50LFxuICBEaXN0YW5jZUNvbnN0cmFpbnQsXG4gIExvY2tDb25zdHJhaW50LFxuICBDb25zdHJhaW50LFxuICBTcHJpbmcsXG4gIE1hdGVyaWFsLFxuICBRdWF0ZXJuaW9uLFxuICBSYXksXG4gIFJheWNhc3RSZXN1bHQsXG4gIFJheWNhc3RWZWhpY2xlLFxufSBmcm9tICdjYW5ub24tZXMnXG5cbmxldCBib2RpZXMgPSB7fVxuY29uc3QgdmVoaWNsZXMgPSB7fVxuY29uc3Qgc3ByaW5ncyA9IHt9XG5jb25zdCByYXlzID0ge31cbmNvbnN0IHdvcmxkID0gbmV3IFdvcmxkKClcbmNvbnN0IGNvbmZpZyA9IHsgc3RlcDogMSAvIDYwIH1cbmNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fVxuY29uc3QgdGVtcFZlY3RvciA9IG5ldyBWZWMzKClcblxuZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdCb3gnOlxuICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncy5tYXAoKHYpID0+IHYgLyAyKSkpIC8vIGV4dGVudHMgPT4gaGFsZkV4dGVudHNcbiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzpcbiAgICAgIGNvbnN0IFt2LCBmLCBuXSA9IGFyZ3NcbiAgICAgIHJldHVybiBuZXcgQ29udmV4UG9seWhlZHJvbih7XG4gICAgICAgIHZlcnRpY2VzOiB2Lm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSksXG4gICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLFxuICAgICAgICBmYWNlczogZixcbiAgICAgIH0pXG4gICAgY2FzZSAnQ3lsaW5kZXInOlxuICAgICAgcmV0dXJuIG5ldyBDeWxpbmRlciguLi5hcmdzKSAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzXG4gICAgY2FzZSAnSGVpZ2h0ZmllbGQnOlxuICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZCguLi5hcmdzKSAvLyBbIEFycmF5IGRhdGEsIG9wdGlvbnM6IHttaW5WYWx1ZSwgbWF4VmFsdWUsIGVsZW1lbnRTaXplfSAgXSA9IGFyZ3NcbiAgICBjYXNlICdQYXJ0aWNsZSc6XG4gICAgICByZXR1cm4gbmV3IFBhcnRpY2xlKCkgLy8gbm8gYXJnc1xuICAgIGNhc2UgJ1BsYW5lJzpcbiAgICAgIHJldHVybiBuZXcgUGxhbmUoKSAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5XG4gICAgY2FzZSAnU3BoZXJlJzpcbiAgICAgIHJldHVybiBuZXcgU3BoZXJlKC4uLmFyZ3MpIC8vIFtyYWRpdXNdID0gYXJnc1xuICAgIGNhc2UgJ1RyaW1lc2gnOlxuICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpIC8vIFt2ZXJ0aWNlcywgaW5kaWNlc10gPSBhcmdzXG4gIH1cbn1cblxuZnVuY3Rpb24gc3luY0JvZGllcygpIHtcbiAgc2VsZi5wb3N0TWVzc2FnZSh7IG9wOiAnc3luYycsIGJvZGllczogd29ybGQuYm9kaWVzLm1hcCgoYm9keSkgPT4gYm9keS51dWlkKSB9KVxuICBib2RpZXMgPSB3b3JsZC5ib2RpZXMucmVkdWNlKChhY2MsIGJvZHkpID0+ICh7IC4uLmFjYywgW2JvZHkudXVpZF06IGJvZHkgfSksIHt9KVxufVxuXG5zZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gIGNvbnN0IHsgb3AsIHV1aWQsIHR5cGUsIHBvc2l0aW9ucywgcXVhdGVybmlvbnMsIHByb3BzIH0gPSBlLmRhdGFcblxuICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnaW5pdCc6IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZ3Jhdml0eSxcbiAgICAgICAgdG9sZXJhbmNlLFxuICAgICAgICBzdGVwLFxuICAgICAgICBpdGVyYXRpb25zLFxuICAgICAgICBhbGxvd1NsZWVwLFxuICAgICAgICBicm9hZHBoYXNlLFxuICAgICAgICBheGlzSW5kZXgsXG4gICAgICAgIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwsXG4gICAgICB9ID0gcHJvcHNcbiAgICAgIGNvbnN0IGJyb2FkcGhhc2VzID0geyBOYWl2ZUJyb2FkcGhhc2UsIFNBUEJyb2FkcGhhc2UgfVxuICAgICAgd29ybGQuYWxsb3dTbGVlcCA9IGFsbG93U2xlZXBcbiAgICAgIHdvcmxkLmdyYXZpdHkuc2V0KGdyYXZpdHlbMF0sIGdyYXZpdHlbMV0sIGdyYXZpdHlbMl0pXG4gICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlXG4gICAgICB3b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnNcbiAgICAgIHdvcmxkLmJyb2FkcGhhc2UgPSBuZXcgKGJyb2FkcGhhc2VzW2Jyb2FkcGhhc2UgKyAnQnJvYWRwaGFzZSddIHx8IE5haXZlQnJvYWRwaGFzZSkod29ybGQpXG4gICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCA/PyAwXG4gICAgICBPYmplY3QuYXNzaWduKHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwsIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwpXG4gICAgICBjb25maWcuc3RlcCA9IHN0ZXBcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3N0ZXAnOiB7XG4gICAgICB3b3JsZC5zdGVwKGNvbmZpZy5zdGVwKVxuICAgICAgY29uc3QgbnVtYmVyT2ZCb2RpZXMgPSB3b3JsZC5ib2RpZXMubGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQm9kaWVzOyBpKyspIHtcbiAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sXG4gICAgICAgICAgcCA9IGIucG9zaXRpb24sXG4gICAgICAgICAgcSA9IGIucXVhdGVybmlvblxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHAueFxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHAueVxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAyXSA9IHAuelxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDBdID0gcS54XG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMV0gPSBxLnlcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAyXSA9IHEuelxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDNdID0gcS53XG4gICAgICB9XG4gICAgICBjb25zdCBvYnNlcnZhdGlvbnMgPSBbXVxuICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkge1xuICAgICAgICBjb25zdCBbdXVpZCwgdHlwZV0gPSBzdWJzY3JpcHRpb25zW2lkXVxuICAgICAgICBsZXQgdmFsdWUgPSBib2RpZXNbdXVpZF1bdHlwZV1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVmVjMykgdmFsdWUgPSB2YWx1ZS50b0FycmF5KClcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBRdWF0ZXJuaW9uKSB7XG4gICAgICAgICAgdmFsdWUudG9FdWxlcih0ZW1wVmVjdG9yKVxuICAgICAgICAgIHZhbHVlID0gdGVtcFZlY3Rvci50b0FycmF5KClcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZhdGlvbnMucHVzaChbaWQsIHZhbHVlXSlcbiAgICAgIH1cbiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogJ2ZyYW1lJyxcbiAgICAgICAgICBwb3NpdGlvbnMsXG4gICAgICAgICAgcXVhdGVybmlvbnMsXG4gICAgICAgICAgb2JzZXJ2YXRpb25zLFxuICAgICAgICAgIGFjdGl2ZTogd29ybGQuaGFzQWN0aXZlQm9kaWVzLFxuICAgICAgICB9LFxuICAgICAgICBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXVxuICAgICAgKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnYWRkQm9kaWVzJzoge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhcmdzID0gW10sXG4gICAgICAgICAgcG9zaXRpb24gPSBbMCwgMCwgMF0sXG4gICAgICAgICAgcm90YXRpb24gPSBbMCwgMCwgMF0sXG4gICAgICAgICAgc2NhbGUgPSBbMSwgMSwgMV0sXG4gICAgICAgICAgdmVsb2NpdHkgPSBbMCwgMCwgMF0sXG4gICAgICAgICAgYW5ndWxhclZlbG9jaXR5ID0gWzAsIDAsIDBdLFxuICAgICAgICAgIGxpbmVhckZhY3RvciA9IFsxLCAxLCAxXSxcbiAgICAgICAgICBhbmd1bGFyRmFjdG9yID0gWzEsIDEsIDFdLFxuICAgICAgICAgIHR5cGU6IGJvZHlUeXBlLFxuICAgICAgICAgIG1hc3MsXG4gICAgICAgICAgbWF0ZXJpYWwsXG4gICAgICAgICAgc2hhcGVzLFxuICAgICAgICAgIG9uQ29sbGlkZSxcbiAgICAgICAgICAuLi5leHRyYVxuICAgICAgICB9ID0gcHJvcHNbaV1cblxuICAgICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoe1xuICAgICAgICAgIC4uLmV4dHJhLFxuICAgICAgICAgIG1hc3M6IGJvZHlUeXBlID09PSAnU3RhdGljJyA/IDAgOiBtYXNzLFxuICAgICAgICAgIHR5cGU6IGJvZHlUeXBlID8gQm9keVtib2R5VHlwZS50b1VwcGVyQ2FzZSgpXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwgPyBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkLFxuICAgICAgICB9KVxuICAgICAgICBib2R5LnV1aWQgPSB1dWlkW2ldXG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHtcbiAgICAgICAgICBzaGFwZXMuZm9yRWFjaCgoeyB0eXBlLCBhcmdzLCBwb3NpdGlvbiwgcm90YXRpb24sIG1hdGVyaWFsLCAuLi5leHRyYSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZUJvZHkgPSBib2R5LmFkZFNoYXBlKFxuICAgICAgICAgICAgICBjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSxcbiAgICAgICAgICAgICAgcG9zaXRpb24gPyBuZXcgVmVjMyguLi5wb3NpdGlvbikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHJvdGF0aW9uID8gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pIDogdW5kZWZpbmVkXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbChtYXRlcmlhbClcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhcGVCb2R5LCBleHRyYSlcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpXG4gICAgICAgIH1cblxuICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKVxuICAgICAgICBib2R5LnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHJvdGF0aW9uWzBdLCByb3RhdGlvblsxXSwgcm90YXRpb25bMl0pXG4gICAgICAgIGJvZHkudmVsb2NpdHkuc2V0KHZlbG9jaXR5WzBdLCB2ZWxvY2l0eVsxXSwgdmVsb2NpdHlbMl0pXG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKVxuICAgICAgICBib2R5LmxpbmVhckZhY3Rvci5zZXQobGluZWFyRmFjdG9yWzBdLCBsaW5lYXJGYWN0b3JbMV0sIGxpbmVhckZhY3RvclsyXSlcbiAgICAgICAgYm9keS5hbmd1bGFyRmFjdG9yLnNldChhbmd1bGFyRmFjdG9yWzBdLCBhbmd1bGFyRmFjdG9yWzFdLCBhbmd1bGFyRmFjdG9yWzJdKVxuICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpXG5cbiAgICAgICAgaWYgKG9uQ29sbGlkZSlcbiAgICAgICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCAoeyB0eXBlLCBib2R5LCB0YXJnZXQsIGNvbnRhY3QgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuaSwgcmksIHJqIH0gPSBjb250YWN0XG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgb3A6ICdldmVudCcsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGJvZHk6IGJvZHkudXVpZCxcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudXVpZCxcbiAgICAgICAgICAgICAgY29udGFjdDoge1xuICAgICAgICAgICAgICAgIG5pOiBuaS50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgcmk6IHJpLnRvQXJyYXkoKSxcbiAgICAgICAgICAgICAgICByajogcmoudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgIGltcGFjdFZlbG9jaXR5OiBjb250YWN0LmdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyczoge1xuICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJHcm91cDogYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCxcbiAgICAgICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxuICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlckdyb3VwOiB0YXJnZXQuY29sbGlzaW9uRmlsdGVyR3JvdXAsXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyTWFzazogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlck1hc2ssXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgICBzeW5jQm9kaWVzKClcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3JlbW92ZUJvZGllcyc6IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykgd29ybGQucmVtb3ZlQm9keShib2RpZXNbdXVpZFtpXV0pXG4gICAgICBzeW5jQm9kaWVzKClcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3N1YnNjcmliZSc6IHtcbiAgICAgIGNvbnN0IHsgaWQsIHR5cGUgfSA9IHByb3BzXG4gICAgICBzdWJzY3JpcHRpb25zW2lkXSA9IFt1dWlkLCB0eXBlXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAndW5zdWJzY3JpYmUnOiB7XG4gICAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1twcm9wc11cbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3NldFBvc2l0aW9uJzpcbiAgICAgIGJvZGllc1t1dWlkXS5wb3NpdGlvbi5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0UXVhdGVybmlvbic6XG4gICAgICBib2RpZXNbdXVpZF0ucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0VmVsb2NpdHknOlxuICAgICAgYm9kaWVzW3V1aWRdLnZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRBbmd1bGFyVmVsb2NpdHknOlxuICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJWZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0TGluZWFyRmFjdG9yJzpcbiAgICAgIGJvZGllc1t1dWlkXS5saW5lYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOlxuICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldE1hc3MnOlxuICAgICAgYm9kaWVzW3V1aWRdLm1hc3MgPSBwcm9wc1xuICAgICAgYm9kaWVzW3V1aWRdLnR5cGUgPSAxXG4gICAgICBib2RpZXNbdXVpZF0udXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6XG4gICAgICBib2RpZXNbdXVpZF0ubGluZWFyRGFtcGluZyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRGFtcGluZyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFsbG93U2xlZXAgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOlxuICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwU3BlZWRMaW1pdCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzpcbiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFRpbWVMaW1pdCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzpcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOlxuICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzpcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6XG4gICAgICBib2RpZXNbdXVpZF0uZml4ZWRSb3RhdGlvbiA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5Rm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6XG4gICAgICBib2RpZXNbdXVpZF0uYXBwbHlJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhZGRDb25zdHJhaW50Jzoge1xuICAgICAgY29uc3QgW2JvZHlBLCBib2R5Qiwgb3B0bnNdID0gcHJvcHNcbiAgICAgIGxldCB7IHBpdm90QSwgcGl2b3RCLCBheGlzQSwgYXhpc0IsIC4uLm9wdGlvbnMgfSA9IG9wdG5zXG5cbiAgICAgIC8vIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBlbmZvcmNlIGRlZmF1bHRzP1xuICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZFxuICAgICAgcGl2b3RCID0gQXJyYXkuaXNBcnJheShwaXZvdEIpID8gbmV3IFZlYzMoLi4ucGl2b3RCKSA6IHVuZGVmaW5lZFxuICAgICAgYXhpc0EgPSBBcnJheS5pc0FycmF5KGF4aXNBKSA/IG5ldyBWZWMzKC4uLmF4aXNBKSA6IHVuZGVmaW5lZFxuICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZFxuXG4gICAgICBsZXQgY29uc3RyYWludFxuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnUG9pbnRUb1BvaW50JzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoXG4gICAgICAgICAgICBib2RpZXNbYm9keUFdLFxuICAgICAgICAgICAgcGl2b3RBLFxuICAgICAgICAgICAgYm9kaWVzW2JvZHlCXSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIG9wdG5zLm1heEZvcmNlXG4gICAgICAgICAgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0NvbmVUd2lzdCc6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcbiAgICAgICAgICAgIHBpdm90QSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIGF4aXNBLFxuICAgICAgICAgICAgYXhpc0IsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnSGluZ2UnOlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcbiAgICAgICAgICAgIHBpdm90QSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIGF4aXNBLFxuICAgICAgICAgICAgYXhpc0IsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnRGlzdGFuY2UnOlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdMb2NrJzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkXG4gICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVDb25zdHJhaW50JzpcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IHdvcmxkLnJlbW92ZUNvbnN0cmFpbnQoYykpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmVuYWJsZSgpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50JzpcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IGMuZGlzYWJsZSgpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2FkZFNwcmluZyc6IHtcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXG4gICAgICBsZXQgeyB3b3JsZEFuY2hvckEsIHdvcmxkQW5jaG9yQiwgbG9jYWxBbmNob3JBLCBsb2NhbEFuY2hvckIsIHJlc3RMZW5ndGgsIHN0aWZmbmVzcywgZGFtcGluZyB9ID0gb3B0bnNcblxuICAgICAgd29ybGRBbmNob3JBID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckEpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JBKSA6IHVuZGVmaW5lZFxuICAgICAgd29ybGRBbmNob3JCID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckIpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JCKSA6IHVuZGVmaW5lZFxuICAgICAgbG9jYWxBbmNob3JBID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckEpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JBKSA6IHVuZGVmaW5lZFxuICAgICAgbG9jYWxBbmNob3JCID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckIpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JCKSA6IHVuZGVmaW5lZFxuXG4gICAgICBsZXQgc3ByaW5nID0gbmV3IFNwcmluZyhib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7XG4gICAgICAgIHdvcmxkQW5jaG9yQSxcbiAgICAgICAgd29ybGRBbmNob3JCLFxuICAgICAgICBsb2NhbEFuY2hvckEsXG4gICAgICAgIGxvY2FsQW5jaG9yQixcbiAgICAgICAgcmVzdExlbmd0aCxcbiAgICAgICAgc3RpZmZuZXNzLFxuICAgICAgICBkYW1waW5nLFxuICAgICAgfSlcblxuICAgICAgc3ByaW5nLnV1aWQgPSB1dWlkXG5cbiAgICAgIGxldCBwb3N0U3RlcFNwcmluZyA9IChlKSA9PiBzcHJpbmcuYXBwbHlGb3JjZSgpXG5cbiAgICAgIHNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZ1xuXG4gICAgICAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXBcbiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3JlbW92ZVNwcmluZyc6IHtcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2FkZFJheSc6IHtcbiAgICAgIGNvbnN0IHsgZnJvbSwgdG8sIC4uLm9wdGlvbnMgfSA9IHByb3BzXG4gICAgICBjb25zdCByYXkgPSBuZXcgUmF5KGZyb20gPyBuZXcgVmVjMyguLi5mcm9tKSA6IHVuZGVmaW5lZCwgdG8gPyBuZXcgVmVjMyguLi50bykgOiB1bmRlZmluZWQpXG4gICAgICBvcHRpb25zLm1vZGUgPSBSYXlbb3B0aW9ucy5tb2RlLnRvVXBwZXJDYXNlKCldXG4gICAgICBvcHRpb25zLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KClcbiAgICAgIHJheXNbdXVpZF0gPSAoKSA9PiB7XG4gICAgICAgIHJheS5pbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucylcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgcmF5RnJvbVdvcmxkLFxuICAgICAgICAgIHJheVRvV29ybGQsXG4gICAgICAgICAgaGl0Tm9ybWFsV29ybGQsXG4gICAgICAgICAgaGl0UG9pbnRXb3JsZCxcbiAgICAgICAgICAuLi5yZXN0XG4gICAgICAgIH0gPSBvcHRpb25zLnJlc3VsdFxuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBvcDogJ2V2ZW50JyxcbiAgICAgICAgICB0eXBlOiAncmF5aGl0JyxcbiAgICAgICAgICByYXk6IHtcbiAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogcmF5LmRpcmVjdGlvbi50b0FycmF5KCksXG4gICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJHcm91cDogcmF5LmNvbGxpc2lvbkZpbHRlckdyb3VwLFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyTWFzazogcmF5LmNvbGxpc2lvbkZpbHRlck1hc2ssXG4gICAgICAgICAgICB1dWlkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogYm9keSA/IGJvZHkudXVpZCA6IG51bGwsXG4gICAgICAgICAgc2hhcGU6IHNoYXBlID8geyAuLi5zaGFwZSwgYm9keTogYm9keS51dWlkIH0gOiBudWxsLFxuICAgICAgICAgIHJheUZyb21Xb3JsZDogcmF5RnJvbVdvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICByYXlUb1dvcmxkOiByYXlUb1dvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICBoaXROb3JtYWxXb3JsZDogaGl0Tm9ybWFsV29ybGQudG9BcnJheSgpLFxuICAgICAgICAgIGhpdFBvaW50V29ybGQ6IGhpdFBvaW50V29ybGQudG9BcnJheSgpLFxuICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3JlbW92ZVJheSc6IHtcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKVxuICAgICAgZGVsZXRlIHJheXNbdXVpZF1cbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2FkZFJheWNhc3RWZWhpY2xlJzoge1xuICAgICAgY29uc3QgW2NoYXNzaXNCb2R5LCB3aGVlbHMsIHdoZWVsSW5mb3MsIGluZGV4Rm9yd2FyZEF4aXMsIGluZGV4UmlnaHRBeGlzLCBpbmRleFVwQXhpc10gPSBwcm9wc1xuICAgICAgY29uc3QgdmVoaWNsZSA9IG5ldyBSYXljYXN0VmVoaWNsZSh7XG4gICAgICAgIGNoYXNzaXNCb2R5OiBib2RpZXNbY2hhc3Npc0JvZHldLFxuICAgICAgICBpbmRleEZvcndhcmRBeGlzOiBpbmRleEZvcndhcmRBeGlzLFxuICAgICAgICBpbmRleFJpZ2h0QXhpczogaW5kZXhSaWdodEF4aXMsXG4gICAgICAgIGluZGV4VXBBeGlzOiBpbmRleFVwQXhpcyxcbiAgICAgIH0pXG4gICAgICB2ZWhpY2xlLndvcmxkID0gd29ybGRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxJbmZvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB3aGVlbEluZm8gPSB3aGVlbEluZm9zW2ldXG4gICAgICAgIHdoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbClcbiAgICAgICAgd2hlZWxJbmZvLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwpXG4gICAgICAgIHdoZWVsSW5mby5heGxlTG9jYWwgPSBuZXcgVmVjMyguLi53aGVlbEluZm8uYXhsZUxvY2FsKVxuICAgICAgICB2ZWhpY2xlLmFkZFdoZWVsKHdoZWVsSW5mbylcbiAgICAgICAgY29uc3Qgd2hlZWxCb2R5ID0gYm9kaWVzW3doZWVsc1tpXV1cbiAgICAgIH1cbiAgICAgIHZlaGljbGVzW3V1aWRdID0ge1xuICAgICAgICB2ZWhpY2xlOiB2ZWhpY2xlLFxuICAgICAgICB3aGVlbHM6IHdoZWVscyxcbiAgICAgICAgcHJlU3RlcDogKCkgPT4ge1xuICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUudXBkYXRlVmVoaWNsZSh3b3JsZC5kdClcbiAgICAgICAgfSxcbiAgICAgICAgcG9zdFN0ZXA6ICgpID0+IHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaGljbGVzW3V1aWRdLnZlaGljbGUud2hlZWxJbmZvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVXaGVlbFRyYW5zZm9ybShpKVxuICAgICAgICAgICAgY29uc3QgdCA9IHZlaGljbGVzW3V1aWRdLnZlaGljbGUud2hlZWxJbmZvc1tpXS53b3JsZFRyYW5zZm9ybVxuICAgICAgICAgICAgY29uc3Qgd2hlZWxCb2R5ID0gYm9kaWVzW3ZlaGljbGVzW3V1aWRdLndoZWVsc1tpXV1cbiAgICAgICAgICAgIHdoZWVsQm9keS5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pXG4gICAgICAgICAgICB3aGVlbEJvZHkucXVhdGVybmlvbi5jb3B5KHQucXVhdGVybmlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdmVoaWNsZXNbdXVpZF0ucHJlU3RlcClcbiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVSYXljYXN0VmVoaWNsZSc6IHtcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKVxuICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wb3N0U3RlcClcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUud29ybGQgPSBudWxsXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlID0gbnVsbFxuICAgICAgZGVsZXRlIHZlaGljbGVzW3V1aWRdXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdzZXRSYXljYXN0VmVoaWNsZVN0ZWVyaW5nVmFsdWUnOiB7XG4gICAgICBjb25zdCBbdmFsdWUsIHdoZWVsSW5kZXhdID0gcHJvcHNcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0U3RlZXJpbmdWYWx1ZSh2YWx1ZSwgd2hlZWxJbmRleClcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2FwcGx5UmF5Y2FzdFZlaGljbGVFbmdpbmVGb3JjZSc6IHtcbiAgICAgIGNvbnN0IFt2YWx1ZSwgd2hlZWxJbmRleF0gPSBwcm9wc1xuICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5hcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc2V0UmF5Y2FzdFZlaGljbGVCcmFrZSc6IHtcbiAgICAgIGNvbnN0IFticmFrZSwgd2hlZWxJbmRleF0gPSBwcm9wc1xuICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5zZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleClcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiTWF0MyIsImNvbnN0cnVjdG9yIiwiZWxlbWVudHMiLCJpZGVudGl0eSIsImUiLCJzZXRaZXJvIiwic2V0VHJhY2UiLCJ2ZWN0b3IiLCJ4IiwieSIsInoiLCJnZXRUcmFjZSIsInRhcmdldCIsIlZlYzMiLCJ2bXVsdCIsInYiLCJzbXVsdCIsInMiLCJpIiwibGVuZ3RoIiwibW11bHQiLCJtYXRyaXgiLCJqIiwic3VtIiwiayIsInNjYWxlIiwidCIsInNvbHZlIiwiYiIsIm5yIiwibmMiLCJlcW5zIiwicHVzaCIsIm4iLCJucCIsImtwIiwicCIsIm11bHRpcGxpZXIiLCJpc05hTiIsIkluZmluaXR5IiwidG9TdHJpbmciLCJyb3ciLCJjb2x1bW4iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImNvcHkiLCJyIiwic2VwIiwicmV2ZXJzZSIsInNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24iLCJxIiwidyIsIngyIiwieTIiLCJ6MiIsInh4IiwieHkiLCJ4eiIsInl5IiwieXoiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsInRyYW5zcG9zZSIsIk10IiwiTSIsImNyb3NzIiwidngiLCJ2eSIsInZ6Iiwic2V0IiwidmFkZCIsInZzdWIiLCJjcm9zc21hdCIsIm5vcm1hbGl6ZSIsIk1hdGgiLCJzcXJ0IiwiaW52TiIsInVuaXQiLCJuaW52IiwibGVuZ3RoU3F1YXJlZCIsImRvdCIsImRpc3RhbmNlVG8iLCJweCIsInB5IiwicHoiLCJkaXN0YW5jZVNxdWFyZWQiLCJzY2FsYXIiLCJ2bXVsIiwiYWRkU2NhbGVkVmVjdG9yIiwiaXNaZXJvIiwibmVnYXRlIiwidGFuZ2VudHMiLCJ0MSIsInQyIiwibm9ybSIsIlZlYzNfdGFuZ2VudHNfbiIsImlub3JtIiwicmFuZFZlYyIsIlZlYzNfdGFuZ2VudHNfcmFuZFZlYyIsImFicyIsInRvQXJyYXkiLCJsZXJwIiwiYWxtb3N0RXF1YWxzIiwicHJlY2lzaW9uIiwiYWxtb3N0WmVybyIsImlzQW50aXBhcmFsbGVsVG8iLCJhbnRpcF9uZWciLCJjbG9uZSIsIlpFUk8iLCJVTklUX1giLCJVTklUX1kiLCJVTklUX1oiLCJBQUJCIiwib3B0aW9ucyIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwic2V0RnJvbVBvaW50cyIsInBvaW50cyIsInBvc2l0aW9uIiwicXVhdGVybmlvbiIsInNraW5TaXplIiwibCIsInUiLCJ0bXAiLCJhYWJiIiwiZXh0ZW5kIiwibWluIiwibWF4Iiwib3ZlcmxhcHMiLCJsMSIsInUxIiwibDIiLCJ1MiIsIm92ZXJsYXBzWCIsIm92ZXJsYXBzWSIsIm92ZXJsYXBzWiIsInZvbHVtZSIsImNvbnRhaW5zIiwiZ2V0Q29ybmVycyIsImEiLCJjIiwiZCIsImYiLCJnIiwiaCIsInRvTG9jYWxGcmFtZSIsImZyYW1lIiwiY29ybmVycyIsInRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzIiwiY29ybmVyIiwicG9pbnRUb0xvY2FsIiwidG9Xb3JsZEZyYW1lIiwicG9pbnRUb1dvcmxkIiwib3ZlcmxhcHNSYXkiLCJyYXkiLCJkaXJlY3Rpb24iLCJmcm9tIiwiZGlyRnJhY1giLCJkaXJGcmFjWSIsImRpckZyYWNaIiwidDMiLCJ0NCIsInQ1IiwidDYiLCJ0bWluIiwidG1heCIsIkFycmF5Q29sbGlzaW9uTWF0cml4IiwiZ2V0IiwiYmkiLCJiaiIsImluZGV4IiwidGVtcCIsInJlc2V0Iiwic2V0TnVtT2JqZWN0cyIsIkV2ZW50VGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJsaXN0ZW5lciIsIl9saXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJpbmNsdWRlcyIsImhhc0V2ZW50TGlzdGVuZXIiLCJoYXNBbnlFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJsaXN0ZW5lckFycmF5IiwiY2FsbCIsIlF1YXRlcm5pb24iLCJzZXRGcm9tQXhpc0FuZ2xlIiwiYW5nbGUiLCJzaW4iLCJjb3MiLCJ0b0F4aXNBbmdsZSIsInRhcmdldEF4aXMiLCJhY29zIiwic2V0RnJvbVZlY3RvcnMiLCJzZnZfdDEiLCJzZnZfdDIiLCJQSSIsIm11bHQiLCJxdWF0IiwiYXgiLCJheSIsImF6IiwiYXciLCJieCIsImJ5IiwiYnoiLCJidyIsImludmVyc2UiLCJjb25qdWdhdGUiLCJpbm9ybTIiLCJub3JtYWxpemVGYXN0IiwicXgiLCJxeSIsInF6IiwicXciLCJpeCIsIml5IiwiaXoiLCJpdyIsInRvRXVsZXIiLCJvcmRlciIsImhlYWRpbmciLCJhdHRpdHVkZSIsImJhbmsiLCJ0ZXN0IiwiYXRhbjIiLCJzcXgiLCJzcXkiLCJzcXoiLCJhc2luIiwiRXJyb3IiLCJzZXRGcm9tRXVsZXIiLCJjMSIsImMyIiwiYzMiLCJzMSIsInMyIiwiczMiLCJzbGVycCIsInRvUXVhdCIsIm9tZWdhIiwiY29zb20iLCJzaW5vbSIsInNjYWxlMCIsInNjYWxlMSIsImludGVncmF0ZSIsImFuZ3VsYXJWZWxvY2l0eSIsImR0IiwiYW5ndWxhckZhY3RvciIsImhhbGZfZHQiLCJTSEFQRV9UWVBFUyIsIlNQSEVSRSIsIlBMQU5FIiwiQk9YIiwiQ09NUE9VTkQiLCJDT05WRVhQT0xZSEVEUk9OIiwiSEVJR0hURklFTEQiLCJQQVJUSUNMRSIsIkNZTElOREVSIiwiVFJJTUVTSCIsIlNoYXBlIiwiaWQiLCJpZENvdW50ZXIiLCJib3VuZGluZ1NwaGVyZVJhZGl1cyIsImNvbGxpc2lvblJlc3BvbnNlIiwiY29sbGlzaW9uRmlsdGVyR3JvdXAiLCJjb2xsaXNpb25GaWx0ZXJNYXNrIiwibWF0ZXJpYWwiLCJib2R5IiwidXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMiLCJjYWxjdWxhdGVMb2NhbEluZXJ0aWEiLCJtYXNzIiwiY2FsY3VsYXRlV29ybGRBQUJCIiwicG9zIiwidHlwZXMiLCJUcmFuc2Zvcm0iLCJ3b3JsZFBvaW50IiwicmVzdWx0IiwicG9pbnRUb0xvY2FsRnJhbWUiLCJsb2NhbFBvaW50IiwicG9pbnRUb1dvcmxkRnJhbWUiLCJ2ZWN0b3JUb1dvcmxkRnJhbWUiLCJsb2NhbFZlY3RvciIsInRtcFF1YXQiLCJ2ZWN0b3JUb0xvY2FsRnJhbWUiLCJ3b3JsZFZlY3RvciIsIkNvbnZleFBvbHloZWRyb24iLCJwcm9wcyIsInZlcnRpY2VzIiwiZmFjZXMiLCJub3JtYWxzIiwiYXhlcyIsImZhY2VOb3JtYWxzIiwiY29tcHV0ZU5vcm1hbHMiLCJ3b3JsZFZlcnRpY2VzIiwid29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIiwid29ybGRGYWNlTm9ybWFscyIsIndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSIsInVuaXF1ZUF4ZXMiLCJzbGljZSIsInVuaXF1ZUVkZ2VzIiwiY29tcHV0ZUVkZ2VzIiwiZWRnZXMiLCJlZGdlIiwiZmFjZSIsIm51bVZlcnRpY2VzIiwiZm91bmQiLCJnZXRGYWNlTm9ybWFsIiwidmVydGV4IiwiY29uc29sZSIsImVycm9yIiwid2FybiIsInZhIiwidmIiLCJ2YyIsImNvbXB1dGVOb3JtYWwiLCJjbGlwQWdhaW5zdEh1bGwiLCJwb3NBIiwicXVhdEEiLCJodWxsQiIsInBvc0IiLCJxdWF0QiIsInNlcGFyYXRpbmdOb3JtYWwiLCJtaW5EaXN0IiwibWF4RGlzdCIsIldvcmxkTm9ybWFsIiwiY2xvc2VzdEZhY2VCIiwiZG1heCIsIk51bWJlciIsIk1BWF9WQUxVRSIsIndvcmxkVmVydHNCMSIsIndvcmxkYiIsImNsaXBGYWNlQWdhaW5zdEh1bGwiLCJmaW5kU2VwYXJhdGluZ0F4aXMiLCJmYWNlTGlzdEEiLCJmYWNlTGlzdEIiLCJmYWNlQU5vcm1hbFdTMyIsIldvcmxkbm9ybWFsMSIsImRlbHRhQyIsIndvcmxkRWRnZTAiLCJ3b3JsZEVkZ2UxIiwiQ3Jvc3MiLCJkbWluIiwiaHVsbEEiLCJudW1GYWNlc0EiLCJmaSIsInRlc3RTZXBBeGlzIiwibnVtRmFjZXNCIiwiZTAiLCJlMSIsImRpc3QiLCJheGlzIiwicHJvamVjdCIsIm1heG1pbkEiLCJtYXhtaW5CIiwibWF4QSIsIm1pbkEiLCJtYXhCIiwibWluQiIsImQwIiwiZDEiLCJkZXB0aCIsImFhYmJtYXgiLCJhYWJibWluIiwiY29tcHV0ZUxvY2FsQUFCQiIsImdldFBsYW5lQ29uc3RhbnRPZkZhY2UiLCJmYWNlX2kiLCJmYWNlQU5vcm1hbFdTIiwiZWRnZTAiLCJXb3JsZEVkZ2UwIiwid29ybGRQbGFuZUFub3JtYWwxIiwicGxhbmVOb3JtYWxXUzEiLCJ3b3JsZEExIiwibG9jYWxQbGFuZU5vcm1hbCIsInBsYW5lTm9ybWFsV1MiLCJ3b3JsZFZlcnRzQjIiLCJwVnR4SW4iLCJwVnR4T3V0IiwiY2xvc2VzdEZhY2VBIiwicG9seUEiLCJjb25uZWN0ZWRGYWNlcyIsIm51bVZlcnRpY2VzQSIsIm90aGVyRmFjZSIsImxvY2FsUGxhbmVFcSIsInBsYW5lRXFXUyIsImNsaXBGYWNlQWdhaW5zdFBsYW5lIiwic2hpZnQiLCJsb2ciLCJwb2ludCIsIm5vcm1hbCIsImluVmVydGljZXMiLCJvdXRWZXJ0aWNlcyIsInBsYW5lTm9ybWFsIiwicGxhbmVDb25zdGFudCIsIm5fZG90X2ZpcnN0Iiwibl9kb3RfbGFzdCIsIm51bVZlcnRzIiwiZmlyc3RWZXJ0ZXgiLCJsYXN0VmVydGV4IiwidmkiLCJuZXd2IiwiY29tcHV0ZVdvcmxkVmVydGljZXMiLCJ2ZXJ0cyIsIndvcmxkVmVydHMiLCJjb21wdXRlV29ybGRGYWNlTm9ybWFscyIsIk4iLCJ3b3JsZE5vcm1hbHMiLCJtYXgyIiwibm9ybTIiLCJtaW54IiwibWlueSIsIm1pbnoiLCJtYXh4IiwibWF4eSIsIm1heHoiLCJ0ZW1wV29ybGRWZXJ0ZXgiLCJnZXRBdmVyYWdlUG9pbnRMb2NhbCIsInRyYW5zZm9ybUFsbFBvaW50cyIsIm9mZnNldCIsInBvaW50SXNJbnNpZGUiLCJwb2ludEluc2lkZSIsInZUb1AiLCJyMSIsInZUb1BvaW50SW5zaWRlIiwicjIiLCJjYiIsImFiIiwic2hhcGUiLCJsb2NhbEF4aXMiLCJsb2NhbE9yaWdpbiIsInZzIiwiYWRkIiwidmFsIiwiQm94IiwiaGFsZkV4dGVudHMiLCJjb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJ1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJzeCIsInN5Iiwic3oiLCJWIiwiY2FsY3VsYXRlSW5lcnRpYSIsImdldFNpZGVOb3JtYWxzIiwic2l4VGFyZ2V0VmVjdG9ycyIsInNpZGVzIiwiZXgiLCJmb3JFYWNoV29ybGRDb3JuZXIiLCJjYWxsYmFjayIsIndvcmxkQ29ybmVyVGVtcFBvcyIsIndvcmxkQ29ybmVyc1RlbXAiLCJ3YyIsIkJPRFlfU0xFRVBfU1RBVEVTIiwiQVdBS0UiLCJTTEVFUFkiLCJTTEVFUElORyIsIkJvZHkiLCJ3b3JsZCIsInByZVN0ZXAiLCJwb3N0U3RlcCIsInZsYW1iZGEiLCJwcmV2aW91c1Bvc2l0aW9uIiwiaW50ZXJwb2xhdGVkUG9zaXRpb24iLCJpbml0UG9zaXRpb24iLCJ2ZWxvY2l0eSIsImluaXRWZWxvY2l0eSIsImZvcmNlIiwiaW52TWFzcyIsImxpbmVhckRhbXBpbmciLCJTVEFUSUMiLCJEWU5BTUlDIiwiYWxsb3dTbGVlcCIsInNsZWVwU3RhdGUiLCJzbGVlcFNwZWVkTGltaXQiLCJzbGVlcFRpbWVMaW1pdCIsInRpbWVMYXN0U2xlZXB5Iiwid2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSIsInRvcnF1ZSIsImluaXRRdWF0ZXJuaW9uIiwicHJldmlvdXNRdWF0ZXJuaW9uIiwiaW50ZXJwb2xhdGVkUXVhdGVybmlvbiIsImluaXRBbmd1bGFyVmVsb2NpdHkiLCJzaGFwZXMiLCJzaGFwZU9mZnNldHMiLCJzaGFwZU9yaWVudGF0aW9ucyIsImluZXJ0aWEiLCJpbnZJbmVydGlhIiwiaW52SW5lcnRpYVdvcmxkIiwiaW52TWFzc1NvbHZlIiwiaW52SW5lcnRpYVNvbHZlIiwiaW52SW5lcnRpYVdvcmxkU29sdmUiLCJmaXhlZFJvdGF0aW9uIiwiYW5ndWxhckRhbXBpbmciLCJsaW5lYXJGYWN0b3IiLCJhYWJiTmVlZHNVcGRhdGUiLCJib3VuZGluZ1JhZGl1cyIsIndsYW1iZGEiLCJhZGRTaGFwZSIsInVwZGF0ZU1hc3NQcm9wZXJ0aWVzIiwid2FrZVVwIiwicHJldlN0YXRlIiwid2FrZXVwRXZlbnQiLCJzbGVlcCIsInNsZWVwVGljayIsInRpbWUiLCJzcGVlZFNxdWFyZWQiLCJzcGVlZExpbWl0U3F1YXJlZCIsInNsZWVweUV2ZW50Iiwic2xlZXBFdmVudCIsInVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMiLCJLSU5FTUFUSUMiLCJfb2Zmc2V0IiwiX29yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJ1cGRhdGVCb3VuZGluZ1JhZGl1cyIsInJhZGl1cyIsImNvbXB1dGVBQUJCIiwidG1wVmVjIiwidG1wUXVhdCQxIiwiYm9keVF1YXQiLCJzaGFwZUFBQkIiLCJjb21wdXRlQUFCQl9zaGFwZUFBQkIiLCJ1cGRhdGVJbmVydGlhV29ybGQiLCJJIiwibTEiLCJ1aXdfbTEiLCJtMiIsInVpd19tMiIsImFwcGx5Rm9yY2UiLCJyZWxhdGl2ZVBvaW50Iiwicm90Rm9yY2UiLCJCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UiLCJhcHBseUxvY2FsRm9yY2UiLCJsb2NhbEZvcmNlIiwid29ybGRGb3JjZSIsIkJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UiLCJyZWxhdGl2ZVBvaW50V29ybGQiLCJCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQiLCJhcHBseUltcHVsc2UiLCJpbXB1bHNlIiwidmVsbyIsIkJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8iLCJyb3RWZWxvIiwiQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyIsImFwcGx5TG9jYWxJbXB1bHNlIiwibG9jYWxJbXB1bHNlIiwid29ybGRJbXB1bHNlIiwiQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UiLCJCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQiLCJCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzIiwiZml4ZWQiLCJnZXRWZWxvY2l0eUF0V29ybGRQb2ludCIsInF1YXROb3JtYWxpemUiLCJxdWF0Tm9ybWFsaXplRmFzdCIsImFuZ3VsYXJWZWxvIiwiaU1kdCIsInR4IiwidHkiLCJ0eiIsIkNPTExJREVfRVZFTlRfTkFNRSIsIkJyb2FkcGhhc2UiLCJ1c2VCb3VuZGluZ0JveGVzIiwiZGlydHkiLCJjb2xsaXNpb25QYWlycyIsInAxIiwicDIiLCJuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbiIsImJvZHlBIiwiYm9keUIiLCJpbnRlcnNlY3Rpb25UZXN0IiwicGFpcnMxIiwicGFpcnMyIiwiZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UiLCJkb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZSIsIkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciIsImJvdW5kaW5nUmFkaXVzU3VtMiIsIm1ha2VQYWlyc1VuaXF1ZSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXAiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyIiwiaWQxIiwiaWQyIiwia2V5Iiwia2V5cyIsInBvcCIsInBhaXJJbmRleCIsInNldFdvcmxkIiwiYWFiYlF1ZXJ5IiwiYm91bmRpbmdTcGhlcmVDaGVjayIsInNhIiwic2IiLCJwb3ciLCJOYWl2ZUJyb2FkcGhhc2UiLCJib2RpZXMiLCJSYXljYXN0UmVzdWx0IiwicmF5RnJvbVdvcmxkIiwicmF5VG9Xb3JsZCIsImhpdE5vcm1hbFdvcmxkIiwiaGl0UG9pbnRXb3JsZCIsImhhc0hpdCIsImhpdEZhY2VJbmRleCIsImRpc3RhbmNlIiwic2hvdWxkU3RvcCIsImFib3J0IiwiUmF5IiwidG8iLCJjaGVja0NvbGxpc2lvblJlc3BvbnNlIiwic2tpcEJhY2tmYWNlcyIsIm1vZGUiLCJBTlkiLCJpbnRlcnNlY3RXb3JsZCIsInVwZGF0ZURpcmVjdGlvbiIsImdldEFBQkIiLCJ0bXBBQUJCIiwidG1wQXJyYXkiLCJicm9hZHBoYXNlIiwiaW50ZXJzZWN0Qm9kaWVzIiwiaW50ZXJzZWN0Qm9keSIsInhpIiwiaW50ZXJzZWN0Qm9keV94aSIsInFpIiwiaW50ZXJzZWN0Qm9keV9xaSIsImludGVyc2VjdFNoYXBlIiwiZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0TWV0aG9kIiwiX2ludGVyc2VjdEJveCIsImJveCIsInJlcG9ydGVkU2hhcGUiLCJfaW50ZXJzZWN0Q29udmV4IiwiX2ludGVyc2VjdFBsYW5lIiwid29ybGROb3JtYWwiLCJsZW4iLCJwbGFuZVRvRnJvbSIsInBsYW5lVG9UbyIsIm5fZG90X2RpciIsInBsYW5lUG9pbnRUb0Zyb20iLCJkaXJfc2NhbGVkX3dpdGhfdCIsInJlcG9ydEludGVyc2VjdGlvbiIsIl9pbnRlcnNlY3RIZWlnaHRmaWVsZCIsImRhdGEiLCJlbGVtZW50U2l6ZSIsImxvY2FsUmF5IiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkiLCJpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCIsImlNaW5YIiwiaU1pblkiLCJpTWF4WCIsImlNYXhZIiwiZ2V0SW5kZXhPZlBvc2l0aW9uIiwiZ2V0QWFiYkF0SW5kZXgiLCJnZXRDb252ZXhUcmlhbmdsZVBpbGxhciIsInBpbGxhck9mZnNldCIsIndvcmxkUGlsbGFyT2Zmc2V0IiwicGlsbGFyQ29udmV4IiwiaW50ZXJzZWN0Q29udmV4T3B0aW9ucyIsIl9pbnRlcnNlY3RTcGhlcmUiLCJzcGhlcmUiLCJkZWx0YSIsImludGVyc2VjdGlvblBvaW50IiwiUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsIiwiZDIiLCJpbnRlcnNlY3RDb252ZXhfbm9ybWFsIiwiaW50ZXJzZWN0Q29udmV4X3ZlY3RvciIsImZhY2VMaXN0IiwiZnJvbVRvRGlzdGFuY2UiLCJOZmFjZXMiLCJmYWNlTm9ybWFsIiwiaW50ZXJzZWN0UG9pbnQiLCJwb2ludEluVHJpYW5nbGUiLCJfaW50ZXJzZWN0VHJpbWVzaCIsIm1lc2giLCJpbnRlcnNlY3RUcmltZXNoX25vcm1hbCIsInRyaWFuZ2xlcyIsImludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzIiwidHJlZVRyYW5zZm9ybSIsImludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSIsImxvY2FsRGlyZWN0aW9uIiwiaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiIsImxvY2FsRnJvbSIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tIiwibG9jYWxUbyIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyIsIndvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsIiwiaW5kaWNlcyIsImZyb21Ub0Rpc3RhbmNlU3F1YXJlZCIsInRyZWUiLCJyYXlRdWVyeSIsInRyaWFuZ2xlc0luZGV4IiwiZ2V0Tm9ybWFsIiwiZ2V0VmVydGV4Iiwic3F1YXJlZERpc3RhbmNlIiwiQUxMIiwiQ0xPU0VTVCIsInYxIiwidjIiLCJ2MCIsImRvdDAwIiwiZG90MDEiLCJkb3QwMiIsImRvdDExIiwiZG90MTIiLCJwcm90b3R5cGUiLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiIsImludGVyc2VjdCIsIlNBUEJyb2FkcGhhc2UiLCJheGlzTGlzdCIsImF4aXNJbmRleCIsIl9hZGRCb2R5SGFuZGxlciIsIl9yZW1vdmVCb2R5SGFuZGxlciIsImlkeCIsInNvcnRMaXN0IiwiY2hlY2tCb3VuZHMiLCJpbnNlcnRpb25Tb3J0WCIsImluc2VydGlvblNvcnRZIiwiaW5zZXJ0aW9uU29ydFoiLCJhdXRvRGV0ZWN0QXhpcyIsInN1bVgiLCJzdW1YMiIsInN1bVkiLCJzdW1ZMiIsInN1bVoiLCJzdW1aMiIsImNlbnRlclgiLCJjZW50ZXJZIiwiY2VudGVyWiIsInZhcmlhbmNlWCIsInZhcmlhbmNlWSIsInZhcmlhbmNlWiIsImxvd2VyIiwidXBwZXIiLCJiaVBvcyIsImJqUG9zIiwicmkiLCJyaiIsImJvdW5kQTIiLCJib3VuZEIxIiwiVXRpbHMiLCJkZWZhdWx0cyIsIkNvbnN0cmFpbnQiLCJjb2xsaWRlQ29ubmVjdGVkIiwid2FrZVVwQm9kaWVzIiwiZXF1YXRpb25zIiwidXBkYXRlIiwiZW5hYmxlIiwiZXFzIiwiZW5hYmxlZCIsImRpc2FibGUiLCJKYWNvYmlhbkVsZW1lbnQiLCJzcGF0aWFsIiwicm90YXRpb25hbCIsIm11bHRpcGx5RWxlbWVudCIsImVsZW1lbnQiLCJtdWx0aXBseVZlY3RvcnMiLCJFcXVhdGlvbiIsIm1pbkZvcmNlIiwibWF4Rm9yY2UiLCJlcHMiLCJqYWNvYmlhbkVsZW1lbnRBIiwiamFjb2JpYW5FbGVtZW50QiIsInNldFNwb29rUGFyYW1zIiwic3RpZmZuZXNzIiwicmVsYXhhdGlvbiIsInRpbWVTdGVwIiwiY29tcHV0ZUIiLCJHVyIsImNvbXB1dGVHVyIsIkdxIiwiY29tcHV0ZUdxIiwiR2lNZiIsImNvbXB1dGVHaU1mIiwiR0EiLCJHQiIsInhqIiwidmoiLCJ3aSIsIndqIiwiY29tcHV0ZUdXbGFtYmRhIiwidGkiLCJmaiIsInRqIiwiaW52TWFzc2kiLCJpbnZNYXNzaiIsImlNZmkiLCJpTWZqIiwiaW52SWlfdm11bHRfdGF1aSIsImludklqX3ZtdWx0X3RhdWoiLCJjb21wdXRlR2lNR3QiLCJpbnZJaSIsImludklqIiwidG1wJDEiLCJhZGRUb1dsYW1iZGEiLCJkZWx0YWxhbWJkYSIsImFkZFRvV2xhbWJkYV90ZW1wIiwiY29tcHV0ZUMiLCJDb250YWN0RXF1YXRpb24iLCJyZXN0aXR1dGlvbiIsIm5pIiwicml4biIsIkNvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSIsInJqeG4iLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIiLCJ0YXVpIiwidGF1aiIsInBlbmV0cmF0aW9uVmVjIiwiQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzIiwiZVBsdXNPbmUiLCJCIiwiZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmoiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqIiwicmVsVmVsIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsIiwiUG9pbnRUb1BvaW50Q29uc3RyYWludCIsInBpdm90QSIsInBpdm90QiIsImVxdWF0aW9uWCIsImVxdWF0aW9uWSIsImVxdWF0aW9uWiIsIkNvbmVFcXVhdGlvbiIsImF4aXNBIiwiYXhpc0IiLCJuaiIsIm5peG5qIiwidG1wVmVjMSIsIm5qeG5pIiwidG1wVmVjMiIsIlJvdGF0aW9uYWxFcXVhdGlvbiIsIm1heEFuZ2xlIiwidG1wVmVjMSQxIiwidG1wVmVjMiQxIiwiQ29uZVR3aXN0Q29uc3RyYWludCIsImNvbmVFcXVhdGlvbiIsInR3aXN0RXF1YXRpb24iLCJ0d2lzdEFuZ2xlIiwiY29uZSIsInR3aXN0IiwiRGlzdGFuY2VDb25zdHJhaW50IiwiZXEiLCJkaXN0YW5jZUVxdWF0aW9uIiwiaGFsZkRpc3QiLCJMb2NrQ29uc3RyYWludCIsImhhbGZXYXkiLCJ4QSIsInhCIiwieUEiLCJ5QiIsInpBIiwiekIiLCJyb3RhdGlvbmFsRXF1YXRpb24xIiwicm90YXRpb25hbEVxdWF0aW9uMiIsInIzIiwicm90YXRpb25hbEVxdWF0aW9uMyIsIm1vdG9yIiwibW90b3JFcXVhdGlvbiIsIlJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIiwidGFyZ2V0VmVsb2NpdHkiLCJIaW5nZUNvbnN0cmFpbnQiLCJyb3RhdGlvbmFsMSIsInJvdGF0aW9uYWwyIiwiZW5hYmxlTW90b3IiLCJkaXNhYmxlTW90b3IiLCJzZXRNb3RvclNwZWVkIiwic3BlZWQiLCJzZXRNb3Rvck1heEZvcmNlIiwid29ybGRBeGlzQSIsIkhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSIsIndvcmxkQXhpc0IiLCJIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIiLCJGcmljdGlvbkVxdWF0aW9uIiwic2xpcEZvcmNlIiwicml4dCIsIkZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEiLCJyanh0IiwiRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiIsIkNvbnRhY3RNYXRlcmlhbCIsImZyaWN0aW9uIiwiY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzIiwiY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiIsImZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MiLCJmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiIsIm1hdGVyaWFscyIsIk1hdGVyaWFsIiwibmFtZSIsIlNwcmluZyIsInJlc3RMZW5ndGgiLCJkYW1waW5nIiwibG9jYWxBbmNob3JBIiwibG9jYWxBbmNob3JCIiwid29ybGRBbmNob3JBIiwic2V0V29ybGRBbmNob3JBIiwid29ybGRBbmNob3JCIiwic2V0V29ybGRBbmNob3JCIiwiZ2V0V29ybGRBbmNob3JBIiwiZ2V0V29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yIiwicl91bml0IiwiYXBwbHlGb3JjZV9yX3VuaXQiLCJhcHBseUZvcmNlX3UiLCJhcHBseUZvcmNlX2YiLCJhcHBseUZvcmNlX3RtcCIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBIiwiYXBwbHlGb3JjZV93b3JsZEFuY2hvckIiLCJhcHBseUZvcmNlX3JpIiwiYXBwbHlGb3JjZV9yaiIsInJpX3hfZiIsImFwcGx5Rm9yY2VfcmlfeF9mIiwicmpfeF9mIiwiYXBwbHlGb3JjZV9yal94X2YiLCJybGVuIiwiV2hlZWxJbmZvIiwiY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsIiwiY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkIiwiZGlyZWN0aW9uTG9jYWwiLCJkaXJlY3Rpb25Xb3JsZCIsImF4bGVMb2NhbCIsImF4bGVXb3JsZCIsInN1c3BlbnNpb25SZXN0TGVuZ3RoIiwic3VzcGVuc2lvbk1heExlbmd0aCIsInN1c3BlbnNpb25TdGlmZm5lc3MiLCJkYW1waW5nQ29tcHJlc3Npb24iLCJkYW1waW5nUmVsYXhhdGlvbiIsImZyaWN0aW9uU2xpcCIsInN0ZWVyaW5nIiwicm90YXRpb24iLCJkZWx0YVJvdGF0aW9uIiwicm9sbEluZmx1ZW5jZSIsIm1heFN1c3BlbnNpb25Gb3JjZSIsImlzRnJvbnRXaGVlbCIsImNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiIsInN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5Iiwic3VzcGVuc2lvbkZvcmNlIiwic2xpcEluZm8iLCJza2lkSW5mbyIsInN1c3BlbnNpb25MZW5ndGgiLCJtYXhTdXNwZW5zaW9uVHJhdmVsIiwidXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCIsImN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQiLCJzbGlkaW5nIiwiZW5naW5lRm9yY2UiLCJicmFrZSIsInNpZGVJbXB1bHNlIiwiZm9yd2FyZEltcHVsc2UiLCJyYXljYXN0UmVzdWx0Iiwid29ybGRUcmFuc2Zvcm0iLCJpc0luQ29udGFjdCIsInVwZGF0ZVdoZWVsIiwiY2hhc3NpcyIsInJlbHBvcyIsImNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50IiwicHJvalZlbCIsImludiIsIlJheWNhc3RWZWhpY2xlIiwiY2hhc3Npc0JvZHkiLCJ3aGVlbEluZm9zIiwiaW5kZXhSaWdodEF4aXMiLCJpbmRleEZvcndhcmRBeGlzIiwiaW5kZXhVcEF4aXMiLCJjb25zdHJhaW50cyIsInByZVN0ZXBDYWxsYmFjayIsImN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIiLCJhZGRXaGVlbCIsImluZm8iLCJzZXRTdGVlcmluZ1ZhbHVlIiwid2hlZWxJbmRleCIsIndoZWVsIiwiYXBwbHlFbmdpbmVGb3JjZSIsInNldEJyYWtlIiwiYWRkVG9Xb3JsZCIsImFkZEJvZHkiLCJ0aGF0IiwidXBkYXRlVmVoaWNsZSIsImdldFZlaGljbGVBeGlzV29ybGQiLCJudW1XaGVlbHMiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybSIsImZvcndhcmRXb3JsZCIsImNhc3RSYXkiLCJ1cGRhdGVTdXNwZW5zaW9uIiwidXBkYXRlRnJpY3Rpb24iLCJoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qIiwiZndkIiwidmVsIiwibSIsInByb2oiLCJwcm9qMiIsImRlbHRhVGltZSIsImNoYXNzaXNNYXNzIiwid19pdCIsInN1c3BfbGVuZ3RoIiwiY3VycmVudF9sZW5ndGgiLCJsZW5ndGhfZGlmZiIsInByb2plY3RlZF9yZWxfdmVsIiwic3VzcF9kYW1waW5nIiwicmVtb3ZlRnJvbVdvcmxkIiwicmVtb3ZlQm9keSIsInJheXZlY3RvciIsImNhc3RSYXlfcmF5dmVjdG9yIiwiY2FzdFJheV90YXJnZXQiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkIiwicmF5bGVuIiwic291cmNlIiwib2xkU3RhdGUiLCJyYXlUZXN0Iiwib2JqZWN0IiwiZ3JvdW5kT2JqZWN0IiwiaGl0RGlzdGFuY2UiLCJtaW5TdXNwZW5zaW9uTGVuZ3RoIiwibWF4U3VzcGVuc2lvbkxlbmd0aCIsImRlbm9taW5hdG9yIiwidXAiLCJ0bXBWZWM0IiwicmlnaHQiLCJ0bXBWZWM1IiwidG1wVmVjNiIsInN0ZWVyaW5nT3JuIiwicm90YXRpbmdPcm4iLCJnZXRXaGVlbFRyYW5zZm9ybVdvcmxkIiwic3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwidXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwiZm9yd2FyZFdTIiwidXBkYXRlRnJpY3Rpb25fZm9yd2FyZFdTIiwiYXhsZSIsInVwZGF0ZUZyaWN0aW9uX2F4bGUiLCJheGxlaSIsIndoZWVsVHJhbnMiLCJkaXJlY3Rpb25zIiwic3VyZk5vcm1hbFdTIiwicmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbCIsInNpZGVGcmljdGlvblN0aWZmbmVzczIiLCJzaWRlRmFjdG9yIiwiZndkRmFjdG9yIiwicm9sbGluZ0ZyaWN0aW9uIiwiZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UiLCJtYXhJbXB1bHNlIiwiY2FsY1JvbGxpbmdGcmljdGlvbiIsImZhY3RvciIsIm1heGltcCIsIm1heGltcFNpZGUiLCJtYXhpbXBTcXVhcmVkIiwiaW1wdWxzZVNxdWFyZWQiLCJyZWxfcG9zIiwicmVsX3BvczIiLCJzaWRlSW1wIiwidG1wUmF5IiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwiLCJib2R5MCIsImJvZHkxIiwiZnJpY3Rpb25Qb3NXb3JsZCIsImZyaWN0aW9uRGlyZWN0aW9uV29ybGQiLCJqMSIsImNvbnRhY3RQb3NXb3JsZCIsInZlbDEiLCJ2ZWwyIiwidnJlbCIsImRlbm9tMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IiLCJkZW5vbTEiLCJqYWNEaWFnQUJJbnYiLCJjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tIiwicjAiLCJjMCIsInZlYyIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMiIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsIiwicG9zMSIsImJvZHkyIiwicG9zMiIsIm5vcm1hbExlblNxciIsInJlbF92ZWwiLCJjb250YWN0RGFtcGluZyIsIm1hc3NUZXJtIiwiU3BoZXJlIiwiQ3lsaW5kZXIiLCJyYWRpdXNUb3AiLCJyYWRpdXNCb3R0b20iLCJoZWlnaHQiLCJudW1TZWdtZW50cyIsImJvdHRvbWZhY2UiLCJ0b3BmYWNlIiwidGhldGEiLCJ0aGV0YU4iLCJQYXJ0aWNsZSIsIlBsYW5lIiwid29ybGROb3JtYWxOZWVkc1VwZGF0ZSIsImNvbXB1dGVXb3JsZE5vcm1hbCIsInRlbXBOb3JtYWwiLCJtYXhWYWwiLCJIZWlnaHRmaWVsZCIsIm1heFZhbHVlIiwibWluVmFsdWUiLCJ1cGRhdGVNaW5WYWx1ZSIsInVwZGF0ZU1heFZhbHVlIiwiY2FjaGVFbmFibGVkIiwiX2NhY2hlZFBpbGxhcnMiLCJzZXRIZWlnaHRWYWx1ZUF0SW5kZXgiLCJ5aSIsImNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJnZXRSZWN0TWluTWF4IiwiY2xhbXAiLCJmbG9vciIsImdldFRyaWFuZ2xlQXQiLCJlZGdlQ2xhbXAiLCJnZXRIZWlnaHRBdF9pZHgiLCJsb3dlckRpc3QyIiwidXBwZXJEaXN0MiIsImdldFRyaWFuZ2xlIiwiZ2V0Tm9ybWFsQXQiLCJnZXROb3JtYWxBdF9hIiwiZ2V0Tm9ybWFsQXRfYiIsImdldE5vcm1hbEF0X2MiLCJnZXROb3JtYWxBdF9lMCIsImdldE5vcm1hbEF0X2UxIiwiZ2V0SGVpZ2h0QXQiLCJnZXRIZWlnaHRBdF9hIiwiZ2V0SGVpZ2h0QXRfYiIsImdldEhlaWdodEF0X2MiLCJiYXJ5Y2VudHJpY1dlaWdodHMiLCJnZXRIZWlnaHRBdF93ZWlnaHRzIiwiZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSIsImdldFVwcGVyVHJpYW5nbGUiLCJnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhciIsInNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyIiwiY29udmV4Iiwib2Zmc2V0UmVzdWx0Iiwic2V0SGVpZ2h0c0Zyb21JbWFnZSIsImltYWdlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInVuc2hpZnQiLCJjeCIsImN5IiwiT2N0cmVlTm9kZSIsInJvb3QiLCJjaGlsZHJlbiIsImluc2VydCIsImVsZW1lbnREYXRhIiwibGV2ZWwiLCJub2RlRGF0YSIsIm1heERlcHRoIiwic3ViZGl2aWRlZCIsInN1YmRpdmlkZSIsImhhbGZEaWFnb25hbCIsImNoaWxkIiwicXVldWUiLCJub2RlIiwiQXJyYXkiLCJhcHBseSIsInRtcEFBQkIkMSIsInJlbW92ZUVtcHR5Tm9kZXMiLCJPY3RyZWUiLCJUcmltZXNoIiwiRmxvYXQzMkFycmF5IiwiSW50MTZBcnJheSIsInVwZGF0ZUVkZ2VzIiwidXBkYXRlTm9ybWFscyIsInVwZGF0ZUFBQkIiLCJ1cGRhdGVUcmVlIiwidHJpYW5nbGVBQUJCIiwiaTMiLCJfZ2V0VW5zY2FsZWRWZXJ0ZXgiLCJnZXRUcmlhbmdsZXNJbkFBQkIiLCJ1bnNjYWxlZEFBQkIiLCJpc3giLCJpc3kiLCJpc3oiLCJzZXRTY2FsZSIsIndhc1VuaWZvcm0iLCJpc1VuaWZvcm0iLCJjb21wdXRlTm9ybWFsc19uIiwiT2JqZWN0Iiwic3BsaXQiLCJwYXJzZUludCIsImdldEVkZ2VWZXJ0ZXgiLCJlZGdlSW5kZXgiLCJmaXJzdE9yU2Vjb25kIiwidmVydGV4U3RvcmUiLCJ2ZXJ0ZXhJbmRleCIsImdldEVkZ2VWZWN0b3IiLCJ2ZWN0b3JTdG9yZSIsImdldEVkZ2VWZWN0b3JfdmEiLCJnZXRFZGdlVmVjdG9yX3ZiIiwib3V0IiwiZ2V0V29ybGRWZXJ0ZXgiLCJnZXRUcmlhbmdsZVZlcnRpY2VzIiwiY2xpX2FhYmIiLCJjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCIsImNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSIsImNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiIiwiY3JlYXRlVG9ydXMiLCJ0dWJlIiwicmFkaWFsU2VnbWVudHMiLCJ0dWJ1bGFyU2VnbWVudHMiLCJhcmMiLCJTb2x2ZXIiLCJhZGRFcXVhdGlvbiIsInJlbW92ZUVxdWF0aW9uIiwicmVtb3ZlQWxsRXF1YXRpb25zIiwiR1NTb2x2ZXIiLCJpdGVyYXRpb25zIiwidG9sZXJhbmNlIiwiaXRlciIsIm1heEl0ZXIiLCJ0b2xTcXVhcmVkIiwiTmVxIiwiTmJvZGllcyIsImludkMiLCJkZWx0YWxhbWJkYVRvdCIsIkdXbGFtYmRhIiwibGFtYmRhaiIsImludkNzIiwiR1NTb2x2ZXJfc29sdmVfaW52Q3MiLCJCcyIsIkdTU29sdmVyX3NvbHZlX0JzIiwibGFtYmRhIiwiR1NTb2x2ZXJfc29sdmVfbGFtYmRhIiwiaW52RHQiLCJQb29sIiwib2JqZWN0cyIsInJlbGVhc2UiLCJhcmdzIiwiTmFyZ3MiLCJjb25zdHJ1Y3RPYmplY3QiLCJyZXNpemUiLCJzaXplIiwiVmVjM1Bvb2wiLCJDT0xMSVNJT05fVFlQRVMiLCJzcGhlcmVTcGhlcmUiLCJzcGhlcmVQbGFuZSIsImJveEJveCIsInNwaGVyZUJveCIsInBsYW5lQm94IiwiY29udmV4Q29udmV4Iiwic3BoZXJlQ29udmV4IiwicGxhbmVDb252ZXgiLCJib3hDb252ZXgiLCJzcGhlcmVIZWlnaHRmaWVsZCIsImJveEhlaWdodGZpZWxkIiwiY29udmV4SGVpZ2h0ZmllbGQiLCJzcGhlcmVQYXJ0aWNsZSIsInBsYW5lUGFydGljbGUiLCJib3hQYXJ0aWNsZSIsImNvbnZleFBhcnRpY2xlIiwic3BoZXJlVHJpbWVzaCIsInBsYW5lVHJpbWVzaCIsIk5hcnJvd3BoYXNlIiwiY29udGFjdFBvaW50UG9vbCIsImZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZnJpY3Rpb25SZXN1bHQiLCJ2M3Bvb2wiLCJjdXJyZW50Q29udGFjdE1hdGVyaWFsIiwiZGVmYXVsdENvbnRhY3RNYXRlcmlhbCIsImVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uIiwiY3JlYXRlQ29udGFjdEVxdWF0aW9uIiwic2kiLCJzaiIsIm92ZXJyaWRlU2hhcGVBIiwib3ZlcnJpZGVTaGFwZUIiLCJjbSIsIm1hdEEiLCJtYXRCIiwiY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdCIsImNvbnRhY3RFcXVhdGlvbiIsIm91dEFycmF5Iiwic2hhcGVBIiwic2hhcGVCIiwibXVnIiwiZ3Jhdml0eSIsInJlZHVjZWRNYXNzIiwicG9vbCIsImNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UiLCJudW1Db250YWN0cyIsImYxIiwiZjIiLCJhdmVyYWdlTm9ybWFsIiwiYXZlcmFnZUNvbnRhY3RQb2ludEEiLCJhdmVyYWdlQ29udGFjdFBvaW50QiIsImludk51bUNvbnRhY3RzIiwiZ2V0Q29udGFjdHMiLCJvbGRjb250YWN0cyIsImZyaWN0aW9uUG9vbCIsInRtcFF1YXQxIiwicWoiLCJ0bXBRdWF0MiIsInRtcFZlYzEkMiIsInRtcFZlYzIkMiIsImJvZHlDb250YWN0TWF0ZXJpYWwiLCJnZXRDb250YWN0TWF0ZXJpYWwiLCJqdXN0VGVzdCIsInNoYXBlQ29udGFjdE1hdGVyaWFsIiwicmVzb2x2ZXJJbmRleCIsInJlc29sdmVyIiwicmV0dmFsIiwic2hhcGVPdmVybGFwS2VlcGVyIiwiYm9keU92ZXJsYXBLZWVwZXIiLCJyc2kiLCJyc2oiLCJwb2ludF9vbl9wbGFuZV90b19zcGhlcmUiLCJwbGFuZV90b19zcGhlcmVfb3J0aG8iLCJzcGhlcmVCb3hfc2lkZXMiLCJib3hfdG9fc3BoZXJlIiwiUiIsInNpZGVfbnMiLCJzcGhlcmVCb3hfc2lkZV9ucyIsInNpZGVfbnMxIiwic3BoZXJlQm94X3NpZGVfbnMxIiwic2lkZV9uczIiLCJzcGhlcmVCb3hfc2lkZV9uczIiLCJzaWRlX2giLCJzaWRlX3BlbmV0cmF0aW9ucyIsInNpZGVfZG90MSIsInNpZGVfZG90MiIsInNpZGVfZGlzdGFuY2UiLCJuc2lkZXMiLCJucyIsInNwaGVyZUJveF9ucyIsIm5zMSIsInNwaGVyZUJveF9uczEiLCJuczIiLCJzcGhlcmVCb3hfbnMyIiwiaDEiLCJoMiIsImRvdDEiLCJkb3QyIiwic3BoZXJlX3RvX2Nvcm5lciIsInNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyIiwiZWRnZVRhbmdlbnQiLCJlZGdlQ2VudGVyIiwib3J0aG9nb25hbCIsIk5zaWRlcyIsIm9ydGhvbm9ybSIsInRkaXN0IiwibmRpc3QiLCJyZXMiLCJzZXBBeGlzIiwiY29udmV4Q29udmV4X3NlcEF4aXMiLCJjb252ZXhDb252ZXhfcSIsImNvbnZleF90b19zcGhlcmUiLCJ3b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF93b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciIsIm5mYWNlcyIsInNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCIsInNwaGVyZUNvbnZleF93b3JsZFBvaW50Iiwid29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lIiwic3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSIsInNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyIsInBlbmV0cmF0aW9uIiwid29ybGRQb2ludFRvU3BoZXJlIiwic3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCIsImZhY2VWZXJ0cyIsIk52ZXJ0cyIsIndvcmxkVmVydGV4IiwicG9pbnRJblBvbHlnb24iLCJwZW5ldHJhdGlvblZlYzIiLCJwZW5ldHJhdGlvblNwaGVyZVBvaW50IiwiTmZhY2V2ZXJ0cyIsInNwaGVyZUNvbnZleF9lZGdlIiwiZWRnZVVuaXQiLCJzcGhlcmVDb252ZXhfZWRnZVVuaXQiLCJ2MV90b194aSIsInhpX3RvX3AiLCJwbGFuZVNoYXBlIiwiY29udmV4U2hhcGUiLCJwbGFuZVBvc2l0aW9uIiwiY29udmV4UG9zaXRpb24iLCJwbGFuZVF1YXQiLCJjb252ZXhRdWF0IiwicGxhbmVCb2R5IiwiY29udmV4Qm9keSIsInBsYW5lQ29udmV4X3YiLCJwbGFuZUNvbnZleF9ub3JtYWwiLCJwbGFuZUNvbnZleF9yZWxwb3MiLCJwcm9qZWN0ZWQiLCJwbGFuZUNvbnZleF9wcm9qZWN0ZWQiLCJzcGhlcmVTaGFwZSIsImhmU2hhcGUiLCJzcGhlcmVQb3MiLCJoZlBvcyIsInNwaGVyZVF1YXQiLCJoZlF1YXQiLCJzcGhlcmVCb2R5IiwiaGZCb2R5Iiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiIsImxvY2FsU3BoZXJlUG9zIiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMSIsImNlaWwiLCJtaW5NYXgiLCJudW1Db250YWN0c0JlZm9yZSIsImludGVyc2VjdGluZyIsImNvbnZleFBvcyIsImNvbnZleEhlaWdodGZpZWxkX3RtcDIiLCJjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCIsImxvY2FsQ29udmV4UG9zIiwiY29udmV4SGVpZ2h0ZmllbGRfdG1wMSIsInBhcnRpY2xlU3BoZXJlX25vcm1hbCIsInBhcnRpY2xlUGxhbmVfbm9ybWFsIiwicGFydGljbGVQbGFuZV9yZWxwb3MiLCJwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCIsInBlbmV0cmF0ZWRGYWNlSW5kZXgiLCJwZW5ldHJhdGVkRmFjZU5vcm1hbCIsImNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsIiwid29ybGRQZW5ldHJhdGlvblZlYyIsImNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWMiLCJtaW5QZW5ldHJhdGlvbiIsImxvY2FsIiwiY29udmV4UGFydGljbGVfbG9jYWwiLCJjcWoiLCJjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlIiwidHJpbWVzaFNoYXBlIiwidHJpbWVzaFBvcyIsInRyaW1lc2hRdWF0IiwidHJpbWVzaEJvZHkiLCJlZGdlVmVydGV4QSIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEiLCJlZGdlVmVydGV4QiIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEIiLCJlZGdlVmVjdG9yIiwic3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yIiwiZWRnZVZlY3RvclVuaXQiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0Iiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvcyIsInNwaGVyZVRyaW1lc2hfdG1wIiwibG9jYWxTcGhlcmVBQUJCIiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIiLCJzcGhlcmVUcmltZXNoX3YyIiwic3BoZXJlVHJpbWVzaF9yZWxwb3MiLCJzcGhlcmVUcmltZXNoX3RyaWFuZ2xlcyIsInNwaGVyZVJhZGl1cyIsInNwaGVyZVRyaW1lc2hfdiIsInJhZGl1c1NxdWFyZWQiLCJwb3NpdGlvbkFsb25nRWRnZUIiLCJwb3NpdGlvbkFsb25nRWRnZUEiLCJzcGhlcmVUcmltZXNoX3ZhIiwic3BoZXJlVHJpbWVzaF92YiIsInNwaGVyZVRyaW1lc2hfdmMiLCJzcGhlcmVUcmltZXNoX25vcm1hbCIsInBsYW5lUG9zIiwicGxhbmVUcmltZXNoX25vcm1hbCIsInBsYW5lVHJpbWVzaF9yZWxwb3MiLCJwbGFuZVRyaW1lc2hfcHJvamVjdGVkIiwicG9pbnRJblBvbHlnb25fZWRnZSIsInBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwiLCJwb2ludEluUG9seWdvbl92dHAiLCJwb3NpdGl2ZVJlc3VsdCIsImVkZ2VfeF9ub3JtYWwiLCJ2ZXJ0ZXhfdG9fcCIsIk92ZXJsYXBLZWVwZXIiLCJjdXJyZW50IiwicHJldmlvdXMiLCJnZXRLZXkiLCJ0aWNrIiwiZ2V0RGlmZiIsImFkZGl0aW9ucyIsInJlbW92YWxzIiwiYWwiLCJibCIsImtleUEiLCJ1bnBhY2tBbmRQdXNoIiwia2V5QiIsImFycmF5IiwiVHVwbGVEaWN0aW9uYXJ5IiwiV29ybGQiLCJjb250YWN0cyIsImZyaWN0aW9uRXF1YXRpb25zIiwicXVhdE5vcm1hbGl6ZVNraXAiLCJzdGVwbnVtYmVyIiwiZGVmYXVsdF9kdCIsIm5leHRJZCIsImhhc0FjdGl2ZUJvZGllcyIsInNvbHZlciIsIm5hcnJvd3BoYXNlIiwiY29sbGlzaW9uTWF0cml4IiwiY29sbGlzaW9uTWF0cml4UHJldmlvdXMiLCJjb250YWN0bWF0ZXJpYWxzIiwiY29udGFjdE1hdGVyaWFsVGFibGUiLCJkZWZhdWx0TWF0ZXJpYWwiLCJkb1Byb2ZpbGluZyIsInByb2ZpbGUiLCJtYWtlQ29udGFjdENvbnN0cmFpbnRzIiwiYWNjdW11bGF0b3IiLCJzdWJzeXN0ZW1zIiwiYWRkQm9keUV2ZW50IiwicmVtb3ZlQm9keUV2ZW50IiwiaWRUb0JvZHlNYXAiLCJudW1PYmplY3RzIiwiY29sbGlzaW9uTWF0cml4VGljayIsImFkZENvbnN0cmFpbnQiLCJyZW1vdmVDb25zdHJhaW50IiwicmF5Y2FzdENsb3Nlc3QiLCJyYXljYXN0QWxsIiwidG1wUmF5JDEiLCJyYXljYXN0QW55IiwiZ2V0Qm9keUJ5SWQiLCJnZXRTaGFwZUJ5SWQiLCJzbCIsImFkZE1hdGVyaWFsIiwiYWRkQ29udGFjdE1hdGVyaWFsIiwiY21hdCIsInN0ZXAiLCJ0aW1lU2luY2VMYXN0Q2FsbGVkIiwibWF4U3ViU3RlcHMiLCJpbnRlcm5hbFN0ZXAiLCJ0MCIsInBlcmZvcm1hbmNlIiwibm93Iiwic3Vic3RlcHMiLCJXb3JsZF9zdGVwX3AxIiwiV29ybGRfc3RlcF9wMiIsInByb2ZpbGluZ1N0YXJ0IiwiV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCIsImdub3JtIiwiZ3giLCJneSIsImd6IiwiTnN1YnN5c3RlbXMiLCJOY29uc3RyYWludHMiLCJXb3JsZF9zdGVwX29sZENvbnRhY3RzIiwiTm9sZENvbnRhY3RzIiwiTm9sZEZyaWN0aW9uRXF1YXRpb25zIiwibmNvbnRhY3RzIiwibXUiLCJzcGVlZFNxdWFyZWRCIiwic3BlZWRMaW1pdFNxdWFyZWRCIiwic3BlZWRTcXVhcmVkQSIsInNwZWVkTGltaXRTcXVhcmVkQSIsIldvcmxkX3N0ZXBfY29sbGlkZUV2ZW50IiwiY29udGFjdCIsImVtaXRDb250YWN0RXZlbnRzIiwibGQiLCJhdiIsImFkIiwiV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQiLCJjbGVhckZvcmNlcyIsIldvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCIsInRhdSIsInRtcEFBQkIxIiwiZ2xvYmFsVGhpcyIsIm5vd09mZnNldCIsIkRhdGUiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJiZWdpbkNvbnRhY3RFdmVudCIsImVuZENvbnRhY3RFdmVudCIsImJlZ2luU2hhcGVDb250YWN0RXZlbnQiLCJlbmRTaGFwZUNvbnRhY3RFdmVudCIsImhhc0JlZ2luQ29udGFjdCIsImhhc0VuZENvbnRhY3QiLCJoYXNCZWdpblNoYXBlQ29udGFjdCIsImhhc0VuZFNoYXBlQ29udGFjdCIsInZlaGljbGVzIiwic3ByaW5ncyIsInJheXMiLCJjb25maWciLCJzdWJzY3JpcHRpb25zIiwidGVtcFZlY3RvciIsImNyZWF0ZVNoYXBlIiwibWFwIiwic3luY0JvZGllcyIsInNlbGYiLCJwb3N0TWVzc2FnZSIsIm9wIiwidXVpZCIsInJlZHVjZSIsImFjYyIsIm9ubWVzc2FnZSIsInBvc2l0aW9ucyIsInF1YXRlcm5pb25zIiwiYnJvYWRwaGFzZXMiLCJhc3NpZ24iLCJudW1iZXJPZkJvZGllcyIsIm9ic2VydmF0aW9ucyIsImFjdGl2ZSIsImJ1ZmZlciIsImJvZHlUeXBlIiwib25Db2xsaWRlIiwiZXh0cmEiLCJ0b1VwcGVyQ2FzZSIsImZvckVhY2giLCJzaGFwZUJvZHkiLCJpbXBhY3RWZWxvY2l0eSIsImNvbGxpc2lvbkZpbHRlcnMiLCJib2R5RmlsdGVyR3JvdXAiLCJib2R5RmlsdGVyTWFzayIsInRhcmdldEZpbHRlckdyb3VwIiwidGFyZ2V0RmlsdGVyTWFzayIsIm9wdG5zIiwiaXNBcnJheSIsImNvbnN0cmFpbnQiLCJmaWx0ZXIiLCJ0aGlzSWQiLCJzcHJpbmciLCJwb3N0U3RlcFNwcmluZyIsInJlc3QiLCJ3aGVlbHMiLCJ2ZWhpY2xlIiwid2hlZWxJbmZvIiwid2hlZWxCb2R5Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxNQUFNQSxJQUFOLENBQVc7QUFDVEMsRUFBQUEsV0FBVyxDQUFDQyxRQUFRLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixDQUF6QixDQUFaLEVBQXlDO0FBQ2xELFNBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdFQyxFQUFBQSxRQUFRLEdBQUc7QUFDVCxVQUFNQyxDQUFDLEdBQUcsS0FBS0YsUUFBZjtBQUNBRSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNEO0FBQ0Q7QUFDRjtBQUNBO0FBQ0E7OztBQUdFQyxFQUFBQSxPQUFPLEdBQUc7QUFDUixVQUFNRCxDQUFDLEdBQUcsS0FBS0YsUUFBZjtBQUNBRSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNEO0FBQ0Q7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0VFLEVBQUFBLFFBQVEsQ0FBQ0MsTUFBRCxFQUFTO0FBQ2YsVUFBTUgsQ0FBQyxHQUFHLEtBQUtGLFFBQWY7QUFDQUUsSUFBQUEsQ0FBQyxDQUFDLENBQUQsQ0FB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QUwsQ0FBUyxDQUFULElBQWMsQ0FBZDtBQUNBQSxNQUFBQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxJQUFjLENBQWQsQ0FoQks7O0FBa0JMQSxNQUFBQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxJQUFjLENBQWQ7QUFDQUEsTUFBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTLENBQVQsSUFBYyxDQUFkO0FBQ0FBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZCxDQXBCSzs7QUFzQkxBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZDtBQUNBQSxNQUFBQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxJQUFjLENBQWQ7QUFDQUEsTUFBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTLENBQVQsSUFBYyxDQUFkO0FBQ0FBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZCxDQXpCSzs7QUEyQkxBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZDtBQUNBQSxNQUFBQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxJQUFjLENBQWQ7QUFDQUEsTUFBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTLENBQVQsSUFBYyxDQUFkO0FBQ0FBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZCxDQTlCSzs7QUFnQ0xBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZDtBQUNBQSxNQUFBQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxJQUFjLENBQWQ7QUFDQUEsTUFBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTLENBQVQsSUFBYyxDQUFkO0FBQ0FBLE1BQUFBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxDQUFULElBQWMsQ0FBZDtBQUNEOztBQUVEWixJ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',
  false
)
/* eslint-enable */

function Provider({
  children,
  step = 1 / 60,
  gravity = [0, -10, 0],
  tolerance = 0.001,
  iterations = 5,
  allowSleep = false,
  broadphase = 'Naive',
  axisIndex = 0,
  defaultContactMaterial = {
    contactEquationStiffness: 1e6,
  },
  size = 1000,
}) {
  const { invalidate } = useThree()
  const [worker] = useState(() => new WorkerFactory())
  const [refs] = useState({})
  const [buffers] = useState(() => ({
    positions: new Float32Array(size * 3),
    quaternions: new Float32Array(size * 4),
  }))
  const [events] = useState({})
  const [subscriptions] = useState({})
  const bodies = useRef({})
  useEffect(() => {
    worker.postMessage({
      op: 'init',
      props: {
        gravity,
        tolerance,
        step,
        iterations,
        broadphase,
        allowSleep,
        axisIndex,
        defaultContactMaterial,
      },
    })

    function loop() {
      worker.postMessage(
        {
          op: 'step',
          ...buffers,
        },
        [buffers.positions.buffer, buffers.quaternions.buffer]
      )
    }

    worker.onmessage = (e) => {
      switch (e.data.op) {
        case 'frame':
          buffers.positions = e.data.positions
          buffers.quaternions = e.data.quaternions
          e.data.observations.forEach(([id, value]) => subscriptions[id](value))
          requestAnimationFrame(loop)
          if (e.data.active) invalidate()
          break

        case 'sync':
          bodies.current = e.data.bodies.reduce(
            (acc, id) => ({ ...acc, [id]: e.data.bodies.indexOf(id) }),
            {}
          )
          break

        case 'event':
          switch (e.data.type) {
            case 'collide':
              events[e.data.target]({ ...e.data, target: refs[e.data.target], body: refs[e.data.body] })
              break

            case 'rayhit':
              events[e.data.ray.uuid]({ ...e.data, body: e.data.body ? refs[e.data.body] : null })
              break
          }

          break
      }
    }

    loop()
    return () => worker.terminate()
  }, [])
  const api = useMemo(
    () => ({
      worker,
      bodies,
      refs,
      buffers,
      events,
      subscriptions,
    }),
    [worker, bodies, refs, buffers, events, subscriptions]
  )
  return /*#__PURE__*/ React.createElement(
    context.Provider,
    {
      value: api,
    },
    children
  )
}

export default Provider
